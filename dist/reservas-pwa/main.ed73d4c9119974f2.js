"use strict";(self.webpackChunkReservas_pwa=self.webpackChunkReservas_pwa||[]).push([[179],{277:()=>{function me(n){return"function"==typeof n}function Qu(n){const t=n(r=>{Error.call(r),r.stack=(new Error).stack});return t.prototype=Object.create(Error.prototype),t.prototype.constructor=t,t}const Ld=Qu(n=>function(t){n(this),this.message=t?`${t.length} errors occurred during unsubscription:\n${t.map((r,i)=>`${i+1}) ${r.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=t});function ta(n,e){if(n){const t=n.indexOf(e);0<=t&&n.splice(t,1)}}class $n{constructor(e){this.initialTeardown=e,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let e;if(!this.closed){this.closed=!0;const{_parentage:t}=this;if(t)if(this._parentage=null,Array.isArray(t))for(const s of t)s.remove(this);else t.remove(this);const{initialTeardown:r}=this;if(me(r))try{r()}catch(s){e=s instanceof Ld?s.errors:[s]}const{_finalizers:i}=this;if(i){this._finalizers=null;for(const s of i)try{FS(s)}catch(o){e=e??[],o instanceof Ld?e=[...e,...o.errors]:e.push(o)}}if(e)throw new Ld(e)}}add(e){var t;if(e&&e!==this)if(this.closed)FS(e);else{if(e instanceof $n){if(e.closed||e._hasParent(this))return;e._addParent(this)}(this._finalizers=null!==(t=this._finalizers)&&void 0!==t?t:[]).push(e)}}_hasParent(e){const{_parentage:t}=this;return t===e||Array.isArray(t)&&t.includes(e)}_addParent(e){const{_parentage:t}=this;this._parentage=Array.isArray(t)?(t.push(e),t):t?[t,e]:e}_removeParent(e){const{_parentage:t}=this;t===e?this._parentage=null:Array.isArray(t)&&ta(t,e)}remove(e){const{_finalizers:t}=this;t&&ta(t,e),e instanceof $n&&e._removeParent(this)}}$n.EMPTY=(()=>{const n=new $n;return n.closed=!0,n})();const PS=$n.EMPTY;function OS(n){return n instanceof $n||n&&"closed"in n&&me(n.remove)&&me(n.add)&&me(n.unsubscribe)}function FS(n){me(n)?n():n.unsubscribe()}const Us={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1},Vd={setTimeout(n,e,...t){const{delegate:r}=Vd;return r?.setTimeout?r.setTimeout(n,e,...t):setTimeout(n,e,...t)},clearTimeout(n){const{delegate:e}=Vd;return(e?.clearTimeout||clearTimeout)(n)},delegate:void 0};function LS(n){Vd.setTimeout(()=>{const{onUnhandledError:e}=Us;if(!e)throw n;e(n)})}function Ud(){}const OH=vm("C",void 0,void 0);function vm(n,e,t){return{kind:n,value:e,error:t}}let Bs=null;function Bd(n){if(Us.useDeprecatedSynchronousErrorHandling){const e=!Bs;if(e&&(Bs={errorThrown:!1,error:null}),n(),e){const{errorThrown:t,error:r}=Bs;if(Bs=null,t)throw r}}else n()}class wm extends $n{constructor(e){super(),this.isStopped=!1,e?(this.destination=e,OS(e)&&e.add(this)):this.destination=jH}static create(e,t,r){return new Yu(e,t,r)}next(e){this.isStopped?Im(function LH(n){return vm("N",n,void 0)}(e),this):this._next(e)}error(e){this.isStopped?Im(function FH(n){return vm("E",void 0,n)}(e),this):(this.isStopped=!0,this._error(e))}complete(){this.isStopped?Im(OH,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(e){this.destination.next(e)}_error(e){try{this.destination.error(e)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}}const UH=Function.prototype.bind;function Em(n,e){return UH.call(n,e)}class BH{constructor(e){this.partialObserver=e}next(e){const{partialObserver:t}=this;if(t.next)try{t.next(e)}catch(r){$d(r)}}error(e){const{partialObserver:t}=this;if(t.error)try{t.error(e)}catch(r){$d(r)}else $d(e)}complete(){const{partialObserver:e}=this;if(e.complete)try{e.complete()}catch(t){$d(t)}}}class Yu extends wm{constructor(e,t,r){let i;if(super(),me(e)||!e)i={next:e??void 0,error:t??void 0,complete:r??void 0};else{let s;this&&Us.useDeprecatedNextContext?(s=Object.create(e),s.unsubscribe=()=>this.unsubscribe(),i={next:e.next&&Em(e.next,s),error:e.error&&Em(e.error,s),complete:e.complete&&Em(e.complete,s)}):i=e}this.destination=new BH(i)}}function $d(n){Us.useDeprecatedSynchronousErrorHandling?function VH(n){Us.useDeprecatedSynchronousErrorHandling&&Bs&&(Bs.errorThrown=!0,Bs.error=n)}(n):LS(n)}function Im(n,e){const{onStoppedNotification:t}=Us;t&&Vd.setTimeout(()=>t(n,e))}const jH={closed:!0,next:Ud,error:function $H(n){throw n},complete:Ud},bm="function"==typeof Symbol&&Symbol.observable||"@@observable";function $s(n){return n}function VS(n){return 0===n.length?$s:1===n.length?n[0]:function(t){return n.reduce((r,i)=>i(r),t)}}let Ae=(()=>{class n{constructor(t){t&&(this._subscribe=t)}lift(t){const r=new n;return r.source=this,r.operator=t,r}subscribe(t,r,i){const s=function qH(n){return n&&n instanceof wm||function GH(n){return n&&me(n.next)&&me(n.error)&&me(n.complete)}(n)&&OS(n)}(t)?t:new Yu(t,r,i);return Bd(()=>{const{operator:o,source:a}=this;s.add(o?o.call(s,a):a?this._subscribe(s):this._trySubscribe(s))}),s}_trySubscribe(t){try{return this._subscribe(t)}catch(r){t.error(r)}}forEach(t,r){return new(r=US(r))((i,s)=>{const o=new Yu({next:a=>{try{t(a)}catch(u){s(u),o.unsubscribe()}},error:s,complete:i});this.subscribe(o)})}_subscribe(t){var r;return null===(r=this.source)||void 0===r?void 0:r.subscribe(t)}[bm](){return this}pipe(...t){return VS(t)(this)}toPromise(t){return new(t=US(t))((r,i)=>{let s;this.subscribe(o=>s=o,o=>i(o),()=>r(s))})}}return n.create=e=>new n(e),n})();function US(n){var e;return null!==(e=n??Us.Promise)&&void 0!==e?e:Promise}const zH=Qu(n=>function(){n(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});let Xe=(()=>{class n extends Ae{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(t){const r=new BS(this,this);return r.operator=t,r}_throwIfClosed(){if(this.closed)throw new zH}next(t){Bd(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(const r of this.currentObservers)r.next(t)}})}error(t){Bd(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=t;const{observers:r}=this;for(;r.length;)r.shift().error(t)}})}complete(){Bd(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;const{observers:t}=this;for(;t.length;)t.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var t;return(null===(t=this.observers)||void 0===t?void 0:t.length)>0}_trySubscribe(t){return this._throwIfClosed(),super._trySubscribe(t)}_subscribe(t){return this._throwIfClosed(),this._checkFinalizedStatuses(t),this._innerSubscribe(t)}_innerSubscribe(t){const{hasError:r,isStopped:i,observers:s}=this;return r||i?PS:(this.currentObservers=null,s.push(t),new $n(()=>{this.currentObservers=null,ta(s,t)}))}_checkFinalizedStatuses(t){const{hasError:r,thrownError:i,isStopped:s}=this;r?t.error(i):s&&t.complete()}asObservable(){const t=new Ae;return t.source=this,t}}return n.create=(e,t)=>new BS(e,t),n})();class BS extends Xe{constructor(e,t){super(),this.destination=e,this.source=t}next(e){var t,r;null===(r=null===(t=this.destination)||void 0===t?void 0:t.next)||void 0===r||r.call(t,e)}error(e){var t,r;null===(r=null===(t=this.destination)||void 0===t?void 0:t.error)||void 0===r||r.call(t,e)}complete(){var e,t;null===(t=null===(e=this.destination)||void 0===e?void 0:e.complete)||void 0===t||t.call(e)}_subscribe(e){var t,r;return null!==(r=null===(t=this.source)||void 0===t?void 0:t.subscribe(e))&&void 0!==r?r:PS}}function $S(n){return me(n?.lift)}function lt(n){return e=>{if($S(e))return e.lift(function(t){try{return n(t,this)}catch(r){this.error(r)}});throw new TypeError("Unable to lift unknown Observable type")}}function ct(n,e,t,r,i){return new WH(n,e,t,r,i)}class WH extends wm{constructor(e,t,r,i,s,o){super(e),this.onFinalize=s,this.shouldUnsubscribe=o,this._next=t?function(a){try{t(a)}catch(u){e.error(u)}}:super._next,this._error=i?function(a){try{i(a)}catch(u){e.error(u)}finally{this.unsubscribe()}}:super._error,this._complete=r?function(){try{r()}catch(a){e.error(a)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var e;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){const{closed:t}=this;super.unsubscribe(),!t&&(null===(e=this.onFinalize)||void 0===e||e.call(this))}}}function Z(n,e){return lt((t,r)=>{let i=0;t.subscribe(ct(r,s=>{r.next(n.call(e,s,i++))}))})}function HS(n,e){var t={};for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&e.indexOf(r)<0&&(t[r]=n[r]);if(null!=n&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(n);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(n,r[i])&&(t[r[i]]=n[r[i]])}return t}function js(n){return this instanceof js?(this.v=n,this):new js(n)}function YH(n,e,t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var i,r=t.apply(n,e||[]),s=[];return i={},o("next"),o("throw"),o("return"),i[Symbol.asyncIterator]=function(){return this},i;function o(h){r[h]&&(i[h]=function(f){return new Promise(function(p,g){s.push([h,f,p,g])>1||a(h,f)})})}function a(h,f){try{!function u(h){h.value instanceof js?Promise.resolve(h.value.v).then(l,c):d(s[0][2],h)}(r[h](f))}catch(p){d(s[0][3],p)}}function l(h){a("next",h)}function c(h){a("throw",h)}function d(h,f){h(f),s.shift(),s.length&&a(s[0][0],s[0][1])}}function JH(n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var t,e=n[Symbol.asyncIterator];return e?e.call(n):(n=function qS(n){var e="function"==typeof Symbol&&Symbol.iterator,t=e&&n[e],r=0;if(t)return t.call(n);if(n&&"number"==typeof n.length)return{next:function(){return n&&r>=n.length&&(n=void 0),{value:n&&n[r++],done:!n}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}(n),t={},r("next"),r("throw"),r("return"),t[Symbol.asyncIterator]=function(){return this},t);function r(s){t[s]=n[s]&&function(o){return new Promise(function(a,u){!function i(s,o,a,u){Promise.resolve(u).then(function(l){s({value:l,done:a})},o)}(a,u,(o=n[s](o)).done,o.value)})}}}const Cm=n=>n&&"number"==typeof n.length&&"function"!=typeof n;function zS(n){return me(n?.then)}function WS(n){return me(n[bm])}function KS(n){return Symbol.asyncIterator&&me(n?.[Symbol.asyncIterator])}function QS(n){return new TypeError(`You provided ${null!==n&&"object"==typeof n?"an invalid object":`'${n}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}const YS=function XH(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}();function JS(n){return me(n?.[YS])}function ZS(n){return YH(this,arguments,function*(){const t=n.getReader();try{for(;;){const{value:r,done:i}=yield js(t.read());if(i)return yield js(void 0);yield yield js(r)}}finally{t.releaseLock()}})}function XS(n){return me(n?.getReader)}function jn(n){if(n instanceof Ae)return n;if(null!=n){if(WS(n))return function eG(n){return new Ae(e=>{const t=n[bm]();if(me(t.subscribe))return t.subscribe(e);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}(n);if(Cm(n))return function tG(n){return new Ae(e=>{for(let t=0;t<n.length&&!e.closed;t++)e.next(n[t]);e.complete()})}(n);if(zS(n))return function nG(n){return new Ae(e=>{n.then(t=>{e.closed||(e.next(t),e.complete())},t=>e.error(t)).then(null,LS)})}(n);if(KS(n))return eA(n);if(JS(n))return function rG(n){return new Ae(e=>{for(const t of n)if(e.next(t),e.closed)return;e.complete()})}(n);if(XS(n))return function iG(n){return eA(ZS(n))}(n)}throw QS(n)}function eA(n){return new Ae(e=>{(function sG(n,e){var t,r,i,s;return function KH(n,e,t,r){return new(t||(t=Promise))(function(s,o){function a(c){try{l(r.next(c))}catch(d){o(d)}}function u(c){try{l(r.throw(c))}catch(d){o(d)}}function l(c){c.done?s(c.value):function i(s){return s instanceof t?s:new t(function(o){o(s)})}(c.value).then(a,u)}l((r=r.apply(n,e||[])).next())})}(this,void 0,void 0,function*(){try{for(t=JH(n);!(r=yield t.next()).done;)if(e.next(r.value),e.closed)return}catch(o){i={error:o}}finally{try{r&&!r.done&&(s=t.return)&&(yield s.call(t))}finally{if(i)throw i.error}}e.complete()})})(n,e).catch(t=>e.error(t))})}function hi(n,e,t,r=0,i=!1){const s=e.schedule(function(){t(),i?n.add(this.schedule(null,r)):this.unsubscribe()},r);if(n.add(s),!i)return s}function _t(n,e,t=1/0){return me(e)?_t((r,i)=>Z((s,o)=>e(r,s,i,o))(jn(n(r,i))),t):("number"==typeof e&&(t=e),lt((r,i)=>function oG(n,e,t,r,i,s,o,a){const u=[];let l=0,c=0,d=!1;const h=()=>{d&&!u.length&&!l&&e.complete()},f=g=>l<r?p(g):u.push(g),p=g=>{s&&e.next(g),l++;let m=!1;jn(t(g,c++)).subscribe(ct(e,_=>{i?.(_),s?f(_):e.next(_)},()=>{m=!0},void 0,()=>{if(m)try{for(l--;u.length&&l<r;){const _=u.shift();o?hi(e,o,()=>p(_)):p(_)}h()}catch(_){e.error(_)}}))};return n.subscribe(ct(e,f,()=>{d=!0,h()})),()=>{a?.()}}(r,i,n,t)))}function na(n=1/0){return _t($s,n)}const fi=new Ae(n=>n.complete());function tA(n){return n&&me(n.schedule)}function Dm(n){return n[n.length-1]}function nA(n){return me(Dm(n))?n.pop():void 0}function Ju(n){return tA(Dm(n))?n.pop():void 0}function jd(n,e=0){return lt((t,r)=>{t.subscribe(ct(r,i=>hi(r,n,()=>r.next(i),e),()=>hi(r,n,()=>r.complete(),e),i=>hi(r,n,()=>r.error(i),e)))})}function Hd(n,e=0){return lt((t,r)=>{r.add(n.schedule(()=>t.subscribe(r),e))})}function rA(n,e){if(!n)throw new Error("Iterable cannot be null");return new Ae(t=>{hi(t,e,()=>{const r=n[Symbol.asyncIterator]();hi(t,e,()=>{r.next().then(i=>{i.done?t.complete():t.next(i.value)})},0,!0)})})}function dt(n,e){return e?function pG(n,e){if(null!=n){if(WS(n))return function lG(n,e){return jn(n).pipe(Hd(e),jd(e))}(n,e);if(Cm(n))return function dG(n,e){return new Ae(t=>{let r=0;return e.schedule(function(){r===n.length?t.complete():(t.next(n[r++]),t.closed||this.schedule())})})}(n,e);if(zS(n))return function cG(n,e){return jn(n).pipe(Hd(e),jd(e))}(n,e);if(KS(n))return rA(n,e);if(JS(n))return function hG(n,e){return new Ae(t=>{let r;return hi(t,e,()=>{r=n[YS](),hi(t,e,()=>{let i,s;try{({value:i,done:s}=r.next())}catch(o){return void t.error(o)}s?t.complete():t.next(i)},0,!0)}),()=>me(r?.return)&&r.return()})}(n,e);if(XS(n))return function fG(n,e){return rA(ZS(n),e)}(n,e)}throw QS(n)}(n,e):jn(n)}function Sm(...n){const e=Ju(n),t=function uG(n,e){return"number"==typeof Dm(n)?n.pop():e}(n,1/0),r=n;return r.length?1===r.length?jn(r[0]):na(t)(dt(r,e)):fi}function Am(n,e,...t){if(!0===e)return void n();if(!1===e)return;const r=new Yu({next:()=>{r.unsubscribe(),n()}});return e(...t).subscribe(r)}function xe(n){for(let e in n)if(n[e]===xe)return e;throw Error("Could not find renamed property on target object.")}function Mm(n,e){for(const t in e)e.hasOwnProperty(t)&&!n.hasOwnProperty(t)&&(n[t]=e[t])}function Ne(n){if("string"==typeof n)return n;if(Array.isArray(n))return"["+n.map(Ne).join(", ")+"]";if(null==n)return""+n;if(n.overriddenName)return`${n.overriddenName}`;if(n.name)return`${n.name}`;const e=n.toString();if(null==e)return""+e;const t=e.indexOf("\n");return-1===t?e:e.substring(0,t)}function xm(n,e){return null==n||""===n?null===e?"":e:null==e||""===e?n:n+" "+e}const mG=xe({__forward_ref__:xe});function Oe(n){return n.__forward_ref__=Oe,n.toString=function(){return Ne(this())},n}function X(n){return Nm(n)?n():n}function Nm(n){return"function"==typeof n&&n.hasOwnProperty(mG)&&n.__forward_ref__===Oe}class T extends Error{constructor(e,t){super(function Gd(n,e){return`NG0${Math.abs(n)}${e?": "+e.trim():""}`}(e,t)),this.code=e}}function se(n){return"string"==typeof n?n:null==n?"":String(n)}function qd(n,e){throw new T(-201,!1)}function Gn(n,e){null==n&&function Ce(n,e,t,r){throw new Error(`ASSERTION ERROR: ${n}`+(null==r?"":` [Expected=> ${t} ${r} ${e} <=Actual]`))}(e,n,null,"!=")}function U(n){return{token:n.token,providedIn:n.providedIn||null,factory:n.factory,value:void 0}}function vt(n){return{providers:n.providers||[],imports:n.imports||[]}}function zd(n){return iA(n,Wd)||iA(n,oA)}function iA(n,e){return n.hasOwnProperty(e)?n[e]:null}function sA(n){return n&&(n.hasOwnProperty(km)||n.hasOwnProperty(CG))?n[km]:null}const Wd=xe({\u0275prov:xe}),km=xe({\u0275inj:xe}),oA=xe({ngInjectableDef:xe}),CG=xe({ngInjectorDef:xe});var K=(()=>((K=K||{})[K.Default=0]="Default",K[K.Host=1]="Host",K[K.Self=2]="Self",K[K.SkipSelf=4]="SkipSelf",K[K.Optional=8]="Optional",K))();let Rm;function hr(n){const e=Rm;return Rm=n,e}function aA(n,e,t){const r=zd(n);return r&&"root"==r.providedIn?void 0===r.value?r.value=r.factory():r.value:t&K.Optional?null:void 0!==e?e:void qd(Ne(n))}function Yi(n){return{toString:n}.toString()}var Dr=(()=>((Dr=Dr||{})[Dr.OnPush=0]="OnPush",Dr[Dr.Default=1]="Default",Dr))(),Sr=(()=>{return(n=Sr||(Sr={}))[n.Emulated=0]="Emulated",n[n.None=2]="None",n[n.ShadowDom=3]="ShadowDom",Sr;var n})();const ke=(()=>typeof globalThis<"u"&&globalThis||typeof global<"u"&&global||typeof window<"u"&&window||typeof self<"u"&&typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&self)(),ra={},Te=[],Kd=xe({\u0275cmp:xe}),Pm=xe({\u0275dir:xe}),Om=xe({\u0275pipe:xe}),uA=xe({\u0275mod:xe}),gi=xe({\u0275fac:xe}),Zu=xe({__NG_ELEMENT_ID__:xe});let SG=0;function qn(n){return Yi(()=>{const t=!0===n.standalone,r={},i={type:n.type,providersResolver:null,decls:n.decls,vars:n.vars,factory:null,template:n.template||null,consts:n.consts||null,ngContentSelectors:n.ngContentSelectors,hostBindings:n.hostBindings||null,hostVars:n.hostVars||0,hostAttrs:n.hostAttrs||null,contentQueries:n.contentQueries||null,declaredInputs:r,inputs:null,outputs:null,exportAs:n.exportAs||null,onPush:n.changeDetection===Dr.OnPush,directiveDefs:null,pipeDefs:null,standalone:t,dependencies:t&&n.dependencies||null,getStandaloneInjector:null,selectors:n.selectors||Te,viewQuery:n.viewQuery||null,features:n.features||null,data:n.data||{},encapsulation:n.encapsulation||Sr.Emulated,id:"c"+SG++,styles:n.styles||Te,_:null,setInput:null,schemas:n.schemas||null,tView:null},s=n.dependencies,o=n.features;return i.inputs=dA(n.inputs,r),i.outputs=dA(n.outputs),o&&o.forEach(a=>a(i)),i.directiveDefs=s?()=>("function"==typeof s?s():s).map(lA).filter(cA):null,i.pipeDefs=s?()=>("function"==typeof s?s():s).map(pn).filter(cA):null,i})}function lA(n){return De(n)||fn(n)}function cA(n){return null!==n}function Nt(n){return Yi(()=>({type:n.type,bootstrap:n.bootstrap||Te,declarations:n.declarations||Te,imports:n.imports||Te,exports:n.exports||Te,transitiveCompileScopes:null,schemas:n.schemas||null,id:n.id||null}))}function dA(n,e){if(null==n)return ra;const t={};for(const r in n)if(n.hasOwnProperty(r)){let i=n[r],s=i;Array.isArray(i)&&(s=i[1],i=i[0]),t[i]=r,e&&(e[i]=s)}return t}const ee=qn;function An(n){return{type:n.type,name:n.name,factory:null,pure:!1!==n.pure,standalone:!0===n.standalone,onDestroy:n.type.prototype.ngOnDestroy||null}}function De(n){return n[Kd]||null}function fn(n){return n[Pm]||null}function pn(n){return n[Om]||null}function zn(n,e){const t=n[uA]||null;if(!t&&!0===e)throw new Error(`Type ${Ne(n)} does not have '\u0275mod' property.`);return t}function Mn(n){return Array.isArray(n)&&"object"==typeof n[1]}function Mr(n){return Array.isArray(n)&&!0===n[1]}function Vm(n){return 0!=(8&n.flags)}function Zd(n){return 2==(2&n.flags)}function Xd(n){return 1==(1&n.flags)}function xr(n){return null!==n.template}function RG(n){return 0!=(256&n[2])}function Ws(n,e){return n.hasOwnProperty(gi)?n[gi]:null}class FG{constructor(e,t,r){this.previousValue=e,this.currentValue=t,this.firstChange=r}isFirstChange(){return this.firstChange}}function pr(){return pA}function pA(n){return n.type.prototype.ngOnChanges&&(n.setInput=VG),LG}function LG(){const n=mA(this),e=n?.current;if(e){const t=n.previous;if(t===ra)n.previous=e;else for(let r in e)t[r]=e[r];n.current=null,this.ngOnChanges(e)}}function VG(n,e,t,r){const i=mA(n)||function UG(n,e){return n[gA]=e}(n,{previous:ra,current:null}),s=i.current||(i.current={}),o=i.previous,a=this.declaredInputs[t],u=o[a];s[a]=new FG(u&&u.currentValue,e,o===ra),n[r]=e}pr.ngInherit=!0;const gA="__ngSimpleChanges__";function mA(n){return n[gA]||null}function ht(n){for(;Array.isArray(n);)n=n[0];return n}function eh(n,e){return ht(e[n])}function mr(n,e){return ht(e[n.index])}function Hm(n,e){return n.data[e]}function Kn(n,e){const t=e[n];return Mn(t)?t:t[0]}function th(n){return 64==(64&n[2])}function Ji(n,e){return null==e?null:n[e]}function _A(n){n[18]=0}function Gm(n,e){n[5]+=e;let t=n,r=n[3];for(;null!==r&&(1===e&&1===t[5]||-1===e&&0===t[5]);)r[5]+=e,t=r,r=r[3]}const ne={lFrame:SA(null),bindingsEnabled:!0};function wA(){return ne.bindingsEnabled}function D(){return ne.lFrame.lView}function ye(){return ne.lFrame.tView}function qm(n){return ne.lFrame.contextLView=n,n[8]}function zm(n){return ne.lFrame.contextLView=null,n}function wt(){let n=EA();for(;null!==n&&64===n.type;)n=n.parent;return n}function EA(){return ne.lFrame.currentTNode}function Gr(n,e){const t=ne.lFrame;t.currentTNode=n,t.isParent=e}function Wm(){return ne.lFrame.isParent}function Km(){ne.lFrame.isParent=!1}function ca(){return ne.lFrame.bindingIndex++}function yi(n){const e=ne.lFrame,t=e.bindingIndex;return e.bindingIndex=e.bindingIndex+n,t}function XG(n,e){const t=ne.lFrame;t.bindingIndex=t.bindingRootIndex=n,Qm(e)}function Qm(n){ne.lFrame.currentDirectiveIndex=n}function Ym(n){const e=ne.lFrame.currentDirectiveIndex;return-1===e?null:n[e]}function Jm(n){ne.lFrame.currentQueryIndex=n}function tq(n){const e=n[1];return 2===e.type?e.declTNode:1===e.type?n[6]:null}function CA(n,e,t){if(t&K.SkipSelf){let i=e,s=n;for(;!(i=i.parent,null!==i||t&K.Host||(i=tq(s),null===i||(s=s[15],10&i.type))););if(null===i)return!1;e=i,n=s}const r=ne.lFrame=DA();return r.currentTNode=e,r.lView=n,!0}function Zm(n){const e=DA(),t=n[1];ne.lFrame=e,e.currentTNode=t.firstChild,e.lView=n,e.tView=t,e.contextLView=n,e.bindingIndex=t.bindingStartIndex,e.inI18n=!1}function DA(){const n=ne.lFrame,e=null===n?null:n.child;return null===e?SA(n):e}function SA(n){const e={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:n,child:null,inI18n:!1};return null!==n&&(n.child=e),e}function AA(){const n=ne.lFrame;return ne.lFrame=n.parent,n.currentTNode=null,n.lView=null,n}const MA=AA;function Xm(){const n=AA();n.isParent=!0,n.tView=null,n.selectedIndex=-1,n.contextLView=null,n.elementDepthCount=0,n.currentDirectiveIndex=-1,n.currentNamespace=null,n.bindingRootIndex=-1,n.bindingIndex=-1,n.currentQueryIndex=0}function mn(){return ne.lFrame.selectedIndex}function Zi(n){ne.lFrame.selectedIndex=n}function We(){const n=ne.lFrame;return Hm(n.tView,n.selectedIndex)}function rh(n,e){for(let t=e.directiveStart,r=e.directiveEnd;t<r;t++){const s=n.data[t].type.prototype,{ngAfterContentInit:o,ngAfterContentChecked:a,ngAfterViewInit:u,ngAfterViewChecked:l,ngOnDestroy:c}=s;o&&(n.contentHooks||(n.contentHooks=[])).push(-t,o),a&&((n.contentHooks||(n.contentHooks=[])).push(t,a),(n.contentCheckHooks||(n.contentCheckHooks=[])).push(t,a)),u&&(n.viewHooks||(n.viewHooks=[])).push(-t,u),l&&((n.viewHooks||(n.viewHooks=[])).push(t,l),(n.viewCheckHooks||(n.viewCheckHooks=[])).push(t,l)),null!=c&&(n.destroyHooks||(n.destroyHooks=[])).push(t,c)}}function ih(n,e,t){xA(n,e,3,t)}function sh(n,e,t,r){(3&n[2])===t&&xA(n,e,t,r)}function ey(n,e){let t=n[2];(3&t)===e&&(t&=2047,t+=1,n[2]=t)}function xA(n,e,t,r){const s=r??-1,o=e.length-1;let a=0;for(let u=void 0!==r?65535&n[18]:0;u<o;u++)if("number"==typeof e[u+1]){if(a=e[u],null!=r&&a>=r)break}else e[u]<0&&(n[18]+=65536),(a<s||-1==s)&&(cq(n,t,e,u),n[18]=(4294901760&n[18])+u+2),u++}function cq(n,e,t,r){const i=t[r]<0,s=t[r+1],a=n[i?-t[r]:t[r]];if(i){if(n[2]>>11<n[18]>>16&&(3&n[2])===e){n[2]+=2048;try{s.call(a)}finally{}}}else try{s.call(a)}finally{}}class rl{constructor(e,t,r){this.factory=e,this.resolving=!1,this.canSeeViewProviders=t,this.injectImpl=r}}function oh(n,e,t){let r=0;for(;r<t.length;){const i=t[r];if("number"==typeof i){if(0!==i)break;r++;const s=t[r++],o=t[r++],a=t[r++];n.setAttribute(e,o,a,s)}else{const s=i,o=t[++r];kA(s)?n.setProperty(e,s,o):n.setAttribute(e,s,o),r++}}return r}function NA(n){return 3===n||4===n||6===n}function kA(n){return 64===n.charCodeAt(0)}function ah(n,e){if(null!==e&&0!==e.length)if(null===n||0===n.length)n=e.slice();else{let t=-1;for(let r=0;r<e.length;r++){const i=e[r];"number"==typeof i?t=i:0===t||RA(n,t,i,null,-1===t||2===t?e[++r]:null)}}return n}function RA(n,e,t,r,i){let s=0,o=n.length;if(-1===e)o=-1;else for(;s<n.length;){const a=n[s++];if("number"==typeof a){if(a===e){o=-1;break}if(a>e){o=s-1;break}}}for(;s<n.length;){const a=n[s];if("number"==typeof a)break;if(a===t){if(null===r)return void(null!==i&&(n[s+1]=i));if(r===n[s+1])return void(n[s+2]=i)}s++,null!==r&&s++,null!==i&&s++}-1!==o&&(n.splice(o,0,e),s=o+1),n.splice(s++,0,t),null!==r&&n.splice(s++,0,r),null!==i&&n.splice(s++,0,i)}function PA(n){return-1!==n}function da(n){return 32767&n}function ha(n,e){let t=function gq(n){return n>>16}(n),r=e;for(;t>0;)r=r[15],t--;return r}let ny=!0;function uh(n){const e=ny;return ny=n,e}let mq=0;const qr={};function sl(n,e){const t=iy(n,e);if(-1!==t)return t;const r=e[1];r.firstCreatePass&&(n.injectorIndex=e.length,ry(r.data,n),ry(e,null),ry(r.blueprint,null));const i=lh(n,e),s=n.injectorIndex;if(PA(i)){const o=da(i),a=ha(i,e),u=a[1].data;for(let l=0;l<8;l++)e[s+l]=a[o+l]|u[o+l]}return e[s+8]=i,s}function ry(n,e){n.push(0,0,0,0,0,0,0,0,e)}function iy(n,e){return-1===n.injectorIndex||n.parent&&n.parent.injectorIndex===n.injectorIndex||null===e[n.injectorIndex+8]?-1:n.injectorIndex}function lh(n,e){if(n.parent&&-1!==n.parent.injectorIndex)return n.parent.injectorIndex;let t=0,r=null,i=e;for(;null!==i;){if(r=HA(i),null===r)return-1;if(t++,i=i[15],-1!==r.injectorIndex)return r.injectorIndex|t<<16}return-1}function ch(n,e,t){!function yq(n,e,t){let r;"string"==typeof t?r=t.charCodeAt(0)||0:t.hasOwnProperty(Zu)&&(r=t[Zu]),null==r&&(r=t[Zu]=mq++);const i=255&r;e.data[n+(i>>5)]|=1<<i}(n,e,t)}function LA(n,e,t){if(t&K.Optional)return n;qd()}function VA(n,e,t,r){if(t&K.Optional&&void 0===r&&(r=null),0==(t&(K.Self|K.Host))){const i=n[9],s=hr(void 0);try{return i?i.get(e,r,t&K.Optional):aA(e,r,t&K.Optional)}finally{hr(s)}}return LA(r,0,t)}function UA(n,e,t,r=K.Default,i){if(null!==n){if(1024&e[2]){const o=function Iq(n,e,t,r,i){let s=n,o=e;for(;null!==s&&null!==o&&1024&o[2]&&!(256&o[2]);){const a=BA(s,o,t,r|K.Self,qr);if(a!==qr)return a;let u=s.parent;if(!u){const l=o[21];if(l){const c=l.get(t,qr,r);if(c!==qr)return c}u=HA(o),o=o[15]}s=u}return i}(n,e,t,r,qr);if(o!==qr)return o}const s=BA(n,e,t,r,qr);if(s!==qr)return s}return VA(e,t,r,i)}function BA(n,e,t,r,i){const s=function wq(n){if("string"==typeof n)return n.charCodeAt(0)||0;const e=n.hasOwnProperty(Zu)?n[Zu]:void 0;return"number"==typeof e?e>=0?255&e:Eq:e}(t);if("function"==typeof s){if(!CA(e,n,r))return r&K.Host?LA(i,0,r):VA(e,t,r,i);try{const o=s(r);if(null!=o||r&K.Optional)return o;qd()}finally{MA()}}else if("number"==typeof s){let o=null,a=iy(n,e),u=-1,l=r&K.Host?e[16][6]:null;for((-1===a||r&K.SkipSelf)&&(u=-1===a?lh(n,e):e[a+8],-1!==u&&jA(r,!1)?(o=e[1],a=da(u),e=ha(u,e)):a=-1);-1!==a;){const c=e[1];if($A(s,a,c.data)){const d=vq(a,e,t,o,r,l);if(d!==qr)return d}u=e[a+8],-1!==u&&jA(r,e[1].data[a+8]===l)&&$A(s,a,e)?(o=c,a=da(u),e=ha(u,e)):a=-1}}return i}function vq(n,e,t,r,i,s){const o=e[1],a=o.data[n+8],c=function dh(n,e,t,r,i){const s=n.providerIndexes,o=e.data,a=1048575&s,u=n.directiveStart,c=s>>20,h=i?a+c:n.directiveEnd;for(let f=r?a:a+c;f<h;f++){const p=o[f];if(f<u&&t===p||f>=u&&p.type===t)return f}if(i){const f=o[u];if(f&&xr(f)&&f.type===t)return u}return null}(a,o,t,null==r?Zd(a)&&ny:r!=o&&0!=(3&a.type),i&K.Host&&s===a);return null!==c?ol(e,o,c,a):qr}function ol(n,e,t,r){let i=n[t];const s=e.data;if(function dq(n){return n instanceof rl}(i)){const o=i;o.resolving&&function yG(n,e){const t=e?`. Dependency path: ${e.join(" > ")} > ${n}`:"";throw new T(-200,`Circular dependency in DI detected for ${n}${t}`)}(function be(n){return"function"==typeof n?n.name||n.toString():"object"==typeof n&&null!=n&&"function"==typeof n.type?n.type.name||n.type.toString():se(n)}(s[t]));const a=uh(o.canSeeViewProviders);o.resolving=!0;const u=o.injectImpl?hr(o.injectImpl):null;CA(n,r,K.Default);try{i=n[t]=o.factory(void 0,s,n,r),e.firstCreatePass&&t>=r.directiveStart&&function lq(n,e,t){const{ngOnChanges:r,ngOnInit:i,ngDoCheck:s}=e.type.prototype;if(r){const o=pA(e);(t.preOrderHooks||(t.preOrderHooks=[])).push(n,o),(t.preOrderCheckHooks||(t.preOrderCheckHooks=[])).push(n,o)}i&&(t.preOrderHooks||(t.preOrderHooks=[])).push(0-n,i),s&&((t.preOrderHooks||(t.preOrderHooks=[])).push(n,s),(t.preOrderCheckHooks||(t.preOrderCheckHooks=[])).push(n,s))}(t,s[t],e)}finally{null!==u&&hr(u),uh(a),o.resolving=!1,MA()}}return i}function $A(n,e,t){return!!(t[e+(n>>5)]&1<<n)}function jA(n,e){return!(n&K.Self||n&K.Host&&e)}class fa{constructor(e,t){this._tNode=e,this._lView=t}get(e,t,r){return UA(this._tNode,this._lView,e,r,t)}}function Eq(){return new fa(wt(),D())}function nn(n){return Yi(()=>{const e=n.prototype.constructor,t=e[gi]||sy(e),r=Object.prototype;let i=Object.getPrototypeOf(n.prototype).constructor;for(;i&&i!==r;){const s=i[gi]||sy(i);if(s&&s!==t)return s;i=Object.getPrototypeOf(i)}return s=>new s})}function sy(n){return Nm(n)?()=>{const e=sy(X(n));return e&&e()}:Ws(n)}function HA(n){const e=n[1],t=e.type;return 2===t?e.declTNode:1===t?n[6]:null}const ga="__parameters__";function ya(n,e,t){return Yi(()=>{const r=function oy(n){return function(...t){if(n){const r=n(...t);for(const i in r)this[i]=r[i]}}}(e);function i(...s){if(this instanceof i)return r.apply(this,s),this;const o=new i(...s);return a.annotation=o,a;function a(u,l,c){const d=u.hasOwnProperty(ga)?u[ga]:Object.defineProperty(u,ga,{value:[]})[ga];for(;d.length<=c;)d.push(null);return(d[c]=d[c]||[]).push(o),u}}return t&&(i.prototype=Object.create(t.prototype)),i.prototype.ngMetadataName=n,i.annotationCls=i,i})}class ${constructor(e,t){this._desc=e,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof t?this.__NG_ELEMENT_ID__=t:void 0!==t&&(this.\u0275prov=U({token:this,providedIn:t.providedIn||"root",factory:t.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}}function _i(n,e){n.forEach(t=>Array.isArray(t)?_i(t,e):e(t))}function qA(n,e,t){e>=n.length?n.push(t):n.splice(e,0,t)}function hh(n,e){return e>=n.length-1?n.pop():n.splice(e,1)[0]}function Yn(n,e,t){let r=_a(n,e);return r>=0?n[1|r]=t:(r=~r,function Dq(n,e,t,r){let i=n.length;if(i==e)n.push(t,r);else if(1===i)n.push(r,n[0]),n[0]=t;else{for(i--,n.push(n[i-1],n[i]);i>e;)n[i]=n[i-2],i--;n[e]=t,n[e+1]=r}}(n,r,e,t)),r}function uy(n,e){const t=_a(n,e);if(t>=0)return n[1|t]}function _a(n,e){return function KA(n,e,t){let r=0,i=n.length>>t;for(;i!==r;){const s=r+(i-r>>1),o=n[s<<t];if(e===o)return s<<t;o>e?i=s:r=s+1}return~(i<<t)}(n,e,1)}const dl={},cy="__NG_DI_FLAG__",ph="ngTempTokenPath",Pq=/\n/gm,QA="__source";let hl;function va(n){const e=hl;return hl=n,e}function Fq(n,e=K.Default){if(void 0===hl)throw new T(-203,!1);return null===hl?aA(n,void 0,e):hl.get(n,e&K.Optional?null:void 0,e)}function M(n,e=K.Default){return(function DG(){return Rm}()||Fq)(X(n),e)}function tt(n,e=K.Default){return"number"!=typeof e&&(e=0|(e.optional&&8)|(e.host&&1)|(e.self&&2)|(e.skipSelf&&4)),M(n,e)}function dy(n){const e=[];for(let t=0;t<n.length;t++){const r=X(n[t]);if(Array.isArray(r)){if(0===r.length)throw new T(900,!1);let i,s=K.Default;for(let o=0;o<r.length;o++){const a=r[o],u=Lq(a);"number"==typeof u?-1===u?i=a.token:s|=u:i=a}e.push(M(i,s))}else e.push(M(r))}return e}function fl(n,e){return n[cy]=e,n.prototype[cy]=e,n}function Lq(n){return n[cy]}const yn=fl(ya("Optional"),8),pl=fl(ya("SkipSelf"),4);let fy,yh,_h;function Ea(n){return function py(){if(void 0===yh&&(yh=null,ke.trustedTypes))try{yh=ke.trustedTypes.createPolicy("angular",{createHTML:n=>n,createScript:n=>n,createScriptURL:n=>n})}catch{}return yh}()?.createHTML(n)||n}function sM(n){return function gy(){if(void 0===_h&&(_h=null,ke.trustedTypes))try{_h=ke.trustedTypes.createPolicy("angular#unsafe-bypass",{createHTML:n=>n,createScript:n=>n,createScriptURL:n=>n})}catch{}return _h}()?.createHTML(n)||n}class Ks{constructor(e){this.changingThisBreaksApplicationSecurity=e}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see https://g.co/ng/security#xss)`}}class Zq extends Ks{getTypeName(){return"HTML"}}class Xq extends Ks{getTypeName(){return"Style"}}class ez extends Ks{getTypeName(){return"Script"}}class tz extends Ks{getTypeName(){return"URL"}}class nz extends Ks{getTypeName(){return"ResourceURL"}}function Jn(n){return n instanceof Ks?n.changingThisBreaksApplicationSecurity:n}function zr(n,e){const t=function rz(n){return n instanceof Ks&&n.getTypeName()||null}(n);if(null!=t&&t!==e){if("ResourceURL"===t&&"URL"===e)return!0;throw new Error(`Required a safe ${e}, got a ${t} (see https://g.co/ng/security#xss)`)}return t===e}class lz{constructor(e){this.inertDocumentHelper=e}getInertBodyElement(e){e="<body><remove></remove>"+e;try{const t=(new window.DOMParser).parseFromString(Ea(e),"text/html").body;return null===t?this.inertDocumentHelper.getInertBodyElement(e):(t.removeChild(t.firstChild),t)}catch{return null}}}class cz{constructor(e){if(this.defaultDoc=e,this.inertDocument=this.defaultDoc.implementation.createHTMLDocument("sanitization-inert"),null==this.inertDocument.body){const t=this.inertDocument.createElement("html");this.inertDocument.appendChild(t);const r=this.inertDocument.createElement("body");t.appendChild(r)}}getInertBodyElement(e){const t=this.inertDocument.createElement("template");if("content"in t)return t.innerHTML=Ea(e),t;const r=this.inertDocument.createElement("body");return r.innerHTML=Ea(e),this.defaultDoc.documentMode&&this.stripCustomNsAttrs(r),r}stripCustomNsAttrs(e){const t=e.attributes;for(let i=t.length-1;0<i;i--){const o=t.item(i).name;("xmlns:ns1"===o||0===o.indexOf("ns1:"))&&e.removeAttribute(o)}let r=e.firstChild;for(;r;)r.nodeType===Node.ELEMENT_NODE&&this.stripCustomNsAttrs(r),r=r.nextSibling}}const hz=/^(?:(?:https?|mailto|data|ftp|tel|file|sms):|[^&:/?#]*(?:[/?#]|$))/gi;function yl(n){return(n=String(n)).match(hz)?n:"unsafe:"+n}function lM(n){return(n=String(n)).split(",").map(e=>yl(e.trim())).join(", ")}function Wr(n){const e={};for(const t of n.split(","))e[t]=!0;return e}function _l(...n){const e={};for(const t of n)for(const r in t)t.hasOwnProperty(r)&&(e[r]=!0);return e}const cM=Wr("area,br,col,hr,img,wbr"),dM=Wr("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),hM=Wr("rp,rt"),my=_l(cM,_l(dM,Wr("address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul")),_l(hM,Wr("a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video")),_l(hM,dM)),yy=Wr("background,cite,href,itemtype,longdesc,poster,src,xlink:href"),_y=Wr("srcset"),fM=_l(yy,_y,Wr("abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width"),Wr("aria-activedescendant,aria-atomic,aria-autocomplete,aria-busy,aria-checked,aria-colcount,aria-colindex,aria-colspan,aria-controls,aria-current,aria-describedby,aria-details,aria-disabled,aria-dropeffect,aria-errormessage,aria-expanded,aria-flowto,aria-grabbed,aria-haspopup,aria-hidden,aria-invalid,aria-keyshortcuts,aria-label,aria-labelledby,aria-level,aria-live,aria-modal,aria-multiline,aria-multiselectable,aria-orientation,aria-owns,aria-placeholder,aria-posinset,aria-pressed,aria-readonly,aria-relevant,aria-required,aria-roledescription,aria-rowcount,aria-rowindex,aria-rowspan,aria-selected,aria-setsize,aria-sort,aria-valuemax,aria-valuemin,aria-valuenow,aria-valuetext")),fz=Wr("script,style,template");class pz{constructor(){this.sanitizedSomething=!1,this.buf=[]}sanitizeChildren(e){let t=e.firstChild,r=!0;for(;t;)if(t.nodeType===Node.ELEMENT_NODE?r=this.startElement(t):t.nodeType===Node.TEXT_NODE?this.chars(t.nodeValue):this.sanitizedSomething=!0,r&&t.firstChild)t=t.firstChild;else for(;t;){t.nodeType===Node.ELEMENT_NODE&&this.endElement(t);let i=this.checkClobberedElement(t,t.nextSibling);if(i){t=i;break}t=this.checkClobberedElement(t,t.parentNode)}return this.buf.join("")}startElement(e){const t=e.nodeName.toLowerCase();if(!my.hasOwnProperty(t))return this.sanitizedSomething=!0,!fz.hasOwnProperty(t);this.buf.push("<"),this.buf.push(t);const r=e.attributes;for(let i=0;i<r.length;i++){const s=r.item(i),o=s.name,a=o.toLowerCase();if(!fM.hasOwnProperty(a)){this.sanitizedSomething=!0;continue}let u=s.value;yy[a]&&(u=yl(u)),_y[a]&&(u=lM(u)),this.buf.push(" ",o,'="',pM(u),'"')}return this.buf.push(">"),!0}endElement(e){const t=e.nodeName.toLowerCase();my.hasOwnProperty(t)&&!cM.hasOwnProperty(t)&&(this.buf.push("</"),this.buf.push(t),this.buf.push(">"))}chars(e){this.buf.push(pM(e))}checkClobberedElement(e,t){if(t&&(e.compareDocumentPosition(t)&Node.DOCUMENT_POSITION_CONTAINED_BY)===Node.DOCUMENT_POSITION_CONTAINED_BY)throw new Error(`Failed to sanitize html because the element is clobbered: ${e.outerHTML}`);return t}}const gz=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,mz=/([^\#-~ |!])/g;function pM(n){return n.replace(/&/g,"&amp;").replace(gz,function(e){return"&#"+(1024*(e.charCodeAt(0)-55296)+(e.charCodeAt(1)-56320)+65536)+";"}).replace(mz,function(e){return"&#"+e.charCodeAt(0)+";"}).replace(/</g,"&lt;").replace(/>/g,"&gt;")}let vh;function gM(n,e){let t=null;try{vh=vh||function uM(n){const e=new cz(n);return function dz(){try{return!!(new window.DOMParser).parseFromString(Ea(""),"text/html")}catch{return!1}}()?new lz(e):e}(n);let r=e?String(e):"";t=vh.getInertBodyElement(r);let i=5,s=r;do{if(0===i)throw new Error("Failed to sanitize html because the input is unstable");i--,r=s,s=t.innerHTML,t=vh.getInertBodyElement(r)}while(r!==s);return Ea((new pz).sanitizeChildren(vy(t)||t))}finally{if(t){const r=vy(t)||t;for(;r.firstChild;)r.removeChild(r.firstChild)}}}function vy(n){return"content"in n&&function yz(n){return n.nodeType===Node.ELEMENT_NODE&&"TEMPLATE"===n.nodeName}(n)?n.content:null}var Re=(()=>((Re=Re||{})[Re.NONE=0]="NONE",Re[Re.HTML=1]="HTML",Re[Re.STYLE=2]="STYLE",Re[Re.SCRIPT=3]="SCRIPT",Re[Re.URL=4]="URL",Re[Re.RESOURCE_URL=5]="RESOURCE_URL",Re))();function wy(n){const e=function vl(){const n=D();return n&&n[12]}();return e?sM(e.sanitize(Re.HTML,n)||""):zr(n,"HTML")?sM(Jn(n)):gM(function iM(){return void 0!==fy?fy:typeof document<"u"?document:void 0}(),se(n))}const Iy=new $("ENVIRONMENT_INITIALIZER"),yM=new $("INJECTOR",-1),_M=new $("INJECTOR_DEF_TYPES");class vM{get(e,t=dl){if(t===dl){const r=new Error(`NullInjectorError: No provider for ${Ne(e)}!`);throw r.name="NullInjectorError",r}return t}}function Tz(...n){return{\u0275providers:wM(0,n)}}function wM(n,...e){const t=[],r=new Set;let i;return _i(e,s=>{const o=s;by(o,t,[],r)&&(i||(i=[]),i.push(o))}),void 0!==i&&EM(i,t),t}function EM(n,e){for(let t=0;t<n.length;t++){const{providers:i}=n[t];_i(i,s=>{e.push(s)})}}function by(n,e,t,r){if(!(n=X(n)))return!1;let i=null,s=sA(n);const o=!s&&De(n);if(s||o){if(o&&!o.standalone)return!1;i=n}else{const u=n.ngModule;if(s=sA(u),!s)return!1;i=u}const a=r.has(i);if(o){if(a)return!1;if(r.add(i),o.dependencies){const u="function"==typeof o.dependencies?o.dependencies():o.dependencies;for(const l of u)by(l,e,t,r)}}else{if(!s)return!1;{if(null!=s.imports&&!a){let l;r.add(i);try{_i(s.imports,c=>{by(c,e,t,r)&&(l||(l=[]),l.push(c))})}finally{}void 0!==l&&EM(l,e)}if(!a){const l=Ws(i)||(()=>new i);e.push({provide:i,useFactory:l,deps:Te},{provide:_M,useValue:i,multi:!0},{provide:Iy,useValue:()=>M(i),multi:!0})}const u=s.providers;null==u||a||_i(u,c=>{e.push(c)})}}return i!==n&&void 0!==n.providers}const Cz=xe({provide:String,useValue:xe});function Ty(n){return null!==n&&"object"==typeof n&&Cz in n}function Qs(n){return"function"==typeof n}const Cy=new $("Set Injector scope."),wh={},Sz={};let Dy;function Eh(){return void 0===Dy&&(Dy=new vM),Dy}class es{}class TM extends es{constructor(e,t,r,i){super(),this.parent=t,this.source=r,this.scopes=i,this.records=new Map,this._ngOnDestroyHooks=new Set,this._onDestroyHooks=[],this._destroyed=!1,Ay(e,o=>this.processProvider(o)),this.records.set(yM,Ia(void 0,this)),i.has("environment")&&this.records.set(es,Ia(void 0,this));const s=this.records.get(Cy);null!=s&&"string"==typeof s.value&&this.scopes.add(s.value),this.injectorDefTypes=new Set(this.get(_M.multi,Te,K.Self))}get destroyed(){return this._destroyed}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{for(const e of this._ngOnDestroyHooks)e.ngOnDestroy();for(const e of this._onDestroyHooks)e()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear(),this._onDestroyHooks.length=0}}onDestroy(e){this._onDestroyHooks.push(e)}runInContext(e){this.assertNotDestroyed();const t=va(this),r=hr(void 0);try{return e()}finally{va(t),hr(r)}}get(e,t=dl,r=K.Default){this.assertNotDestroyed();const i=va(this),s=hr(void 0);try{if(!(r&K.SkipSelf)){let a=this.records.get(e);if(void 0===a){const u=function kz(n){return"function"==typeof n||"object"==typeof n&&n instanceof $}(e)&&zd(e);a=u&&this.injectableDefInScope(u)?Ia(Sy(e),wh):null,this.records.set(e,a)}if(null!=a)return this.hydrate(e,a)}return(r&K.Self?Eh():this.parent).get(e,t=r&K.Optional&&t===dl?null:t)}catch(o){if("NullInjectorError"===o.name){if((o[ph]=o[ph]||[]).unshift(Ne(e)),i)throw o;return function Vq(n,e,t,r){const i=n[ph];throw e[QA]&&i.unshift(e[QA]),n.message=function Uq(n,e,t,r=null){n=n&&"\n"===n.charAt(0)&&"\u0275"==n.charAt(1)?n.slice(2):n;let i=Ne(e);if(Array.isArray(e))i=e.map(Ne).join(" -> ");else if("object"==typeof e){let s=[];for(let o in e)if(e.hasOwnProperty(o)){let a=e[o];s.push(o+":"+("string"==typeof a?JSON.stringify(a):Ne(a)))}i=`{${s.join(", ")}}`}return`${t}${r?"("+r+")":""}[${i}]: ${n.replace(Pq,"\n  ")}`}("\n"+n.message,i,t,r),n.ngTokenPath=i,n[ph]=null,n}(o,e,"R3InjectorError",this.source)}throw o}finally{hr(s),va(i)}}resolveInjectorInitializers(){const e=va(this),t=hr(void 0);try{const r=this.get(Iy.multi,Te,K.Self);for(const i of r)i()}finally{va(e),hr(t)}}toString(){const e=[],t=this.records;for(const r of t.keys())e.push(Ne(r));return`R3Injector[${e.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new T(205,!1)}processProvider(e){let t=Qs(e=X(e))?e:X(e&&e.provide);const r=function Mz(n){return Ty(n)?Ia(void 0,n.useValue):Ia(CM(n),wh)}(e);if(Qs(e)||!0!==e.multi)this.records.get(t);else{let i=this.records.get(t);i||(i=Ia(void 0,wh,!0),i.factory=()=>dy(i.multi),this.records.set(t,i)),t=e,i.multi.push(e)}this.records.set(t,r)}hydrate(e,t){return t.value===wh&&(t.value=Sz,t.value=t.factory()),"object"==typeof t.value&&t.value&&function Nz(n){return null!==n&&"object"==typeof n&&"function"==typeof n.ngOnDestroy}(t.value)&&this._ngOnDestroyHooks.add(t.value),t.value}injectableDefInScope(e){if(!e.providedIn)return!1;const t=X(e.providedIn);return"string"==typeof t?"any"===t||this.scopes.has(t):this.injectorDefTypes.has(t)}}function Sy(n){const e=zd(n),t=null!==e?e.factory:Ws(n);if(null!==t)return t;if(n instanceof $)throw new T(204,!1);if(n instanceof Function)return function Az(n){const e=n.length;if(e>0)throw function cl(n,e){const t=[];for(let r=0;r<n;r++)t.push(e);return t}(e,"?"),new T(204,!1);const t=function bG(n){const e=n&&(n[Wd]||n[oA]);if(e){const t=function TG(n){if(n.hasOwnProperty("name"))return n.name;const e=(""+n).match(/^function\s*([^\s(]+)/);return null===e?"":e[1]}(n);return console.warn(`DEPRECATED: DI is instantiating a token "${t}" that inherits its @Injectable decorator but does not provide one itself.\nThis will become an error in a future version of Angular. Please add @Injectable() to the "${t}" class.`),e}return null}(n);return null!==t?()=>t.factory(n):()=>new n}(n);throw new T(204,!1)}function CM(n,e,t){let r;if(Qs(n)){const i=X(n);return Ws(i)||Sy(i)}if(Ty(n))r=()=>X(n.useValue);else if(function bM(n){return!(!n||!n.useFactory)}(n))r=()=>n.useFactory(...dy(n.deps||[]));else if(function IM(n){return!(!n||!n.useExisting)}(n))r=()=>M(X(n.useExisting));else{const i=X(n&&(n.useClass||n.provide));if(!function xz(n){return!!n.deps}(n))return Ws(i)||Sy(i);r=()=>new i(...dy(n.deps))}return r}function Ia(n,e,t=!1){return{factory:n,value:e,multi:t?[]:void 0}}function Rz(n){return!!n.\u0275providers}function Ay(n,e){for(const t of n)Array.isArray(t)?Ay(t,e):Rz(t)?Ay(t.\u0275providers,e):e(t)}class DM{}class Fz{resolveComponentFactory(e){throw function Oz(n){const e=Error(`No component factory found for ${Ne(n)}. Did you add it to @NgModule.entryComponents?`);return e.ngComponent=n,e}(e)}}let ba=(()=>{class n{}return n.NULL=new Fz,n})();function Lz(){return Ta(wt(),D())}function Ta(n,e){return new Zn(mr(n,e))}let Zn=(()=>{class n{constructor(t){this.nativeElement=t}}return n.__NG_ELEMENT_ID__=Lz,n})();class wl{}let vi=(()=>{class n{}return n.__NG_ELEMENT_ID__=()=>function Uz(){const n=D(),t=Kn(wt().index,n);return(Mn(t)?t:n)[11]}(),n})(),Bz=(()=>{class n{}return n.\u0275prov=U({token:n,providedIn:"root",factory:()=>null}),n})();class Ca{constructor(e){this.full=e,this.major=e.split(".")[0],this.minor=e.split(".")[1],this.patch=e.split(".").slice(2).join(".")}}const AM=new Ca("14.2.1"),My={};function Py(n){return n.ngOriginalError}class Da{constructor(){this._console=console}handleError(e){const t=this._findOriginalError(e);this._console.error("ERROR",e),t&&this._console.error("ORIGINAL ERROR",t)}_findOriginalError(e){let t=e&&Py(e);for(;t&&Py(t);)t=Py(t);return t||null}}const Oy=new Map;let Zz=0;const Ly="__ngContext__";function rn(n,e){Mn(e)?(n[Ly]=e[20],function eW(n){Oy.set(n[20],n)}(e)):n[Ly]=e}function El(n){const e=n[Ly];return"number"==typeof e?function PM(n){return Oy.get(n)||null}(e):e||null}function Vy(n){const e=El(n);return e?Mn(e)?e:e.lView:null}function wi(n){return n instanceof Function?n():n}var xn=(()=>((xn=xn||{})[xn.Important=1]="Important",xn[xn.DashCase=2]="DashCase",xn))();function By(n,e){return undefined(n,e)}function Il(n){const e=n[3];return Mr(e)?e[3]:e}function $y(n){return $M(n[13])}function jy(n){return $M(n[4])}function $M(n){for(;null!==n&&!Mr(n);)n=n[4];return n}function Aa(n,e,t,r,i){if(null!=r){let s,o=!1;Mr(r)?s=r:Mn(r)&&(o=!0,r=r[0]);const a=ht(r);0===n&&null!==t?null==i?WM(e,t,a):Ys(e,t,a,i||null,!0):1===n&&null!==t?Ys(e,t,a,i||null,!0):2===n?function ex(n,e,t){const r=Ih(n,e);r&&function SW(n,e,t,r){n.removeChild(e,t,r)}(n,r,e,t)}(e,a,o):3===n&&e.destroyNode(a),null!=s&&function xW(n,e,t,r,i){const s=t[7];s!==ht(t)&&Aa(e,n,r,s,i);for(let a=10;a<t.length;a++){const u=t[a];bl(u[1],u,n,e,r,s)}}(e,n,s,t,i)}}function Gy(n,e,t){return n.createElement(e,t)}function HM(n,e){const t=n[9],r=t.indexOf(e),i=e[3];512&e[2]&&(e[2]&=-513,Gm(i,-1)),t.splice(r,1)}function qy(n,e){if(n.length<=10)return;const t=10+e,r=n[t];if(r){const i=r[17];null!==i&&i!==n&&HM(i,r),e>0&&(n[t-1][4]=r[4]);const s=hh(n,10+e);!function vW(n,e){bl(n,e,e[11],2,null,null),e[0]=null,e[6]=null}(r[1],r);const o=s[19];null!==o&&o.detachView(s[1]),r[3]=null,r[4]=null,r[2]&=-65}return r}function GM(n,e){if(!(128&e[2])){const t=e[11];t.destroyNode&&bl(n,e,t,3,null,null),function IW(n){let e=n[13];if(!e)return zy(n[1],n);for(;e;){let t=null;if(Mn(e))t=e[13];else{const r=e[10];r&&(t=r)}if(!t){for(;e&&!e[4]&&e!==n;)Mn(e)&&zy(e[1],e),e=e[3];null===e&&(e=n),Mn(e)&&zy(e[1],e),t=e&&e[4]}e=t}}(e)}}function zy(n,e){if(!(128&e[2])){e[2]&=-65,e[2]|=128,function DW(n,e){let t;if(null!=n&&null!=(t=n.destroyHooks))for(let r=0;r<t.length;r+=2){const i=e[t[r]];if(!(i instanceof rl)){const s=t[r+1];if(Array.isArray(s))for(let o=0;o<s.length;o+=2){const a=i[s[o]],u=s[o+1];try{u.call(a)}finally{}}else try{s.call(i)}finally{}}}}(n,e),function CW(n,e){const t=n.cleanup,r=e[7];let i=-1;if(null!==t)for(let s=0;s<t.length-1;s+=2)if("string"==typeof t[s]){const o=t[s+1],a="function"==typeof o?o(e):ht(e[o]),u=r[i=t[s+2]],l=t[s+3];"boolean"==typeof l?a.removeEventListener(t[s],u,l):l>=0?r[i=l]():r[i=-l].unsubscribe(),s+=2}else{const o=r[i=t[s+1]];t[s].call(o)}if(null!==r){for(let s=i+1;s<r.length;s++)(0,r[s])();e[7]=null}}(n,e),1===e[1].type&&e[11].destroy();const t=e[17];if(null!==t&&Mr(e[3])){t!==e[3]&&HM(t,e);const r=e[19];null!==r&&r.detachView(n)}!function tW(n){Oy.delete(n[20])}(e)}}function qM(n,e,t){return function zM(n,e,t){let r=e;for(;null!==r&&40&r.type;)r=(e=r).parent;if(null===r)return t[0];if(2&r.flags){const i=n.data[r.directiveStart].encapsulation;if(i===Sr.None||i===Sr.Emulated)return null}return mr(r,t)}(n,e.parent,t)}function Ys(n,e,t,r,i){n.insertBefore(e,t,r,i)}function WM(n,e,t){n.appendChild(e,t)}function KM(n,e,t,r,i){null!==r?Ys(n,e,t,r,i):WM(n,e,t)}function Ih(n,e){return n.parentNode(e)}let JM=function YM(n,e,t){return 40&n.type?mr(n,t):null};function bh(n,e,t,r){const i=qM(n,r,e),s=e[11],a=function QM(n,e,t){return JM(n,e,t)}(r.parent||e[6],r,e);if(null!=i)if(Array.isArray(t))for(let u=0;u<t.length;u++)KM(s,i,t[u],a,!1);else KM(s,i,t,a,!1)}function Th(n,e){if(null!==e){const t=e.type;if(3&t)return mr(e,n);if(4&t)return Ky(-1,n[e.index]);if(8&t){const r=e.child;if(null!==r)return Th(n,r);{const i=n[e.index];return Mr(i)?Ky(-1,i):ht(i)}}if(32&t)return By(e,n)()||ht(n[e.index]);{const r=XM(n,e);return null!==r?Array.isArray(r)?r[0]:Th(Il(n[16]),r):Th(n,e.next)}}return null}function XM(n,e){return null!==e?n[16][6].projection[e.projection]:null}function Ky(n,e){const t=10+n+1;if(t<e.length){const r=e[t],i=r[1].firstChild;if(null!==i)return Th(r,i)}return e[7]}function Qy(n,e,t,r,i,s,o){for(;null!=t;){const a=r[t.index],u=t.type;if(o&&0===e&&(a&&rn(ht(a),r),t.flags|=4),64!=(64&t.flags))if(8&u)Qy(n,e,t.child,r,i,s,!1),Aa(e,n,i,a,s);else if(32&u){const l=By(t,r);let c;for(;c=l();)Aa(e,n,i,c,s);Aa(e,n,i,a,s)}else 16&u?tx(n,e,r,t,i,s):Aa(e,n,i,a,s);t=o?t.projectionNext:t.next}}function bl(n,e,t,r,i,s){Qy(t,r,n.firstChild,e,i,s,!1)}function tx(n,e,t,r,i,s){const o=t[16],u=o[6].projection[r.projection];if(Array.isArray(u))for(let l=0;l<u.length;l++)Aa(e,n,i,u[l],s);else Qy(n,e,u,o[3],i,s,!0)}function nx(n,e,t){n.setAttribute(e,"style",t)}function Yy(n,e,t){""===t?n.removeAttribute(e,"class"):n.setAttribute(e,"class",t)}function rx(n,e,t){let r=n.length;for(;;){const i=n.indexOf(e,t);if(-1===i)return i;if(0===i||n.charCodeAt(i-1)<=32){const s=e.length;if(i+s===r||n.charCodeAt(i+s)<=32)return i}t=i+1}}const ix="ng-template";function kW(n,e,t){let r=0;for(;r<n.length;){let i=n[r++];if(t&&"class"===i){if(i=n[r],-1!==rx(i.toLowerCase(),e,0))return!0}else if(1===i){for(;r<n.length&&"string"==typeof(i=n[r++]);)if(i.toLowerCase()===e)return!0;return!1}}return!1}function sx(n){return 4===n.type&&n.value!==ix}function RW(n,e,t){return e===(4!==n.type||t?n.value:ix)}function PW(n,e,t){let r=4;const i=n.attrs||[],s=function LW(n){for(let e=0;e<n.length;e++)if(NA(n[e]))return e;return n.length}(i);let o=!1;for(let a=0;a<e.length;a++){const u=e[a];if("number"!=typeof u){if(!o)if(4&r){if(r=2|1&r,""!==u&&!RW(n,u,t)||""===u&&1===e.length){if(Nr(r))return!1;o=!0}}else{const l=8&r?u:e[++a];if(8&r&&null!==n.attrs){if(!kW(n.attrs,l,t)){if(Nr(r))return!1;o=!0}continue}const d=OW(8&r?"class":u,i,sx(n),t);if(-1===d){if(Nr(r))return!1;o=!0;continue}if(""!==l){let h;h=d>s?"":i[d+1].toLowerCase();const f=8&r?h:null;if(f&&-1!==rx(f,l,0)||2&r&&l!==h){if(Nr(r))return!1;o=!0}}}}else{if(!o&&!Nr(r)&&!Nr(u))return!1;if(o&&Nr(u))continue;o=!1,r=u|1&r}}return Nr(r)||o}function Nr(n){return 0==(1&n)}function OW(n,e,t,r){if(null===e)return-1;let i=0;if(r||!t){let s=!1;for(;i<e.length;){const o=e[i];if(o===n)return i;if(3===o||6===o)s=!0;else{if(1===o||2===o){let a=e[++i];for(;"string"==typeof a;)a=e[++i];continue}if(4===o)break;if(0===o){i+=4;continue}}i+=s?1:2}return-1}return function VW(n,e){let t=n.indexOf(4);if(t>-1)for(t++;t<n.length;){const r=n[t];if("number"==typeof r)return-1;if(r===e)return t;t++}return-1}(e,n)}function ox(n,e,t=!1){for(let r=0;r<e.length;r++)if(PW(n,e[r],t))return!0;return!1}function ax(n,e){return n?":not("+e.trim()+")":e}function BW(n){let e=n[0],t=1,r=2,i="",s=!1;for(;t<n.length;){let o=n[t];if("string"==typeof o)if(2&r){const a=n[++t];i+="["+o+(a.length>0?'="'+a+'"':"")+"]"}else 8&r?i+="."+o:4&r&&(i+=" "+o);else""!==i&&!Nr(o)&&(e+=ax(s,i),i=""),r=o,s=s||!Nr(r);t++}return""!==i&&(e+=ax(s,i)),e}const oe={};function he(n){ux(ye(),D(),mn()+n,!1)}function ux(n,e,t,r){if(!r)if(3==(3&e[2])){const s=n.preOrderCheckHooks;null!==s&&ih(e,s,t)}else{const s=n.preOrderHooks;null!==s&&sh(e,s,0,t)}Zi(t)}function hx(n,e=null,t=null,r){const i=fx(n,e,t,r);return i.resolveInjectorInitializers(),i}function fx(n,e=null,t=null,r,i=new Set){const s=[t||Te,Tz(n)];return r=r||("object"==typeof n?void 0:Ne(n)),new TM(s,e||Eh(),r||null,i)}let Rt=(()=>{class n{static create(t,r){if(Array.isArray(t))return hx({name:""},r,t,"");{const i=t.name??"";return hx({name:i},t.parent,t.providers,i)}}}return n.THROW_IF_NOT_FOUND=dl,n.NULL=new vM,n.\u0275prov=U({token:n,providedIn:"any",factory:()=>M(yM)}),n.__NG_ELEMENT_ID__=-1,n})();function b(n,e=K.Default){const t=D();return null===t?M(n,e):UA(wt(),t,X(n),e)}function t_(){throw new Error("invalid")}function Dh(n,e){return n<<17|e<<2}function kr(n){return n>>17&32767}function n_(n){return 2|n}function Ei(n){return(131068&n)>>2}function r_(n,e){return-131069&n|e<<2}function i_(n){return 1|n}function xx(n,e){const t=n.contentQueries;if(null!==t)for(let r=0;r<t.length;r+=2){const i=t[r],s=t[r+1];if(-1!==s){const o=n.data[s];Jm(i),o.contentQueries(2,e[s],s)}}}function Mh(n,e,t,r,i,s,o,a,u,l,c){const d=e.blueprint.slice();return d[0]=i,d[2]=76|r,(null!==c||n&&1024&n[2])&&(d[2]|=1024),_A(d),d[3]=d[15]=n,d[8]=t,d[10]=o||n&&n[10],d[11]=a||n&&n[11],d[12]=u||n&&n[12]||null,d[9]=l||n&&n[9]||null,d[6]=s,d[20]=function Xz(){return Zz++}(),d[21]=c,d[16]=2==e.type?n[16]:d,d}function xa(n,e,t,r,i){let s=n.data[e];if(null===s)s=function h_(n,e,t,r,i){const s=EA(),o=Wm(),u=n.data[e]=function b3(n,e,t,r,i,s){return{type:t,index:r,insertBeforeIndex:null,injectorIndex:e?e.injectorIndex:-1,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,propertyBindings:null,flags:0,providerIndexes:0,value:i,attrs:s,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tViews:null,next:null,projectionNext:null,child:null,parent:e,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,o?s:s&&s.parent,t,e,r,i);return null===n.firstChild&&(n.firstChild=u),null!==s&&(o?null==s.child&&null!==u.parent&&(s.child=u):null===s.next&&(s.next=u)),u}(n,e,t,r,i),function ZG(){return ne.lFrame.inI18n}()&&(s.flags|=64);else if(64&s.type){s.type=t,s.value=r,s.attrs=i;const o=function nl(){const n=ne.lFrame,e=n.currentTNode;return n.isParent?e:e.parent}();s.injectorIndex=null===o?-1:o.injectorIndex}return Gr(s,!0),s}function Na(n,e,t,r){if(0===t)return-1;const i=e.length;for(let s=0;s<t;s++)e.push(r),n.blueprint.push(r),n.data.push(null);return i}function xh(n,e,t){Zm(e);try{const r=n.viewQuery;null!==r&&E_(1,r,t);const i=n.template;null!==i&&Nx(n,e,i,1,t),n.firstCreatePass&&(n.firstCreatePass=!1),n.staticContentQueries&&xx(n,e),n.staticViewQueries&&E_(2,n.viewQuery,t);const s=n.components;null!==s&&function v3(n,e){for(let t=0;t<e.length;t++)U3(n,e[t])}(e,s)}catch(r){throw n.firstCreatePass&&(n.incompleteFirstPass=!0,n.firstCreatePass=!1),r}finally{e[2]&=-5,Xm()}}function Tl(n,e,t,r){const i=e[2];if(128!=(128&i)){Zm(e);try{_A(e),function IA(n){return ne.lFrame.bindingIndex=n}(n.bindingStartIndex),null!==t&&Nx(n,e,t,2,r);const o=3==(3&i);if(o){const l=n.preOrderCheckHooks;null!==l&&ih(e,l,null)}else{const l=n.preOrderHooks;null!==l&&sh(e,l,0,null),ey(e,0)}if(function L3(n){for(let e=$y(n);null!==e;e=jy(e)){if(!e[2])continue;const t=e[9];for(let r=0;r<t.length;r++){const i=t[r],s=i[3];0==(512&i[2])&&Gm(s,1),i[2]|=512}}}(e),function F3(n){for(let e=$y(n);null!==e;e=jy(e))for(let t=10;t<e.length;t++){const r=e[t],i=r[1];th(r)&&Tl(i,r,i.template,r[8])}}(e),null!==n.contentQueries&&xx(n,e),o){const l=n.contentCheckHooks;null!==l&&ih(e,l)}else{const l=n.contentHooks;null!==l&&sh(e,l,1),ey(e,1)}!function y3(n,e){const t=n.hostBindingOpCodes;if(null!==t)try{for(let r=0;r<t.length;r++){const i=t[r];if(i<0)Zi(~i);else{const s=i,o=t[++r],a=t[++r];XG(o,s),a(2,e[s])}}}finally{Zi(-1)}}(n,e);const a=n.components;null!==a&&function _3(n,e){for(let t=0;t<e.length;t++)V3(n,e[t])}(e,a);const u=n.viewQuery;if(null!==u&&E_(2,u,r),o){const l=n.viewCheckHooks;null!==l&&ih(e,l)}else{const l=n.viewHooks;null!==l&&sh(e,l,2),ey(e,2)}!0===n.firstUpdatePass&&(n.firstUpdatePass=!1),e[2]&=-41,512&e[2]&&(e[2]&=-513,Gm(e[3],-1))}finally{Xm()}}}function w3(n,e,t,r){const i=e[10],o=function yA(n){return 4==(4&n[2])}(e);try{!o&&i.begin&&i.begin(),o&&xh(n,e,r),Tl(n,e,t,r)}finally{!o&&i.end&&i.end()}}function Nx(n,e,t,r,i){const s=mn(),o=2&r;try{Zi(-1),o&&e.length>22&&ux(n,e,22,!1),t(r,i)}finally{Zi(s)}}function kx(n,e,t){if(Vm(e)){const i=e.directiveEnd;for(let s=e.directiveStart;s<i;s++){const o=n.data[s];o.contentQueries&&o.contentQueries(1,t[s],s)}}}function f_(n,e,t){!wA()||(function A3(n,e,t,r){const i=t.directiveStart,s=t.directiveEnd;n.firstCreatePass||sl(t,e),rn(r,e);const o=t.initialInputs;for(let a=i;a<s;a++){const u=n.data[a],l=xr(u);l&&R3(e,t,u);const c=ol(e,n,a,t);rn(c,e),null!==o&&P3(0,a-i,c,u,0,o),l&&(Kn(t.index,e)[8]=c)}}(n,e,t,mr(t,e)),128==(128&t.flags)&&function M3(n,e,t){const r=t.directiveStart,i=t.directiveEnd,s=t.index,o=function eq(){return ne.lFrame.currentDirectiveIndex}();try{Zi(s);for(let a=r;a<i;a++){const u=n.data[a],l=e[a];Qm(a),(null!==u.hostBindings||0!==u.hostVars||null!==u.hostAttrs)&&Ux(u,l)}}finally{Zi(-1),Qm(o)}}(n,e,t))}function p_(n,e,t=mr){const r=e.localNames;if(null!==r){let i=e.index+1;for(let s=0;s<r.length;s+=2){const o=r[s+1],a=-1===o?t(e,n):n[o];n[i++]=a}}}function Rx(n){const e=n.tView;return null===e||e.incompleteFirstPass?n.tView=g_(1,null,n.template,n.decls,n.vars,n.directiveDefs,n.pipeDefs,n.viewQuery,n.schemas,n.consts):e}function g_(n,e,t,r,i,s,o,a,u,l){const c=22+r,d=c+i,h=function E3(n,e){const t=[];for(let r=0;r<e;r++)t.push(r<n?null:oe);return t}(c,d),f="function"==typeof l?l():l;return h[1]={type:n,blueprint:h,template:t,queries:null,viewQuery:a,declTNode:e,data:h.slice().fill(null,c),bindingStartIndex:c,expandoStartIndex:d,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof s?s():s,pipeRegistry:"function"==typeof o?o():o,firstChild:null,schemas:u,consts:f,incompleteFirstPass:!1}}function Ox(n,e,t){for(let r in n)if(n.hasOwnProperty(r)){const i=n[r];(t=null===t?{}:t).hasOwnProperty(r)?t[r].push(e,i):t[r]=[e,i]}return t}function Fx(n,e){const r=e.directiveEnd,i=n.data,s=e.attrs,o=[];let a=null,u=null;for(let l=e.directiveStart;l<r;l++){const c=i[l],d=c.inputs,h=null===s||sx(e)?null:O3(d,s);o.push(h),a=Ox(d,l,a),u=Ox(c.outputs,l,u)}null!==a&&(a.hasOwnProperty("class")&&(e.flags|=16),a.hasOwnProperty("style")&&(e.flags|=32)),e.initialInputs=o,e.inputs=a,e.outputs=u}function Xn(n,e,t,r,i,s,o,a){const u=mr(e,t);let c,l=e.inputs;!a&&null!=l&&(c=l[r])?(I_(n,t,c,r,i),Zd(e)&&Lx(t,e.index)):3&e.type&&(r=function T3(n){return"class"===n?"className":"for"===n?"htmlFor":"formaction"===n?"formAction":"innerHtml"===n?"innerHTML":"readonly"===n?"readOnly":"tabindex"===n?"tabIndex":n}(r),i=null!=o?o(i,e.value||"",r):i,s.setProperty(u,r,i))}function Lx(n,e){const t=Kn(e,n);16&t[2]||(t[2]|=32)}function m_(n,e,t,r){let i=!1;if(wA()){const s=function x3(n,e,t){const r=n.directiveRegistry;let i=null;if(r)for(let s=0;s<r.length;s++){const o=r[s];ox(t,o.selectors,!1)&&(i||(i=[]),ch(sl(t,e),n,o.type),xr(o)?(Bx(n,t),i.unshift(o)):i.push(o))}return i}(n,e,t),o=null===r?null:{"":-1};if(null!==s){i=!0,$x(t,n.data.length,s.length);for(let c=0;c<s.length;c++){const d=s[c];d.providersResolver&&d.providersResolver(d)}let a=!1,u=!1,l=Na(n,e,s.length,null);for(let c=0;c<s.length;c++){const d=s[c];t.mergedAttrs=ah(t.mergedAttrs,d.hostAttrs),jx(n,t,e,l,d),k3(l,d,o),null!==d.contentQueries&&(t.flags|=8),(null!==d.hostBindings||null!==d.hostAttrs||0!==d.hostVars)&&(t.flags|=128);const h=d.type.prototype;!a&&(h.ngOnChanges||h.ngOnInit||h.ngDoCheck)&&((n.preOrderHooks||(n.preOrderHooks=[])).push(t.index),a=!0),!u&&(h.ngOnChanges||h.ngDoCheck)&&((n.preOrderCheckHooks||(n.preOrderCheckHooks=[])).push(t.index),u=!0),l++}Fx(n,t)}o&&function N3(n,e,t){if(e){const r=n.localNames=[];for(let i=0;i<e.length;i+=2){const s=t[e[i+1]];if(null==s)throw new T(-301,!1);r.push(e[i],s)}}}(t,r,o)}return t.mergedAttrs=ah(t.mergedAttrs,t.attrs),i}function Vx(n,e,t,r,i,s){const o=s.hostBindings;if(o){let a=n.hostBindingOpCodes;null===a&&(a=n.hostBindingOpCodes=[]);const u=~e.index;(function S3(n){let e=n.length;for(;e>0;){const t=n[--e];if("number"==typeof t&&t<0)return t}return 0})(a)!=u&&a.push(u),a.push(r,i,o)}}function Ux(n,e){null!==n.hostBindings&&n.hostBindings(1,e)}function Bx(n,e){e.flags|=2,(n.components||(n.components=[])).push(e.index)}function k3(n,e,t){if(t){if(e.exportAs)for(let r=0;r<e.exportAs.length;r++)t[e.exportAs[r]]=n;xr(e)&&(t[""]=n)}}function $x(n,e,t){n.flags|=1,n.directiveStart=e,n.directiveEnd=e+t,n.providerIndexes=e}function jx(n,e,t,r,i){n.data[r]=i;const s=i.factory||(i.factory=Ws(i.type)),o=new rl(s,xr(i),b);n.blueprint[r]=o,t[r]=o,Vx(n,e,0,r,Na(n,t,i.hostVars,oe),i)}function R3(n,e,t){const r=mr(e,n),i=Rx(t),s=n[10],o=Nh(n,Mh(n,i,null,t.onPush?32:16,r,e,s,s.createRenderer(r,t),null,null,null));n[e.index]=o}function Kr(n,e,t,r,i,s){const o=mr(n,e);!function y_(n,e,t,r,i,s,o){if(null==s)n.removeAttribute(e,i,t);else{const a=null==o?se(s):o(s,r||"",i);n.setAttribute(e,i,a,t)}}(e[11],o,s,n.value,t,r,i)}function P3(n,e,t,r,i,s){const o=s[e];if(null!==o){const a=r.setInput;for(let u=0;u<o.length;){const l=o[u++],c=o[u++],d=o[u++];null!==a?r.setInput(t,d,l,c):t[c]=d}}}function O3(n,e){let t=null,r=0;for(;r<e.length;){const i=e[r];if(0!==i)if(5!==i){if("number"==typeof i)break;n.hasOwnProperty(i)&&(null===t&&(t=[]),t.push(i,n[i],e[r+1])),r+=2}else r+=2;else r+=4}return t}function Hx(n,e,t,r){return new Array(n,!0,!1,e,null,0,r,t,null,null)}function V3(n,e){const t=Kn(e,n);if(th(t)){const r=t[1];48&t[2]?Tl(r,t,r.template,t[8]):t[5]>0&&__(t)}}function __(n){for(let r=$y(n);null!==r;r=jy(r))for(let i=10;i<r.length;i++){const s=r[i];if(th(s))if(512&s[2]){const o=s[1];Tl(o,s,o.template,s[8])}else s[5]>0&&__(s)}const t=n[1].components;if(null!==t)for(let r=0;r<t.length;r++){const i=Kn(t[r],n);th(i)&&i[5]>0&&__(i)}}function U3(n,e){const t=Kn(e,n),r=t[1];(function B3(n,e){for(let t=e.length;t<n.blueprint.length;t++)e.push(n.blueprint[t])})(r,t),xh(r,t,t[8])}function Nh(n,e){return n[13]?n[14][4]=e:n[13]=e,n[14]=e,e}function v_(n){for(;n;){n[2]|=32;const e=Il(n);if(RG(n)&&!e)return n;n=e}return null}function E_(n,e,t){Jm(0),e(n,t)}function qx(n){return n[7]||(n[7]=[])}function zx(n){return n.cleanup||(n.cleanup=[])}function Kx(n,e){const t=n[9],r=t?t.get(Da,null):null;r&&r.handleError(e)}function I_(n,e,t,r,i){for(let s=0;s<t.length;){const o=t[s++],a=t[s++],u=e[o],l=n.data[o];null!==l.setInput?l.setInput(u,i,r,a):u[a]=i}}function Ii(n,e,t){const r=eh(e,n);!function jM(n,e,t){n.setValue(e,t)}(n[11],r,t)}function kh(n,e,t){let r=t?n.styles:null,i=t?n.classes:null,s=0;if(null!==e)for(let o=0;o<e.length;o++){const a=e[o];"number"==typeof a?s=a:1==s?i=xm(i,a):2==s&&(r=xm(r,a+": "+e[++o]+";"))}t?n.styles=r:n.stylesWithoutHost=r,t?n.classes=i:n.classesWithoutHost=i}function Rh(n,e,t,r,i=!1){for(;null!==t;){const s=e[t.index];if(null!==s&&r.push(ht(s)),Mr(s))for(let a=10;a<s.length;a++){const u=s[a],l=u[1].firstChild;null!==l&&Rh(u[1],u,l,r)}const o=t.type;if(8&o)Rh(n,e,t.child,r);else if(32&o){const a=By(t,e);let u;for(;u=a();)r.push(u)}else if(16&o){const a=XM(e,t);if(Array.isArray(a))r.push(...a);else{const u=Il(e[16]);Rh(u[1],u,a,r,!0)}}t=i?t.projectionNext:t.next}return r}class Cl{constructor(e,t){this._lView=e,this._cdRefInjectingView=t,this._appRef=null,this._attachedToViewContainer=!1}get rootNodes(){const e=this._lView,t=e[1];return Rh(t,e,t.firstChild,[])}get context(){return this._lView[8]}set context(e){this._lView[8]=e}get destroyed(){return 128==(128&this._lView[2])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const e=this._lView[3];if(Mr(e)){const t=e[8],r=t?t.indexOf(this):-1;r>-1&&(qy(e,r),hh(t,r))}this._attachedToViewContainer=!1}GM(this._lView[1],this._lView)}onDestroy(e){!function Px(n,e,t,r){const i=qx(e);null===t?i.push(r):(i.push(t),n.firstCreatePass&&zx(n).push(r,i.length-1))}(this._lView[1],this._lView,null,e)}markForCheck(){v_(this._cdRefInjectingView||this._lView)}detach(){this._lView[2]&=-65}reattach(){this._lView[2]|=64}detectChanges(){!function w_(n,e,t){const r=e[10];r.begin&&r.begin();try{Tl(n,e,n.template,t)}catch(i){throw Kx(e,i),i}finally{r.end&&r.end()}}(this._lView[1],this._lView,this.context)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new T(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null,function EW(n,e){bl(n,e,e[11],2,null,null)}(this._lView[1],this._lView)}attachToAppRef(e){if(this._attachedToViewContainer)throw new T(902,!1);this._appRef=e}}class j3 extends Cl{constructor(e){super(e),this._view=e}detectChanges(){!function Gx(n){!function $3(n){for(let e=0;e<n.components.length;e++){const t=n.components[e],r=Vy(t);if(null!==r){const i=r[1];w3(i,r,i.template,t)}}}(n[8])}(this._view)}checkNoChanges(){}get context(){return null}}class b_ extends ba{constructor(e){super(),this.ngModule=e}resolveComponentFactory(e){const t=De(e);return new Dl(t,this.ngModule)}}function Qx(n){const e=[];for(let t in n)n.hasOwnProperty(t)&&e.push({propName:n[t],templateName:t});return e}class G3{constructor(e,t){this.injector=e,this.parentInjector=t}get(e,t,r){const i=this.injector.get(e,My,r);return i!==My||t===My?i:this.parentInjector.get(e,t,r)}}class Dl extends DM{constructor(e,t){super(),this.componentDef=e,this.ngModule=t,this.componentType=e.type,this.selector=function $W(n){return n.map(BW).join(",")}(e.selectors),this.ngContentSelectors=e.ngContentSelectors?e.ngContentSelectors:[],this.isBoundToModule=!!t}get inputs(){return Qx(this.componentDef.inputs)}get outputs(){return Qx(this.componentDef.outputs)}create(e,t,r,i){let s=(i=i||this.ngModule)instanceof es?i:i?.injector;s&&null!==this.componentDef.getStandaloneInjector&&(s=this.componentDef.getStandaloneInjector(s)||s);const o=s?new G3(e,s):e,a=o.get(wl,null);if(null===a)throw new T(407,!1);const u=o.get(Bz,null),l=a.createRenderer(null,this.componentDef),c=this.componentDef.selectors[0][0]||"div",d=r?function I3(n,e,t){return n.selectRootElement(e,t===Sr.ShadowDom)}(l,r,this.componentDef.encapsulation):Gy(a.createRenderer(null,this.componentDef),c,function H3(n){const e=n.toLowerCase();return"svg"===e?"svg":"math"===e?"math":null}(c)),h=this.componentDef.onPush?288:272,f={components:[]},p=g_(0,null,null,1,0,null,null,null,null,null),g=Mh(null,p,f,h,null,null,a,l,u,o,null);let m,_;Zm(g);try{const I=function W3(n,e,t,r,i,s){const o=t[1];t[22]=n;const u=xa(o,22,2,"#host",null),l=u.mergedAttrs=e.hostAttrs;null!==l&&(kh(u,l,!0),null!==n&&(oh(i,n,l),null!==u.classes&&Yy(i,n,u.classes),null!==u.styles&&nx(i,n,u.styles)));const c=r.createRenderer(n,e),d=Mh(t,Rx(e),null,e.onPush?32:16,t[22],u,r,c,s||null,null,null);return o.firstCreatePass&&(ch(sl(u,t),o,e.type),Bx(o,u),$x(u,t.length,1)),Nh(t,d),t[22]=d}(d,this.componentDef,g,a,l);if(d)if(r)oh(l,d,["ng-version",AM.full]);else{const{attrs:v,classes:C}=function jW(n){const e=[],t=[];let r=1,i=2;for(;r<n.length;){let s=n[r];if("string"==typeof s)2===i?""!==s&&e.push(s,n[++r]):8===i&&t.push(s);else{if(!Nr(i))break;i=s}r++}return{attrs:e,classes:t}}(this.componentDef.selectors[0]);v&&oh(l,d,v),C&&C.length>0&&Yy(l,d,C.join(" "))}if(_=Hm(p,22),void 0!==t){const v=_.projection=[];for(let C=0;C<this.ngContentSelectors.length;C++){const x=t[C];v.push(null!=x?Array.from(x):null)}}m=function K3(n,e,t,r,i){const s=t[1],o=function D3(n,e,t){const r=wt();n.firstCreatePass&&(t.providersResolver&&t.providersResolver(t),jx(n,r,e,Na(n,e,1,null),t),Fx(n,r));const i=ol(e,n,r.directiveStart,r);rn(i,e);const s=mr(r,e);return s&&rn(s,e),i}(s,t,e);if(r.components.push(o),n[8]=o,null!==i)for(const u of i)u(o,e);if(e.contentQueries){const u=wt();e.contentQueries(1,o,u.directiveStart)}const a=wt();return!s.firstCreatePass||null===e.hostBindings&&null===e.hostAttrs||(Zi(a.index),Vx(t[1],a,0,a.directiveStart,a.directiveEnd,e),Ux(e,o)),o}(I,this.componentDef,g,f,[Y3]),xh(p,g,null)}finally{Xm()}return new z3(this.componentType,m,Ta(_,g),g,_)}}class z3 extends class Pz{}{constructor(e,t,r,i,s){super(),this.location=r,this._rootLView=i,this._tNode=s,this.instance=t,this.hostView=this.changeDetectorRef=new j3(i),this.componentType=e}setInput(e,t){const r=this._tNode.inputs;let i;if(null!==r&&(i=r[e])){const s=this._rootLView;I_(s[1],s,i,e,t),Lx(s,this._tNode.index)}}get injector(){return new fa(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(e){this.hostView.onDestroy(e)}}function Y3(){const n=wt();rh(D()[1],n)}function Se(n){let e=function Yx(n){return Object.getPrototypeOf(n.prototype).constructor}(n.type),t=!0;const r=[n];for(;e;){let i;if(xr(n))i=e.\u0275cmp||e.\u0275dir;else{if(e.\u0275cmp)throw new T(903,!1);i=e.\u0275dir}if(i){if(t){r.push(i);const o=n;o.inputs=T_(n.inputs),o.declaredInputs=T_(n.declaredInputs),o.outputs=T_(n.outputs);const a=i.hostBindings;a&&e4(n,a);const u=i.viewQuery,l=i.contentQueries;if(u&&Z3(n,u),l&&X3(n,l),Mm(n.inputs,i.inputs),Mm(n.declaredInputs,i.declaredInputs),Mm(n.outputs,i.outputs),xr(i)&&i.data.animation){const c=n.data;c.animation=(c.animation||[]).concat(i.data.animation)}}const s=i.features;if(s)for(let o=0;o<s.length;o++){const a=s[o];a&&a.ngInherit&&a(n),a===Se&&(t=!1)}}e=Object.getPrototypeOf(e)}!function J3(n){let e=0,t=null;for(let r=n.length-1;r>=0;r--){const i=n[r];i.hostVars=e+=i.hostVars,i.hostAttrs=ah(i.hostAttrs,t=ah(t,i.hostAttrs))}}(r)}function T_(n){return n===ra?{}:n===Te?[]:n}function Z3(n,e){const t=n.viewQuery;n.viewQuery=t?(r,i)=>{e(r,i),t(r,i)}:e}function X3(n,e){const t=n.contentQueries;n.contentQueries=t?(r,i,s)=>{e(r,i,s),t(r,i,s)}:e}function e4(n,e){const t=n.hostBindings;n.hostBindings=t?(r,i)=>{e(r,i),t(r,i)}:e}let Ph=null;function Js(){if(!Ph){const n=ke.Symbol;if(n&&n.iterator)Ph=n.iterator;else{const e=Object.getOwnPropertyNames(Map.prototype);for(let t=0;t<e.length;++t){const r=e[t];"entries"!==r&&"size"!==r&&Map.prototype[r]===Map.prototype.entries&&(Ph=r)}}}return Ph}function Sl(n){return!!function C_(n){return null!==n&&("function"==typeof n||"object"==typeof n)}(n)&&(Array.isArray(n)||!(n instanceof Map)&&Js()in n)}function sn(n,e,t){return!Object.is(n[e],t)&&(n[e]=t,!0)}function Nn(n,e,t,r){const i=D();return sn(i,ca(),e)&&(ye(),Kr(We(),i,n,e,t,r)),Nn}function Pa(n,e,t,r,i,s){const a=function Zs(n,e,t,r){const i=sn(n,e,t);return sn(n,e+1,r)||i}(n,function mi(){return ne.lFrame.bindingIndex}(),t,i);return yi(2),a?e+se(t)+r+se(i)+s:oe}function Gt(n,e,t,r,i,s,o,a){const u=D(),l=ye(),c=n+22,d=l.firstCreatePass?function u4(n,e,t,r,i,s,o,a,u){const l=e.consts,c=xa(e,n,4,o||null,Ji(l,a));m_(e,t,c,Ji(l,u)),rh(e,c);const d=c.tViews=g_(2,c,r,i,s,e.directiveRegistry,e.pipeRegistry,null,e.schemas,l);return null!==e.queries&&(e.queries.template(e,c),d.queries=e.queries.embeddedTView(c)),c}(c,l,u,e,t,r,i,s,o):l.data[c];Gr(d,!1);const h=u[11].createComment("");bh(l,u,h,d),rn(h,u),Nh(u,u[c]=Hx(h,u,h,d)),Xd(d)&&f_(l,u,d),null!=o&&p_(u,d,a)}function Ke(n,e,t){const r=D();return sn(r,ca(),e)&&Xn(ye(),We(),r,n,e,r[11],t,!1),Ke}function D_(n,e,t,r,i){const o=i?"class":"style";I_(n,t,e.inputs[o],o,r)}function V(n,e,t,r){const i=D(),s=ye(),o=22+n,a=i[11],u=i[o]=Gy(a,e,function uq(){return ne.lFrame.currentNamespace}()),l=s.firstCreatePass?function d4(n,e,t,r,i,s,o){const a=e.consts,l=xa(e,n,2,i,Ji(a,s));return m_(e,t,l,Ji(a,o)),null!==l.attrs&&kh(l,l.attrs,!1),null!==l.mergedAttrs&&kh(l,l.mergedAttrs,!0),null!==e.queries&&e.queries.elementStart(e,l),l}(o,s,i,0,e,t,r):s.data[o];Gr(l,!0);const c=l.mergedAttrs;null!==c&&oh(a,u,c);const d=l.classes;null!==d&&Yy(a,u,d);const h=l.styles;return null!==h&&nx(a,u,h),64!=(64&l.flags)&&bh(s,i,u,l),0===function zG(){return ne.lFrame.elementDepthCount}()&&rn(u,i),function WG(){ne.lFrame.elementDepthCount++}(),Xd(l)&&(f_(s,i,l),kx(s,l,i)),null!==r&&p_(i,l),V}function j(){let n=wt();Wm()?Km():(n=n.parent,Gr(n,!1));const e=n;!function KG(){ne.lFrame.elementDepthCount--}();const t=ye();return t.firstCreatePass&&(rh(t,n),Vm(n)&&t.queries.elementEnd(n)),null!=e.classesWithoutHost&&function fq(n){return 0!=(16&n.flags)}(e)&&D_(t,e,D(),e.classesWithoutHost,!0),null!=e.stylesWithoutHost&&function pq(n){return 0!=(32&n.flags)}(e)&&D_(t,e,D(),e.stylesWithoutHost,!1),j}function It(n,e,t,r){return V(n,e,t,r),j(),It}function Ml(n,e,t){const r=D(),i=ye(),s=n+22,o=i.firstCreatePass?function h4(n,e,t,r,i){const s=e.consts,o=Ji(s,r),a=xa(e,n,8,"ng-container",o);return null!==o&&kh(a,o,!0),m_(e,t,a,Ji(s,i)),null!==e.queries&&e.queries.elementStart(e,a),a}(s,i,r,e,t):i.data[s];Gr(o,!0);const a=r[s]=r[11].createComment("");return bh(i,r,a,o),rn(a,r),Xd(o)&&(f_(i,r,o),kx(i,o,r)),null!=t&&p_(r,o),Ml}function xl(){let n=wt();const e=ye();return Wm()?Km():(n=n.parent,Gr(n,!1)),e.firstCreatePass&&(rh(e,n),Vm(n)&&e.queries.elementEnd(n)),xl}function S_(){return D()}function Nl(n){return!!n&&"function"==typeof n.then}function aN(n){return!!n&&"function"==typeof n.subscribe}const A_=aN;function bt(n,e,t,r){const i=D(),s=ye(),o=wt();return function lN(n,e,t,r,i,s,o,a){const u=Xd(r),c=n.firstCreatePass&&zx(n),d=e[8],h=qx(e);let f=!0;if(3&r.type||a){const m=mr(r,e),_=a?a(m):m,I=h.length,v=a?x=>a(ht(x[r.index])):r.index;let C=null;if(!a&&u&&(C=function f4(n,e,t,r){const i=n.cleanup;if(null!=i)for(let s=0;s<i.length-1;s+=2){const o=i[s];if(o===t&&i[s+1]===r){const a=e[7],u=i[s+2];return a.length>u?a[u]:null}"string"==typeof o&&(s+=2)}return null}(n,e,i,r.index)),null!==C)(C.__ngLastListenerFn__||C).__ngNextListenerFn__=s,C.__ngLastListenerFn__=s,f=!1;else{s=dN(r,e,d,s,!1);const x=t.listen(_,i,s);h.push(s,x),c&&c.push(i,v,I,I+1)}}else s=dN(r,e,d,s,!1);const p=r.outputs;let g;if(f&&null!==p&&(g=p[i])){const m=g.length;if(m)for(let _=0;_<m;_+=2){const F=e[g[_]][g[_+1]].subscribe(s),ae=h.length;h.push(s,F),c&&c.push(i,r.index,ae,-(ae+1))}}}(s,i,i[11],o,n,e,0,r),bt}function cN(n,e,t,r){try{return!1!==t(r)}catch(i){return Kx(n,i),!1}}function dN(n,e,t,r,i){return function s(o){if(o===Function)return r;v_(2&n.flags?Kn(n.index,e):e);let u=cN(e,0,r,o),l=s.__ngNextListenerFn__;for(;l;)u=cN(e,0,l,o)&&u,l=l.__ngNextListenerFn__;return i&&!1===u&&(o.preventDefault(),o.returnValue=!1),u}}function er(n=1){return function nq(n){return(ne.lFrame.contextLView=function rq(n,e){for(;n>0;)e=e[15],n--;return e}(n,ne.lFrame.contextLView))[8]}(n)}function EN(n,e,t,r,i){const s=n[t+1],o=null===e;let a=r?kr(s):Ei(s),u=!1;for(;0!==a&&(!1===u||o);){const c=n[a+1];v4(n[a],e)&&(u=!0,n[a+1]=r?i_(c):n_(c)),a=r?kr(c):Ei(c)}u&&(n[t+1]=r?n_(s):i_(s))}function v4(n,e){return null===n||null==e||(Array.isArray(n)?n[1]:n)===e||!(!Array.isArray(n)||"string"!=typeof e)&&_a(n,e)>=0}const Tt={textEnd:0,key:0,keyEnd:0,value:0,valueEnd:0};function IN(n){return n.substring(Tt.key,Tt.keyEnd)}function bN(n,e){const t=Tt.textEnd;return t===e?-1:(e=Tt.keyEnd=function b4(n,e,t){for(;e<t&&n.charCodeAt(e)>32;)e++;return e}(n,Tt.key=e,t),$a(n,e,t))}function $a(n,e,t){for(;e<t&&n.charCodeAt(e)<=32;)e++;return e}function ja(n,e,t){return Rr(n,e,t,!1),ja}function Fh(n,e){return Rr(n,e,null,!0),Fh}function bi(n){!function Pr(n,e,t,r){const i=ye(),s=yi(2);i.firstUpdatePass&&MN(i,null,s,r);const o=D();if(t!==oe&&sn(o,s,t)){const a=i.data[mn()];if(RN(a,r)&&!AN(i,s)){let u=r?a.classesWithoutHost:a.stylesWithoutHost;null!==u&&(t=xm(u,t||"")),D_(i,a,o,t,r)}else!function k4(n,e,t,r,i,s,o,a){i===oe&&(i=Te);let u=0,l=0,c=0<i.length?i[0]:null,d=0<s.length?s[0]:null;for(;null!==c||null!==d;){const h=u<i.length?i[u+1]:void 0,f=l<s.length?s[l+1]:void 0;let g,p=null;c===d?(u+=2,l+=2,h!==f&&(p=d,g=f)):null===d||null!==c&&c<d?(u+=2,p=c):(l+=2,p=d,g=f),null!==p&&NN(n,e,t,r,p,g,o,a),c=u<i.length?i[u]:null,d=l<s.length?s[l]:null}}(i,a,o,o[11],o[s+1],o[s+1]=function N4(n,e,t){if(null==t||""===t)return Te;const r=[],i=Jn(t);if(Array.isArray(i))for(let s=0;s<i.length;s++)n(r,i[s],!0);else if("object"==typeof i)for(const s in i)i.hasOwnProperty(s)&&n(r,s,i[s]);else"string"==typeof i&&e(r,i);return r}(n,e,t),r,s)}}(Yn,Jr,n,!0)}function Jr(n,e){for(let t=function E4(n){return function CN(n){Tt.key=0,Tt.keyEnd=0,Tt.value=0,Tt.valueEnd=0,Tt.textEnd=n.length}(n),bN(n,$a(n,0,Tt.textEnd))}(e);t>=0;t=bN(e,t))Yn(n,IN(e),!0)}function Rr(n,e,t,r){const i=D(),s=ye(),o=yi(2);s.firstUpdatePass&&MN(s,n,o,r),e!==oe&&sn(i,o,e)&&NN(s,s.data[mn()],i,i[11],n,i[o+1]=function R4(n,e){return null==n||("string"==typeof e?n+=e:"object"==typeof n&&(n=Ne(Jn(n)))),n}(e,t),r,o)}function AN(n,e){return e>=n.expandoStartIndex}function MN(n,e,t,r){const i=n.data;if(null===i[t+1]){const s=i[mn()],o=AN(n,t);RN(s,r)&&null===e&&!o&&(e=!1),e=function S4(n,e,t,r){const i=Ym(n);let s=r?e.residualClasses:e.residualStyles;if(null===i)0===(r?e.classBindings:e.styleBindings)&&(t=kl(t=x_(null,n,e,t,r),e.attrs,r),s=null);else{const o=e.directiveStylingLast;if(-1===o||n[o]!==i)if(t=x_(i,n,e,t,r),null===s){let u=function A4(n,e,t){const r=t?e.classBindings:e.styleBindings;if(0!==Ei(r))return n[kr(r)]}(n,e,r);void 0!==u&&Array.isArray(u)&&(u=x_(null,n,e,u[1],r),u=kl(u,e.attrs,r),function M4(n,e,t,r){n[kr(t?e.classBindings:e.styleBindings)]=r}(n,e,r,u))}else s=function x4(n,e,t){let r;const i=e.directiveEnd;for(let s=1+e.directiveStylingLast;s<i;s++)r=kl(r,n[s].hostAttrs,t);return kl(r,e.attrs,t)}(n,e,r)}return void 0!==s&&(r?e.residualClasses=s:e.residualStyles=s),t}(i,s,e,r),function y4(n,e,t,r,i,s){let o=s?e.classBindings:e.styleBindings,a=kr(o),u=Ei(o);n[r]=t;let c,l=!1;if(Array.isArray(t)){const d=t;c=d[1],(null===c||_a(d,c)>0)&&(l=!0)}else c=t;if(i)if(0!==u){const h=kr(n[a+1]);n[r+1]=Dh(h,a),0!==h&&(n[h+1]=r_(n[h+1],r)),n[a+1]=function a3(n,e){return 131071&n|e<<17}(n[a+1],r)}else n[r+1]=Dh(a,0),0!==a&&(n[a+1]=r_(n[a+1],r)),a=r;else n[r+1]=Dh(u,0),0===a?a=r:n[u+1]=r_(n[u+1],r),u=r;l&&(n[r+1]=n_(n[r+1])),EN(n,c,r,!0),EN(n,c,r,!1),function _4(n,e,t,r,i){const s=i?n.residualClasses:n.residualStyles;null!=s&&"string"==typeof e&&_a(s,e)>=0&&(t[r+1]=i_(t[r+1]))}(e,c,n,r,s),o=Dh(a,u),s?e.classBindings=o:e.styleBindings=o}(i,s,e,t,o,r)}}function x_(n,e,t,r,i){let s=null;const o=t.directiveEnd;let a=t.directiveStylingLast;for(-1===a?a=t.directiveStart:a++;a<o&&(s=e[a],r=kl(r,s.hostAttrs,i),s!==n);)a++;return null!==n&&(t.directiveStylingLast=a),r}function kl(n,e,t){const r=t?1:2;let i=-1;if(null!==e)for(let s=0;s<e.length;s++){const o=e[s];"number"==typeof o?i=o:i===r&&(Array.isArray(n)||(n=void 0===n?[]:["",n]),Yn(n,o,!!t||e[++s]))}return void 0===n?null:n}function NN(n,e,t,r,i,s,o,a){if(!(3&e.type))return;const u=n.data,l=u[a+1];Lh(function Ix(n){return 1==(1&n)}(l)?kN(u,e,t,i,Ei(l),o):void 0)||(Lh(s)||function Ex(n){return 2==(2&n)}(l)&&(s=kN(u,null,t,i,a,o)),function NW(n,e,t,r,i){if(e)i?n.addClass(t,r):n.removeClass(t,r);else{let s=-1===r.indexOf("-")?void 0:xn.DashCase;null==i?n.removeStyle(t,r,s):("string"==typeof i&&i.endsWith("!important")&&(i=i.slice(0,-10),s|=xn.Important),n.setStyle(t,r,i,s))}}(r,o,eh(mn(),t),i,s))}function kN(n,e,t,r,i,s){const o=null===e;let a;for(;i>0;){const u=n[i],l=Array.isArray(u),c=l?u[1]:u,d=null===c;let h=t[i+1];h===oe&&(h=d?Te:void 0);let f=d?uy(h,r):c===r?h:void 0;if(l&&!Lh(f)&&(f=uy(u,r)),Lh(f)&&(a=f,o))return a;const p=n[i+1];i=o?kr(p):Ei(p)}if(null!==e){let u=s?e.residualClasses:e.residualStyles;null!=u&&(a=uy(u,r))}return a}function Lh(n){return void 0!==n}function RN(n,e){return 0!=(n.flags&(e?16:32))}function z(n,e=""){const t=D(),r=ye(),i=n+22,s=r.firstCreatePass?xa(r,i,1,e,null):r.data[i],o=t[i]=function Hy(n,e){return n.createText(e)}(t[11],e);bh(r,t,o,s),Gr(s,!1)}function tr(n){return nr("",n,""),tr}function nr(n,e,t){const r=D(),i=function Ra(n,e,t,r){return sn(n,ca(),t)?e+se(t)+r:oe}(r,n,e,t);return i!==oe&&Ii(r,mn(),i),nr}function N_(n,e,t,r,i){const s=D(),o=Pa(s,n,e,t,r,i);return o!==oe&&Ii(s,mn(),o),N_}function k_(n,e,t){const r=D();if(sn(r,ca(),e)){const s=ye(),o=We();Xn(s,o,r,n,e,function Wx(n,e,t){return(null===n||xr(n))&&(t=function HG(n){for(;Array.isArray(n);){if("object"==typeof n[1])return n;n=n[0]}return null}(t[e.index])),t[11]}(Ym(s.data),o,r),t,!0)}return k_}const Ga="en-US";let XN=Ga;function O_(n,e,t,r,i){if(n=X(n),Array.isArray(n))for(let s=0;s<n.length;s++)O_(n[s],e,t,r,i);else{const s=ye(),o=D();let a=Qs(n)?n:X(n.provide),u=CM(n);const l=wt(),c=1048575&l.providerIndexes,d=l.directiveStart,h=l.providerIndexes>>20;if(Qs(n)||!n.multi){const f=new rl(u,i,b),p=L_(a,e,i?c:c+h,d);-1===p?(ch(sl(l,o),s,a),F_(s,n,e.length),e.push(a),l.directiveStart++,l.directiveEnd++,i&&(l.providerIndexes+=1048576),t.push(f),o.push(f)):(t[p]=f,o[p]=f)}else{const f=L_(a,e,c+h,d),p=L_(a,e,c,c+h),g=f>=0&&t[f],m=p>=0&&t[p];if(i&&!m||!i&&!g){ch(sl(l,o),s,a);const _=function JK(n,e,t,r,i){const s=new rl(n,t,b);return s.multi=[],s.index=e,s.componentProviders=0,Tk(s,i,r&&!t),s}(i?YK:QK,t.length,i,r,u);!i&&m&&(t[p].providerFactory=_),F_(s,n,e.length,0),e.push(a),l.directiveStart++,l.directiveEnd++,i&&(l.providerIndexes+=1048576),t.push(_),o.push(_)}else F_(s,n,f>-1?f:p,Tk(t[i?p:f],u,!i&&r));!i&&r&&m&&t[p].componentProviders++}}}function F_(n,e,t,r){const i=Qs(e),s=function Dz(n){return!!n.useClass}(e);if(i||s){const u=(s?X(e.useClass):e).prototype.ngOnDestroy;if(u){const l=n.destroyHooks||(n.destroyHooks=[]);if(!i&&e.multi){const c=l.indexOf(t);-1===c?l.push(t,[r,u]):l[c+1].push(r,u)}else l.push(t,u)}}}function Tk(n,e,t){return t&&n.componentProviders++,n.multi.push(e)-1}function L_(n,e,t,r){for(let i=t;i<r;i++)if(e[i]===n)return i;return-1}function QK(n,e,t,r){return V_(this.multi,[])}function YK(n,e,t,r){const i=this.multi;let s;if(this.providerFactory){const o=this.providerFactory.componentProviders,a=ol(t,t[1],this.providerFactory.index,r);s=a.slice(0,o),V_(i,s);for(let u=o;u<a.length;u++)s.push(a[u])}else s=[],V_(i,s);return s}function V_(n,e){for(let t=0;t<n.length;t++)e.push((0,n[t])());return e}function Be(n,e=[]){return t=>{t.providersResolver=(r,i)=>function KK(n,e,t){const r=ye();if(r.firstCreatePass){const i=xr(n);O_(t,r.data,r.blueprint,i,!0),O_(e,r.data,r.blueprint,i,!1)}}(r,i?i(n):n,e)}}class eo{}class Ck{}class Dk extends eo{constructor(e,t){super(),this._parent=t,this._bootstrapComponents=[],this.destroyCbs=[],this.componentFactoryResolver=new b_(this);const r=zn(e);this._bootstrapComponents=wi(r.bootstrap),this._r3Injector=fx(e,t,[{provide:eo,useValue:this},{provide:ba,useValue:this.componentFactoryResolver}],Ne(e),new Set(["environment"])),this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(e)}get injector(){return this._r3Injector}destroy(){const e=this._r3Injector;!e.destroyed&&e.destroy(),this.destroyCbs.forEach(t=>t()),this.destroyCbs=null}onDestroy(e){this.destroyCbs.push(e)}}class U_ extends Ck{constructor(e){super(),this.moduleType=e}create(e){return new Dk(this.moduleType,e)}}class XK extends eo{constructor(e,t,r){super(),this.componentFactoryResolver=new b_(this),this.instance=null;const i=new TM([...e,{provide:eo,useValue:this},{provide:ba,useValue:this.componentFactoryResolver}],t||Eh(),r,new Set(["environment"]));this.injector=i,i.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(e){this.injector.onDestroy(e)}}function jh(n,e,t=null){return new XK(n,e,t).injector}let e8=(()=>{class n{constructor(t){this._injector=t,this.cachedInjectors=new Map}getOrCreateStandaloneInjector(t){if(!t.standalone)return null;if(!this.cachedInjectors.has(t.id)){const r=wM(0,t.type),i=r.length>0?jh([r],this._injector,`Standalone[${t.type.name}]`):null;this.cachedInjectors.set(t.id,i)}return this.cachedInjectors.get(t.id)}ngOnDestroy(){try{for(const t of this.cachedInjectors.values())null!==t&&t.destroy()}finally{this.cachedInjectors.clear()}}}return n.\u0275prov=U({token:n,providedIn:"environment",factory:()=>new n(M(es))}),n})();function Sk(n){n.getStandaloneInjector=e=>e.get(e8).getOrCreateStandaloneInjector(n)}function Pk(n,e,t,r,i,s){const o=e+t;return sn(n,o,i)?function Qr(n,e,t){return n[e]=t}(n,o+1,s?r.call(s,i):r(i)):function Ll(n,e){const t=n[e];return t===oe?void 0:t}(n,o+1)}function Bk(n,e,t){const r=n+22,i=D(),s=function la(n,e){return n[e]}(i,r);return function Vl(n,e){return n[1].data[e].pure}(i,r)?Pk(i,function gn(){const n=ne.lFrame;let e=n.bindingRootIndex;return-1===e&&(e=n.bindingRootIndex=n.tView.bindingStartIndex),e}(),e,s.transform,t,s):s.transform(t)}function $_(n){return e=>{setTimeout(n,void 0,e)}}const Ye=class T8 extends Xe{constructor(e=!1){super(),this.__isAsync=e}emit(e){super.next(e)}subscribe(e,t,r){let i=e,s=t||(()=>null),o=r;if(e&&"object"==typeof e){const u=e;i=u.next?.bind(u),s=u.error?.bind(u),o=u.complete?.bind(u)}this.__isAsync&&(s=$_(s),i&&(i=$_(i)),o&&(o=$_(o)));const a=super.subscribe({next:i,error:s,complete:o});return e instanceof $n&&e.add(a),a}};let Ti=(()=>{class n{}return n.__NG_ELEMENT_ID__=A8,n})();const D8=Ti,S8=class extends D8{constructor(e,t,r){super(),this._declarationLView=e,this._declarationTContainer=t,this.elementRef=r}createEmbeddedView(e,t){const r=this._declarationTContainer.tViews,i=Mh(this._declarationLView,r,e,16,null,r.declTNode,null,null,null,null,t||null);i[17]=this._declarationLView[this._declarationTContainer.index];const o=this._declarationLView[19];return null!==o&&(i[19]=o.createEmbeddedView(r)),xh(r,i,e),new Cl(i)}};function A8(){return function Hh(n,e){return 4&n.type?new S8(e,n,Ta(n,e)):null}(wt(),D())}let Or=(()=>{class n{}return n.__NG_ELEMENT_ID__=M8,n})();function M8(){return function Hk(n,e){let t;const r=e[n.index];if(Mr(r))t=r;else{let i;if(8&n.type)i=ht(r);else{const s=e[11];i=s.createComment("");const o=mr(n,e);Ys(s,Ih(s,o),i,function AW(n,e){return n.nextSibling(e)}(s,o),!1)}e[n.index]=t=Hx(r,e,i,n),Nh(e,t)}return new $k(t,n,e)}(wt(),D())}const x8=Or,$k=class extends x8{constructor(e,t,r){super(),this._lContainer=e,this._hostTNode=t,this._hostLView=r}get element(){return Ta(this._hostTNode,this._hostLView)}get injector(){return new fa(this._hostTNode,this._hostLView)}get parentInjector(){const e=lh(this._hostTNode,this._hostLView);if(PA(e)){const t=ha(e,this._hostLView),r=da(e);return new fa(t[1].data[r+8],t)}return new fa(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(e){const t=jk(this._lContainer);return null!==t&&t[e]||null}get length(){return this._lContainer.length-10}createEmbeddedView(e,t,r){let i,s;"number"==typeof r?i=r:null!=r&&(i=r.index,s=r.injector);const o=e.createEmbeddedView(t||{},s);return this.insert(o,i),o}createComponent(e,t,r,i,s){const o=e&&!function ll(n){return"function"==typeof n}(e);let a;if(o)a=t;else{const d=t||{};a=d.index,r=d.injector,i=d.projectableNodes,s=d.environmentInjector||d.ngModuleRef}const u=o?e:new Dl(De(e)),l=r||this.parentInjector;if(!s&&null==u.ngModule){const h=(o?l:this.parentInjector).get(es,null);h&&(s=h)}const c=u.create(l,i,void 0,s);return this.insert(c.hostView,a),c}insert(e,t){const r=e._lView,i=r[1];if(function qG(n){return Mr(n[3])}(r)){const c=this.indexOf(e);if(-1!==c)this.detach(c);else{const d=r[3],h=new $k(d,d[6],d[3]);h.detach(h.indexOf(e))}}const s=this._adjustIndex(t),o=this._lContainer;!function bW(n,e,t,r){const i=10+r,s=t.length;r>0&&(t[i-1][4]=e),r<s-10?(e[4]=t[i],qA(t,10+r,e)):(t.push(e),e[4]=null),e[3]=t;const o=e[17];null!==o&&t!==o&&function TW(n,e){const t=n[9];e[16]!==e[3][3][16]&&(n[2]=!0),null===t?n[9]=[e]:t.push(e)}(o,e);const a=e[19];null!==a&&a.insertView(n),e[2]|=64}(i,r,o,s);const a=Ky(s,o),u=r[11],l=Ih(u,o[7]);return null!==l&&function wW(n,e,t,r,i,s){r[0]=i,r[6]=e,bl(n,r,t,1,i,s)}(i,o[6],u,r,l,a),e.attachToViewContainerRef(),qA(H_(o),s,e),e}move(e,t){return this.insert(e,t)}indexOf(e){const t=jk(this._lContainer);return null!==t?t.indexOf(e):-1}remove(e){const t=this._adjustIndex(e,-1),r=qy(this._lContainer,t);r&&(hh(H_(this._lContainer),t),GM(r[1],r))}detach(e){const t=this._adjustIndex(e,-1),r=qy(this._lContainer,t);return r&&null!=hh(H_(this._lContainer),t)?new Cl(r):null}_adjustIndex(e,t=0){return e??this.length+t}};function jk(n){return n[8]}function H_(n){return n[8]||(n[8]=[])}function qh(...n){}const Bl=new $("Application Initializer");let zh=(()=>{class n{constructor(t){this.appInits=t,this.resolve=qh,this.reject=qh,this.initialized=!1,this.done=!1,this.donePromise=new Promise((r,i)=>{this.resolve=r,this.reject=i})}runInitializers(){if(this.initialized)return;const t=[],r=()=>{this.done=!0,this.resolve()};if(this.appInits)for(let i=0;i<this.appInits.length;i++){const s=this.appInits[i]();if(Nl(s))t.push(s);else if(A_(s)){const o=new Promise((a,u)=>{s.subscribe({complete:a,error:u})});t.push(o)}}Promise.all(t).then(()=>{r()}).catch(i=>{this.reject(i)}),0===t.length&&r(),this.initialized=!0}}return n.\u0275fac=function(t){return new(t||n)(M(Bl,8))},n.\u0275prov=U({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const $l=new $("AppId",{providedIn:"root",factory:function fR(){return`${nv()}${nv()}${nv()}`}});function nv(){return String.fromCharCode(97+Math.floor(25*Math.random()))}const pR=new $("Platform Initializer"),to=new $("Platform ID",{providedIn:"platform",factory:()=>"unknown"}),gR=new $("appBootstrapListener"),mR=new $("AnimationModuleType");let o6=(()=>{class n{log(t){console.log(t)}warn(t){console.warn(t)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=U({token:n,factory:n.\u0275fac,providedIn:"platform"}),n})();const Ci=new $("LocaleId",{providedIn:"root",factory:()=>tt(Ci,K.Optional|K.SkipSelf)||function a6(){return typeof $localize<"u"&&$localize.locale||Ga}()});class l6{constructor(e,t){this.ngModuleFactory=e,this.componentFactories=t}}let rv=(()=>{class n{compileModuleSync(t){return new U_(t)}compileModuleAsync(t){return Promise.resolve(this.compileModuleSync(t))}compileModuleAndAllComponentsSync(t){const r=this.compileModuleSync(t),s=wi(zn(t).declarations).reduce((o,a)=>{const u=De(a);return u&&o.push(new Dl(u)),o},[]);return new l6(r,s)}compileModuleAndAllComponentsAsync(t){return Promise.resolve(this.compileModuleAndAllComponentsSync(t))}clearCache(){}clearCacheFor(t){}getModuleId(t){}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=U({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const h6=(()=>Promise.resolve(0))();function iv(n){typeof Zone>"u"?h6.then(()=>{n&&n.apply(null,null)}):Zone.current.scheduleMicroTask("scheduleMicrotask",n)}class Pe{constructor({enableLongStackTrace:e=!1,shouldCoalesceEventChangeDetection:t=!1,shouldCoalesceRunChangeDetection:r=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new Ye(!1),this.onMicrotaskEmpty=new Ye(!1),this.onStable=new Ye(!1),this.onError=new Ye(!1),typeof Zone>"u")throw new T(908,!1);Zone.assertZonePatched();const i=this;if(i._nesting=0,i._outer=i._inner=Zone.current,Zone.AsyncStackTaggingZoneSpec){const s=Zone.AsyncStackTaggingZoneSpec;i._inner=i._inner.fork(new s("Angular"))}Zone.TaskTrackingZoneSpec&&(i._inner=i._inner.fork(new Zone.TaskTrackingZoneSpec)),e&&Zone.longStackTraceZoneSpec&&(i._inner=i._inner.fork(Zone.longStackTraceZoneSpec)),i.shouldCoalesceEventChangeDetection=!r&&t,i.shouldCoalesceRunChangeDetection=r,i.lastRequestAnimationFrameId=-1,i.nativeRequestAnimationFrame=function f6(){let n=ke.requestAnimationFrame,e=ke.cancelAnimationFrame;if(typeof Zone<"u"&&n&&e){const t=n[Zone.__symbol__("OriginalDelegate")];t&&(n=t);const r=e[Zone.__symbol__("OriginalDelegate")];r&&(e=r)}return{nativeRequestAnimationFrame:n,nativeCancelAnimationFrame:e}}().nativeRequestAnimationFrame,function m6(n){const e=()=>{!function g6(n){n.isCheckStableRunning||-1!==n.lastRequestAnimationFrameId||(n.lastRequestAnimationFrameId=n.nativeRequestAnimationFrame.call(ke,()=>{n.fakeTopEventTask||(n.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{n.lastRequestAnimationFrameId=-1,ov(n),n.isCheckStableRunning=!0,sv(n),n.isCheckStableRunning=!1},void 0,()=>{},()=>{})),n.fakeTopEventTask.invoke()}),ov(n))}(n)};n._inner=n._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(t,r,i,s,o,a)=>{try{return vR(n),t.invokeTask(i,s,o,a)}finally{(n.shouldCoalesceEventChangeDetection&&"eventTask"===s.type||n.shouldCoalesceRunChangeDetection)&&e(),wR(n)}},onInvoke:(t,r,i,s,o,a,u)=>{try{return vR(n),t.invoke(i,s,o,a,u)}finally{n.shouldCoalesceRunChangeDetection&&e(),wR(n)}},onHasTask:(t,r,i,s)=>{t.hasTask(i,s),r===i&&("microTask"==s.change?(n._hasPendingMicrotasks=s.microTask,ov(n),sv(n)):"macroTask"==s.change&&(n.hasPendingMacrotasks=s.macroTask))},onHandleError:(t,r,i,s)=>(t.handleError(i,s),n.runOutsideAngular(()=>n.onError.emit(s)),!1)})}(i)}static isInAngularZone(){return typeof Zone<"u"&&!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!Pe.isInAngularZone())throw new T(909,!1)}static assertNotInAngularZone(){if(Pe.isInAngularZone())throw new T(909,!1)}run(e,t,r){return this._inner.run(e,t,r)}runTask(e,t,r,i){const s=this._inner,o=s.scheduleEventTask("NgZoneEvent: "+i,e,p6,qh,qh);try{return s.runTask(o,t,r)}finally{s.cancelTask(o)}}runGuarded(e,t,r){return this._inner.runGuarded(e,t,r)}runOutsideAngular(e){return this._outer.run(e)}}const p6={};function sv(n){if(0==n._nesting&&!n.hasPendingMicrotasks&&!n.isStable)try{n._nesting++,n.onMicrotaskEmpty.emit(null)}finally{if(n._nesting--,!n.hasPendingMicrotasks)try{n.runOutsideAngular(()=>n.onStable.emit(null))}finally{n.isStable=!0}}}function ov(n){n.hasPendingMicrotasks=!!(n._hasPendingMicrotasks||(n.shouldCoalesceEventChangeDetection||n.shouldCoalesceRunChangeDetection)&&-1!==n.lastRequestAnimationFrameId)}function vR(n){n._nesting++,n.isStable&&(n.isStable=!1,n.onUnstable.emit(null))}function wR(n){n._nesting--,sv(n)}class y6{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new Ye,this.onMicrotaskEmpty=new Ye,this.onStable=new Ye,this.onError=new Ye}run(e,t,r){return e.apply(t,r)}runGuarded(e,t,r){return e.apply(t,r)}runOutsideAngular(e){return e()}runTask(e,t,r,i){return e.apply(t,r)}}const ER=new $(""),Wh=new $("");let lv,av=(()=>{class n{constructor(t,r,i){this._ngZone=t,this.registry=r,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,lv||(function _6(n){lv=n}(i),i.addToWindow(r)),this._watchAngularEvents(),t.run(()=>{this.taskTrackingZone=typeof Zone>"u"?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{Pe.assertNotInAngularZone(),iv(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())iv(()=>{for(;0!==this._callbacks.length;){let t=this._callbacks.pop();clearTimeout(t.timeoutId),t.doneCb(this._didWork)}this._didWork=!1});else{let t=this.getPendingTasks();this._callbacks=this._callbacks.filter(r=>!r.updateCb||!r.updateCb(t)||(clearTimeout(r.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(t=>({source:t.source,creationLocation:t.creationLocation,data:t.data})):[]}addCallback(t,r,i){let s=-1;r&&r>0&&(s=setTimeout(()=>{this._callbacks=this._callbacks.filter(o=>o.timeoutId!==s),t(this._didWork,this.getPendingTasks())},r)),this._callbacks.push({doneCb:t,timeoutId:s,updateCb:i})}whenStable(t,r,i){if(i&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(t,r,i),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}registerApplication(t){this.registry.registerApplication(t,this)}unregisterApplication(t){this.registry.unregisterApplication(t)}findProviders(t,r,i){return[]}}return n.\u0275fac=function(t){return new(t||n)(M(Pe),M(uv),M(Wh))},n.\u0275prov=U({token:n,factory:n.\u0275fac}),n})(),uv=(()=>{class n{constructor(){this._applications=new Map}registerApplication(t,r){this._applications.set(t,r)}unregisterApplication(t){this._applications.delete(t)}unregisterAllApplications(){this._applications.clear()}getTestability(t){return this._applications.get(t)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(t,r=!0){return lv?.findTestabilityInTree(this,t,r)??null}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=U({token:n,factory:n.\u0275fac,providedIn:"platform"}),n})(),rs=null;const IR=new $("AllowMultipleToken"),cv=new $("PlatformDestroyListeners");class bR{constructor(e,t){this.name=e,this.token=t}}function CR(n,e,t=[]){const r=`Platform: ${e}`,i=new $(r);return(s=[])=>{let o=dv();if(!o||o.injector.get(IR,!1)){const a=[...t,...s,{provide:i,useValue:!0}];n?n(a):function E6(n){if(rs&&!rs.get(IR,!1))throw new T(400,!1);rs=n;const e=n.get(SR);(function TR(n){const e=n.get(pR,null);e&&e.forEach(t=>t())})(n)}(function DR(n=[],e){return Rt.create({name:e,providers:[{provide:Cy,useValue:"platform"},{provide:cv,useValue:new Set([()=>rs=null])},...n]})}(a,r))}return function b6(n){const e=dv();if(!e)throw new T(401,!1);return e}()}}function dv(){return rs?.get(SR)??null}let SR=(()=>{class n{constructor(t){this._injector=t,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(t,r){const i=function MR(n,e){let t;return t="noop"===n?new y6:("zone.js"===n?void 0:n)||new Pe(e),t}(r?.ngZone,function AR(n){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:!(!n||!n.ngZoneEventCoalescing)||!1,shouldCoalesceRunChangeDetection:!(!n||!n.ngZoneRunCoalescing)||!1}}(r)),s=[{provide:Pe,useValue:i}];return i.run(()=>{const o=Rt.create({providers:s,parent:this.injector,name:t.moduleType.name}),a=t.create(o),u=a.injector.get(Da,null);if(!u)throw new T(402,!1);return i.runOutsideAngular(()=>{const l=i.onError.subscribe({next:c=>{u.handleError(c)}});a.onDestroy(()=>{Kh(this._modules,a),l.unsubscribe()})}),function xR(n,e,t){try{const r=t();return Nl(r)?r.catch(i=>{throw e.runOutsideAngular(()=>n.handleError(i)),i}):r}catch(r){throw e.runOutsideAngular(()=>n.handleError(r)),r}}(u,i,()=>{const l=a.injector.get(zh);return l.runInitializers(),l.donePromise.then(()=>(function ek(n){Gn(n,"Expected localeId to be defined"),"string"==typeof n&&(XN=n.toLowerCase().replace(/_/g,"-"))}(a.injector.get(Ci,Ga)||Ga),this._moduleDoBootstrap(a),a))})})}bootstrapModule(t,r=[]){const i=NR({},r);return function v6(n,e,t){const r=new U_(t);return Promise.resolve(r)}(0,0,t).then(s=>this.bootstrapModuleFactory(s,i))}_moduleDoBootstrap(t){const r=t.injector.get(is);if(t._bootstrapComponents.length>0)t._bootstrapComponents.forEach(i=>r.bootstrap(i));else{if(!t.instance.ngDoBootstrap)throw new T(403,!1);t.instance.ngDoBootstrap(r)}this._modules.push(t)}onDestroy(t){this._destroyListeners.push(t)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new T(404,!1);this._modules.slice().forEach(r=>r.destroy()),this._destroyListeners.forEach(r=>r());const t=this._injector.get(cv,null);t&&(t.forEach(r=>r()),t.clear()),this._destroyed=!0}get destroyed(){return this._destroyed}}return n.\u0275fac=function(t){return new(t||n)(M(Rt))},n.\u0275prov=U({token:n,factory:n.\u0275fac,providedIn:"platform"}),n})();function NR(n,e){return Array.isArray(e)?e.reduce(NR,n):{...n,...e}}let is=(()=>{class n{constructor(t,r,i){this._zone=t,this._injector=r,this._exceptionHandler=i,this._bootstrapListeners=[],this._views=[],this._runningTick=!1,this._stable=!0,this._destroyed=!1,this._destroyListeners=[],this.componentTypes=[],this.components=[],this._onMicrotaskEmptySubscription=this._zone.onMicrotaskEmpty.subscribe({next:()=>{this._zone.run(()=>{this.tick()})}});const s=new Ae(a=>{this._stable=this._zone.isStable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks,this._zone.runOutsideAngular(()=>{a.next(this._stable),a.complete()})}),o=new Ae(a=>{let u;this._zone.runOutsideAngular(()=>{u=this._zone.onStable.subscribe(()=>{Pe.assertNotInAngularZone(),iv(()=>{!this._stable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks&&(this._stable=!0,a.next(!0))})})});const l=this._zone.onUnstable.subscribe(()=>{Pe.assertInAngularZone(),this._stable&&(this._stable=!1,this._zone.runOutsideAngular(()=>{a.next(!1)}))});return()=>{u.unsubscribe(),l.unsubscribe()}});this.isStable=Sm(s,o.pipe(function gG(n={}){const{connector:e=(()=>new Xe),resetOnError:t=!0,resetOnComplete:r=!0,resetOnRefCountZero:i=!0}=n;return s=>{let o,a,u,l=0,c=!1,d=!1;const h=()=>{a?.unsubscribe(),a=void 0},f=()=>{h(),o=u=void 0,c=d=!1},p=()=>{const g=o;f(),g?.unsubscribe()};return lt((g,m)=>{l++,!d&&!c&&h();const _=u=u??e();m.add(()=>{l--,0===l&&!d&&!c&&(a=Am(p,i))}),_.subscribe(m),!o&&l>0&&(o=new Yu({next:I=>_.next(I),error:I=>{d=!0,h(),a=Am(f,t,I),_.error(I)},complete:()=>{c=!0,h(),a=Am(f,r),_.complete()}}),jn(g).subscribe(o))})(s)}}()))}get destroyed(){return this._destroyed}get injector(){return this._injector}bootstrap(t,r){const i=t instanceof DM;if(!this._injector.get(zh).done)throw!i&&function ia(n){const e=De(n)||fn(n)||pn(n);return null!==e&&e.standalone}(t),new T(405,false);let o;o=i?t:this._injector.get(ba).resolveComponentFactory(t),this.componentTypes.push(o.componentType);const a=function w6(n){return n.isBoundToModule}(o)?void 0:this._injector.get(eo),l=o.create(Rt.NULL,[],r||o.selector,a),c=l.location.nativeElement,d=l.injector.get(ER,null);return d?.registerApplication(c),l.onDestroy(()=>{this.detachView(l.hostView),Kh(this.components,l),d?.unregisterApplication(c)}),this._loadComponent(l),l}tick(){if(this._runningTick)throw new T(101,!1);try{this._runningTick=!0;for(let t of this._views)t.detectChanges()}catch(t){this._zone.runOutsideAngular(()=>this._exceptionHandler.handleError(t))}finally{this._runningTick=!1}}attachView(t){const r=t;this._views.push(r),r.attachToAppRef(this)}detachView(t){const r=t;Kh(this._views,r),r.detachFromAppRef()}_loadComponent(t){this.attachView(t.hostView),this.tick(),this.components.push(t),this._injector.get(gR,[]).concat(this._bootstrapListeners).forEach(i=>i(t))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(t=>t()),this._views.slice().forEach(t=>t.destroy()),this._onMicrotaskEmptySubscription.unsubscribe()}finally{this._destroyed=!0,this._views=[],this._bootstrapListeners=[],this._destroyListeners=[]}}onDestroy(t){return this._destroyListeners.push(t),()=>Kh(this._destroyListeners,t)}destroy(){if(this._destroyed)throw new T(406,!1);const t=this._injector;t.destroy&&!t.destroyed&&t.destroy()}get viewCount(){return this._views.length}warnIfDestroyed(){}}return n.\u0275fac=function(t){return new(t||n)(M(Pe),M(es),M(Da))},n.\u0275prov=U({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function Kh(n,e){const t=n.indexOf(e);t>-1&&n.splice(t,1)}let RR=!0,Qh=(()=>{class n{}return n.__NG_ELEMENT_ID__=D6,n})();function D6(n){return function S6(n,e,t){if(Zd(n)&&!t){const r=Kn(n.index,e);return new Cl(r,r)}return 47&n.type?new Cl(e[16],e):null}(wt(),D(),16==(16&n))}class VR{constructor(){}supports(e){return Sl(e)}create(e){return new R6(e)}}const k6=(n,e)=>e;class R6{constructor(e){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=e||k6}forEachItem(e){let t;for(t=this._itHead;null!==t;t=t._next)e(t)}forEachOperation(e){let t=this._itHead,r=this._removalsHead,i=0,s=null;for(;t||r;){const o=!r||t&&t.currentIndex<BR(r,i,s)?t:r,a=BR(o,i,s),u=o.currentIndex;if(o===r)i--,r=r._nextRemoved;else if(t=t._next,null==o.previousIndex)i++;else{s||(s=[]);const l=a-i,c=u-i;if(l!=c){for(let h=0;h<l;h++){const f=h<s.length?s[h]:s[h]=0,p=f+h;c<=p&&p<l&&(s[h]=f+1)}s[o.previousIndex]=c-l}}a!==u&&e(o,a,u)}}forEachPreviousItem(e){let t;for(t=this._previousItHead;null!==t;t=t._nextPrevious)e(t)}forEachAddedItem(e){let t;for(t=this._additionsHead;null!==t;t=t._nextAdded)e(t)}forEachMovedItem(e){let t;for(t=this._movesHead;null!==t;t=t._nextMoved)e(t)}forEachRemovedItem(e){let t;for(t=this._removalsHead;null!==t;t=t._nextRemoved)e(t)}forEachIdentityChange(e){let t;for(t=this._identityChangesHead;null!==t;t=t._nextIdentityChange)e(t)}diff(e){if(null==e&&(e=[]),!Sl(e))throw new T(900,!1);return this.check(e)?this:null}onDestroy(){}check(e){this._reset();let i,s,o,t=this._itHead,r=!1;if(Array.isArray(e)){this.length=e.length;for(let a=0;a<this.length;a++)s=e[a],o=this._trackByFn(a,s),null!==t&&Object.is(t.trackById,o)?(r&&(t=this._verifyReinsertion(t,s,o,a)),Object.is(t.item,s)||this._addIdentityChange(t,s)):(t=this._mismatch(t,s,o,a),r=!0),t=t._next}else i=0,function s4(n,e){if(Array.isArray(n))for(let t=0;t<n.length;t++)e(n[t]);else{const t=n[Js()]();let r;for(;!(r=t.next()).done;)e(r.value)}}(e,a=>{o=this._trackByFn(i,a),null!==t&&Object.is(t.trackById,o)?(r&&(t=this._verifyReinsertion(t,a,o,i)),Object.is(t.item,a)||this._addIdentityChange(t,a)):(t=this._mismatch(t,a,o,i),r=!0),t=t._next,i++}),this.length=i;return this._truncate(t),this.collection=e,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let e;for(e=this._previousItHead=this._itHead;null!==e;e=e._next)e._nextPrevious=e._next;for(e=this._additionsHead;null!==e;e=e._nextAdded)e.previousIndex=e.currentIndex;for(this._additionsHead=this._additionsTail=null,e=this._movesHead;null!==e;e=e._nextMoved)e.previousIndex=e.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(e,t,r,i){let s;return null===e?s=this._itTail:(s=e._prev,this._remove(e)),null!==(e=null===this._unlinkedRecords?null:this._unlinkedRecords.get(r,null))?(Object.is(e.item,t)||this._addIdentityChange(e,t),this._reinsertAfter(e,s,i)):null!==(e=null===this._linkedRecords?null:this._linkedRecords.get(r,i))?(Object.is(e.item,t)||this._addIdentityChange(e,t),this._moveAfter(e,s,i)):e=this._addAfter(new P6(t,r),s,i),e}_verifyReinsertion(e,t,r,i){let s=null===this._unlinkedRecords?null:this._unlinkedRecords.get(r,null);return null!==s?e=this._reinsertAfter(s,e._prev,i):e.currentIndex!=i&&(e.currentIndex=i,this._addToMoves(e,i)),e}_truncate(e){for(;null!==e;){const t=e._next;this._addToRemovals(this._unlink(e)),e=t}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(e,t,r){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(e);const i=e._prevRemoved,s=e._nextRemoved;return null===i?this._removalsHead=s:i._nextRemoved=s,null===s?this._removalsTail=i:s._prevRemoved=i,this._insertAfter(e,t,r),this._addToMoves(e,r),e}_moveAfter(e,t,r){return this._unlink(e),this._insertAfter(e,t,r),this._addToMoves(e,r),e}_addAfter(e,t,r){return this._insertAfter(e,t,r),this._additionsTail=null===this._additionsTail?this._additionsHead=e:this._additionsTail._nextAdded=e,e}_insertAfter(e,t,r){const i=null===t?this._itHead:t._next;return e._next=i,e._prev=t,null===i?this._itTail=e:i._prev=e,null===t?this._itHead=e:t._next=e,null===this._linkedRecords&&(this._linkedRecords=new UR),this._linkedRecords.put(e),e.currentIndex=r,e}_remove(e){return this._addToRemovals(this._unlink(e))}_unlink(e){null!==this._linkedRecords&&this._linkedRecords.remove(e);const t=e._prev,r=e._next;return null===t?this._itHead=r:t._next=r,null===r?this._itTail=t:r._prev=t,e}_addToMoves(e,t){return e.previousIndex===t||(this._movesTail=null===this._movesTail?this._movesHead=e:this._movesTail._nextMoved=e),e}_addToRemovals(e){return null===this._unlinkedRecords&&(this._unlinkedRecords=new UR),this._unlinkedRecords.put(e),e.currentIndex=null,e._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=e,e._prevRemoved=null):(e._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=e),e}_addIdentityChange(e,t){return e.item=t,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=e:this._identityChangesTail._nextIdentityChange=e,e}}class P6{constructor(e,t){this.item=e,this.trackById=t,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class O6{constructor(){this._head=null,this._tail=null}add(e){null===this._head?(this._head=this._tail=e,e._nextDup=null,e._prevDup=null):(this._tail._nextDup=e,e._prevDup=this._tail,e._nextDup=null,this._tail=e)}get(e,t){let r;for(r=this._head;null!==r;r=r._nextDup)if((null===t||t<=r.currentIndex)&&Object.is(r.trackById,e))return r;return null}remove(e){const t=e._prevDup,r=e._nextDup;return null===t?this._head=r:t._nextDup=r,null===r?this._tail=t:r._prevDup=t,null===this._head}}class UR{constructor(){this.map=new Map}put(e){const t=e.trackById;let r=this.map.get(t);r||(r=new O6,this.map.set(t,r)),r.add(e)}get(e,t){const i=this.map.get(e);return i?i.get(e,t):null}remove(e){const t=e.trackById;return this.map.get(t).remove(e)&&this.map.delete(t),e}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function BR(n,e,t){const r=n.previousIndex;if(null===r)return r;let i=0;return t&&r<t.length&&(i=t[r]),r+e+i}function jR(){return new Zh([new VR])}let Zh=(()=>{class n{constructor(t){this.factories=t}static create(t,r){if(null!=r){const i=r.factories.slice();t=t.concat(i)}return new n(t)}static extend(t){return{provide:n,useFactory:r=>n.create(t,r||jR()),deps:[[n,new pl,new yn]]}}find(t){const r=this.factories.find(i=>i.supports(t));if(null!=r)return r;throw new T(901,!1)}}return n.\u0275prov=U({token:n,providedIn:"root",factory:jR}),n})();const B6=CR(null,"core",[]);let $6=(()=>{class n{constructor(t){}}return n.\u0275fac=function(t){return new(t||n)(M(is))},n.\u0275mod=Nt({type:n}),n.\u0275inj=vt({}),n})(),Xh=null;function Zr(){return Xh}const nt=new $("DocumentToken");let mv=(()=>{class n{historyGo(t){throw new Error("Not implemented")}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=U({token:n,factory:function(){return function q6(){return M(GR)}()},providedIn:"platform"}),n})();const z6=new $("Location Initialized");let GR=(()=>{class n extends mv{constructor(t){super(),this._doc=t,this._init()}_init(){this.location=window.location,this._history=window.history}getBaseHrefFromDOM(){return Zr().getBaseHref(this._doc)}onPopState(t){const r=Zr().getGlobalEventTarget(this._doc,"window");return r.addEventListener("popstate",t,!1),()=>r.removeEventListener("popstate",t)}onHashChange(t){const r=Zr().getGlobalEventTarget(this._doc,"window");return r.addEventListener("hashchange",t,!1),()=>r.removeEventListener("hashchange",t)}get href(){return this.location.href}get protocol(){return this.location.protocol}get hostname(){return this.location.hostname}get port(){return this.location.port}get pathname(){return this.location.pathname}get search(){return this.location.search}get hash(){return this.location.hash}set pathname(t){this.location.pathname=t}pushState(t,r,i){qR()?this._history.pushState(t,r,i):this.location.hash=i}replaceState(t,r,i){qR()?this._history.replaceState(t,r,i):this.location.hash=i}forward(){this._history.forward()}back(){this._history.back()}historyGo(t=0){this._history.go(t)}getState(){return this._history.state}}return n.\u0275fac=function(t){return new(t||n)(M(nt))},n.\u0275prov=U({token:n,factory:function(){return function W6(){return new GR(M(nt))}()},providedIn:"platform"}),n})();function qR(){return!!window.history.pushState}function yv(n,e){if(0==n.length)return e;if(0==e.length)return n;let t=0;return n.endsWith("/")&&t++,e.startsWith("/")&&t++,2==t?n+e.substring(1):1==t?n+e:n+"/"+e}function zR(n){const e=n.match(/#|\?|$/),t=e&&e.index||n.length;return n.slice(0,t-("/"===n[t-1]?1:0))+n.slice(t)}function Ai(n){return n&&"?"!==n[0]?"?"+n:n}let ro=(()=>{class n{historyGo(t){throw new Error("Not implemented")}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=U({token:n,factory:function(){return tt(KR)},providedIn:"root"}),n})();const WR=new $("appBaseHref");let KR=(()=>{class n extends ro{constructor(t,r){super(),this._platformLocation=t,this._removeListenerFns=[],this._baseHref=r??this._platformLocation.getBaseHrefFromDOM()??tt(nt).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(t){this._removeListenerFns.push(this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t))}getBaseHref(){return this._baseHref}prepareExternalUrl(t){return yv(this._baseHref,t)}path(t=!1){const r=this._platformLocation.pathname+Ai(this._platformLocation.search),i=this._platformLocation.hash;return i&&t?`${r}${i}`:r}pushState(t,r,i,s){const o=this.prepareExternalUrl(i+Ai(s));this._platformLocation.pushState(t,r,o)}replaceState(t,r,i,s){const o=this.prepareExternalUrl(i+Ai(s));this._platformLocation.replaceState(t,r,o)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(t=0){this._platformLocation.historyGo?.(t)}}return n.\u0275fac=function(t){return new(t||n)(M(mv),M(WR,8))},n.\u0275prov=U({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),K6=(()=>{class n extends ro{constructor(t,r){super(),this._platformLocation=t,this._baseHref="",this._removeListenerFns=[],null!=r&&(this._baseHref=r)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(t){this._removeListenerFns.push(this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t))}getBaseHref(){return this._baseHref}path(t=!1){let r=this._platformLocation.hash;return null==r&&(r="#"),r.length>0?r.substring(1):r}prepareExternalUrl(t){const r=yv(this._baseHref,t);return r.length>0?"#"+r:r}pushState(t,r,i,s){let o=this.prepareExternalUrl(i+Ai(s));0==o.length&&(o=this._platformLocation.pathname),this._platformLocation.pushState(t,r,o)}replaceState(t,r,i,s){let o=this.prepareExternalUrl(i+Ai(s));0==o.length&&(o=this._platformLocation.pathname),this._platformLocation.replaceState(t,r,o)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(t=0){this._platformLocation.historyGo?.(t)}}return n.\u0275fac=function(t){return new(t||n)(M(mv),M(WR,8))},n.\u0275prov=U({token:n,factory:n.\u0275fac}),n})(),_v=(()=>{class n{constructor(t){this._subject=new Ye,this._urlChangeListeners=[],this._urlChangeSubscription=null,this._locationStrategy=t;const r=this._locationStrategy.getBaseHref();this._baseHref=zR(QR(r)),this._locationStrategy.onPopState(i=>{this._subject.emit({url:this.path(!0),pop:!0,state:i.state,type:i.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(t=!1){return this.normalize(this._locationStrategy.path(t))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(t,r=""){return this.path()==this.normalize(t+Ai(r))}normalize(t){return n.stripTrailingSlash(function Y6(n,e){return n&&e.startsWith(n)?e.substring(n.length):e}(this._baseHref,QR(t)))}prepareExternalUrl(t){return t&&"/"!==t[0]&&(t="/"+t),this._locationStrategy.prepareExternalUrl(t)}go(t,r="",i=null){this._locationStrategy.pushState(i,"",t,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+Ai(r)),i)}replaceState(t,r="",i=null){this._locationStrategy.replaceState(i,"",t,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+Ai(r)),i)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(t=0){this._locationStrategy.historyGo?.(t)}onUrlChange(t){return this._urlChangeListeners.push(t),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(r=>{this._notifyUrlChangeListeners(r.url,r.state)})),()=>{const r=this._urlChangeListeners.indexOf(t);this._urlChangeListeners.splice(r,1),0===this._urlChangeListeners.length&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(t="",r){this._urlChangeListeners.forEach(i=>i(t,r))}subscribe(t,r,i){return this._subject.subscribe({next:t,error:r,complete:i})}}return n.normalizeQueryParams=Ai,n.joinWithSlash=yv,n.stripTrailingSlash=zR,n.\u0275fac=function(t){return new(t||n)(M(ro))},n.\u0275prov=U({token:n,factory:function(){return function Q6(){return new _v(M(ro))}()},providedIn:"root"}),n})();function QR(n){return n.replace(/\/index.html$/,"")}function i1(n,e){e=encodeURIComponent(e);for(const t of n.split(";")){const r=t.indexOf("="),[i,s]=-1==r?[t,""]:[t.slice(0,r),t.slice(r+1)];if(i.trim()===e)return decodeURIComponent(s)}return null}class O5{constructor(e,t,r,i){this.$implicit=e,this.ngForOf=t,this.index=r,this.count=i}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let a1=(()=>{class n{constructor(t,r,i){this._viewContainer=t,this._template=r,this._differs=i,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForOf(t){this._ngForOf=t,this._ngForOfDirty=!0}set ngForTrackBy(t){this._trackByFn=t}get ngForTrackBy(){return this._trackByFn}set ngForTemplate(t){t&&(this._template=t)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const t=this._ngForOf;!this._differ&&t&&(this._differ=this._differs.find(t).create(this.ngForTrackBy))}if(this._differ){const t=this._differ.diff(this._ngForOf);t&&this._applyChanges(t)}}_applyChanges(t){const r=this._viewContainer;t.forEachOperation((i,s,o)=>{if(null==i.previousIndex)r.createEmbeddedView(this._template,new O5(i.item,this._ngForOf,-1,-1),null===o?void 0:o);else if(null==o)r.remove(null===s?void 0:s);else if(null!==s){const a=r.get(s);r.move(a,o),u1(a,i)}});for(let i=0,s=r.length;i<s;i++){const a=r.get(i).context;a.index=i,a.count=s,a.ngForOf=this._ngForOf}t.forEachIdentityChange(i=>{u1(r.get(i.currentIndex),i)})}static ngTemplateContextGuard(t,r){return!0}}return n.\u0275fac=function(t){return new(t||n)(b(Or),b(Ti),b(Zh))},n.\u0275dir=ee({type:n,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"},standalone:!0}),n})();function u1(n,e){n.context.$implicit=e.item}let ql=(()=>{class n{constructor(t,r){this._viewContainer=t,this._context=new L5,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=r}set ngIf(t){this._context.$implicit=this._context.ngIf=t,this._updateView()}set ngIfThen(t){l1("ngIfThen",t),this._thenTemplateRef=t,this._thenViewRef=null,this._updateView()}set ngIfElse(t){l1("ngIfElse",t),this._elseTemplateRef=t,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(t,r){return!0}}return n.\u0275fac=function(t){return new(t||n)(b(Or),b(Ti))},n.\u0275dir=ee({type:n,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"},standalone:!0}),n})();class L5{constructor(){this.$implicit=null,this.ngIf=null}}function l1(n,e){if(e&&!e.createEmbeddedView)throw new Error(`${n} must be a TemplateRef, but received '${Ne(e)}'.`)}class H5{createSubscription(e,t){return e.subscribe({next:t,error:r=>{throw r}})}dispose(e){e.unsubscribe()}}class G5{createSubscription(e,t){return e.then(t,r=>{throw r})}dispose(e){}}const q5=new G5,z5=new H5;let d1=(()=>{class n{constructor(t){this._latestValue=null,this._subscription=null,this._obj=null,this._strategy=null,this._ref=t}ngOnDestroy(){this._subscription&&this._dispose(),this._ref=null}transform(t){return this._obj?t!==this._obj?(this._dispose(),this.transform(t)):this._latestValue:(t&&this._subscribe(t),this._latestValue)}_subscribe(t){this._obj=t,this._strategy=this._selectStrategy(t),this._subscription=this._strategy.createSubscription(t,r=>this._updateLatestValue(t,r))}_selectStrategy(t){if(Nl(t))return q5;if(aN(t))return z5;throw function Vr(n,e){return new T(2100,!1)}()}_dispose(){this._strategy.dispose(this._subscription),this._latestValue=null,this._subscription=null,this._obj=null}_updateLatestValue(t,r){t===this._obj&&(this._latestValue=r,this._ref.markForCheck())}}return n.\u0275fac=function(t){return new(t||n)(b(Qh,16))},n.\u0275pipe=An({name:"async",type:n,pure:!1,standalone:!0}),n})(),kv=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=Nt({type:n}),n.\u0275inj=vt({}),n})();const f1="browser";function p1(n){return n===f1}let h7=(()=>{class n{}return n.\u0275prov=U({token:n,providedIn:"root",factory:()=>new f7(M(nt),window)}),n})();class f7{constructor(e,t){this.document=e,this.window=t,this.offset=()=>[0,0]}setOffset(e){this.offset=Array.isArray(e)?()=>e:e}getScrollPosition(){return this.supportsScrolling()?[this.window.pageXOffset,this.window.pageYOffset]:[0,0]}scrollToPosition(e){this.supportsScrolling()&&this.window.scrollTo(e[0],e[1])}scrollToAnchor(e){if(!this.supportsScrolling())return;const t=function p7(n,e){const t=n.getElementById(e)||n.getElementsByName(e)[0];if(t)return t;if("function"==typeof n.createTreeWalker&&n.body&&(n.body.createShadowRoot||n.body.attachShadow)){const r=n.createTreeWalker(n.body,NodeFilter.SHOW_ELEMENT);let i=r.currentNode;for(;i;){const s=i.shadowRoot;if(s){const o=s.getElementById(e)||s.querySelector(`[name="${e}"]`);if(o)return o}i=r.nextNode()}}return null}(this.document,e);t&&(this.scrollToElement(t),t.focus())}setHistoryScrollRestoration(e){if(this.supportScrollRestoration()){const t=this.window.history;t&&t.scrollRestoration&&(t.scrollRestoration=e)}}scrollToElement(e){const t=e.getBoundingClientRect(),r=t.left+this.window.pageXOffset,i=t.top+this.window.pageYOffset,s=this.offset();this.window.scrollTo(r-s[0],i-s[1])}supportScrollRestoration(){try{if(!this.supportsScrolling())return!1;const e=g1(this.window.history)||g1(Object.getPrototypeOf(this.window.history));return!(!e||!e.writable&&!e.set)}catch{return!1}}supportsScrolling(){try{return!!this.window&&!!this.window.scrollTo&&"pageXOffset"in this.window}catch{return!1}}}function g1(n){return Object.getOwnPropertyDescriptor(n,"scrollRestoration")}class m1{}class Ov extends class k7 extends class G6{}{constructor(){super(...arguments),this.supportsDOMEvents=!0}}{static makeCurrent(){!function H6(n){Xh||(Xh=n)}(new Ov)}onAndCancel(e,t,r){return e.addEventListener(t,r,!1),()=>{e.removeEventListener(t,r,!1)}}dispatchEvent(e,t){e.dispatchEvent(t)}remove(e){e.parentNode&&e.parentNode.removeChild(e)}createElement(e,t){return(t=t||this.getDefaultDocument()).createElement(e)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(e){return e.nodeType===Node.ELEMENT_NODE}isShadowRoot(e){return e instanceof DocumentFragment}getGlobalEventTarget(e,t){return"window"===t?window:"document"===t?e:"body"===t?e.body:null}getBaseHref(e){const t=function R7(){return Wl=Wl||document.querySelector("base"),Wl?Wl.getAttribute("href"):null}();return null==t?null:function P7(n){hf=hf||document.createElement("a"),hf.setAttribute("href",n);const e=hf.pathname;return"/"===e.charAt(0)?e:`/${e}`}(t)}resetBaseElement(){Wl=null}getUserAgent(){return window.navigator.userAgent}getCookie(e){return i1(document.cookie,e)}}let hf,Wl=null;const w1=new $("TRANSITION_ID"),F7=[{provide:Bl,useFactory:function O7(n,e,t){return()=>{t.get(zh).donePromise.then(()=>{const r=Zr(),i=e.querySelectorAll(`style[ng-transition="${n}"]`);for(let s=0;s<i.length;s++)r.remove(i[s])})}},deps:[w1,nt,Rt],multi:!0}];let V7=(()=>{class n{build(){return new XMLHttpRequest}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=U({token:n,factory:n.\u0275fac}),n})();const ff=new $("EventManagerPlugins");let pf=(()=>{class n{constructor(t,r){this._zone=r,this._eventNameToPlugin=new Map,t.forEach(i=>i.manager=this),this._plugins=t.slice().reverse()}addEventListener(t,r,i){return this._findPluginFor(r).addEventListener(t,r,i)}addGlobalEventListener(t,r,i){return this._findPluginFor(r).addGlobalEventListener(t,r,i)}getZone(){return this._zone}_findPluginFor(t){const r=this._eventNameToPlugin.get(t);if(r)return r;const i=this._plugins;for(let s=0;s<i.length;s++){const o=i[s];if(o.supports(t))return this._eventNameToPlugin.set(t,o),o}throw new Error(`No event manager plugin found for event ${t}`)}}return n.\u0275fac=function(t){return new(t||n)(M(ff),M(Pe))},n.\u0275prov=U({token:n,factory:n.\u0275fac}),n})();class E1{constructor(e){this._doc=e}addGlobalEventListener(e,t,r){const i=Zr().getGlobalEventTarget(this._doc,e);if(!i)throw new Error(`Unsupported event target ${i} for event ${t}`);return this.addEventListener(i,t,r)}}let I1=(()=>{class n{constructor(){this._stylesSet=new Set}addStyles(t){const r=new Set;t.forEach(i=>{this._stylesSet.has(i)||(this._stylesSet.add(i),r.add(i))}),this.onStylesAdded(r)}onStylesAdded(t){}getAllStyles(){return Array.from(this._stylesSet)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=U({token:n,factory:n.\u0275fac}),n})(),Kl=(()=>{class n extends I1{constructor(t){super(),this._doc=t,this._hostNodes=new Map,this._hostNodes.set(t.head,[])}_addStylesToHost(t,r,i){t.forEach(s=>{const o=this._doc.createElement("style");o.textContent=s,i.push(r.appendChild(o))})}addHost(t){const r=[];this._addStylesToHost(this._stylesSet,t,r),this._hostNodes.set(t,r)}removeHost(t){const r=this._hostNodes.get(t);r&&r.forEach(b1),this._hostNodes.delete(t)}onStylesAdded(t){this._hostNodes.forEach((r,i)=>{this._addStylesToHost(t,i,r)})}ngOnDestroy(){this._hostNodes.forEach(t=>t.forEach(b1))}}return n.\u0275fac=function(t){return new(t||n)(M(nt))},n.\u0275prov=U({token:n,factory:n.\u0275fac}),n})();function b1(n){Zr().remove(n)}const Fv={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/MathML/"},Lv=/%COMP%/g;function gf(n,e,t){for(let r=0;r<e.length;r++){let i=e[r];Array.isArray(i)?gf(n,i,t):(i=i.replace(Lv,n),t.push(i))}return t}function D1(n){return e=>{if("__ngUnwrap__"===e)return n;!1===n(e)&&(e.preventDefault(),e.returnValue=!1)}}let mf=(()=>{class n{constructor(t,r,i){this.eventManager=t,this.sharedStylesHost=r,this.appId=i,this.rendererByCompId=new Map,this.defaultRenderer=new Vv(t)}createRenderer(t,r){if(!t||!r)return this.defaultRenderer;switch(r.encapsulation){case Sr.Emulated:{let i=this.rendererByCompId.get(r.id);return i||(i=new G7(this.eventManager,this.sharedStylesHost,r,this.appId),this.rendererByCompId.set(r.id,i)),i.applyToHost(t),i}case 1:case Sr.ShadowDom:return new q7(this.eventManager,this.sharedStylesHost,t,r);default:if(!this.rendererByCompId.has(r.id)){const i=gf(r.id,r.styles,[]);this.sharedStylesHost.addStyles(i),this.rendererByCompId.set(r.id,this.defaultRenderer)}return this.defaultRenderer}}begin(){}end(){}}return n.\u0275fac=function(t){return new(t||n)(M(pf),M(Kl),M($l))},n.\u0275prov=U({token:n,factory:n.\u0275fac}),n})();class Vv{constructor(e){this.eventManager=e,this.data=Object.create(null),this.destroyNode=null}destroy(){}createElement(e,t){return t?document.createElementNS(Fv[t]||t,e):document.createElement(e)}createComment(e){return document.createComment(e)}createText(e){return document.createTextNode(e)}appendChild(e,t){(A1(e)?e.content:e).appendChild(t)}insertBefore(e,t,r){e&&(A1(e)?e.content:e).insertBefore(t,r)}removeChild(e,t){e&&e.removeChild(t)}selectRootElement(e,t){let r="string"==typeof e?document.querySelector(e):e;if(!r)throw new Error(`The selector "${e}" did not match any elements`);return t||(r.textContent=""),r}parentNode(e){return e.parentNode}nextSibling(e){return e.nextSibling}setAttribute(e,t,r,i){if(i){t=i+":"+t;const s=Fv[i];s?e.setAttributeNS(s,t,r):e.setAttribute(t,r)}else e.setAttribute(t,r)}removeAttribute(e,t,r){if(r){const i=Fv[r];i?e.removeAttributeNS(i,t):e.removeAttribute(`${r}:${t}`)}else e.removeAttribute(t)}addClass(e,t){e.classList.add(t)}removeClass(e,t){e.classList.remove(t)}setStyle(e,t,r,i){i&(xn.DashCase|xn.Important)?e.style.setProperty(t,r,i&xn.Important?"important":""):e.style[t]=r}removeStyle(e,t,r){r&xn.DashCase?e.style.removeProperty(t):e.style[t]=""}setProperty(e,t,r){e[t]=r}setValue(e,t){e.nodeValue=t}listen(e,t,r){return"string"==typeof e?this.eventManager.addGlobalEventListener(e,t,D1(r)):this.eventManager.addEventListener(e,t,D1(r))}}function A1(n){return"TEMPLATE"===n.tagName&&void 0!==n.content}class G7 extends Vv{constructor(e,t,r,i){super(e),this.component=r;const s=gf(i+"-"+r.id,r.styles,[]);t.addStyles(s),this.contentAttr=function $7(n){return"_ngcontent-%COMP%".replace(Lv,n)}(i+"-"+r.id),this.hostAttr=function j7(n){return"_nghost-%COMP%".replace(Lv,n)}(i+"-"+r.id)}applyToHost(e){super.setAttribute(e,this.hostAttr,"")}createElement(e,t){const r=super.createElement(e,t);return super.setAttribute(r,this.contentAttr,""),r}}class q7 extends Vv{constructor(e,t,r,i){super(e),this.sharedStylesHost=t,this.hostEl=r,this.shadowRoot=r.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const s=gf(i.id,i.styles,[]);for(let o=0;o<s.length;o++){const a=document.createElement("style");a.textContent=s[o],this.shadowRoot.appendChild(a)}}nodeOrShadowRoot(e){return e===this.hostEl?this.shadowRoot:e}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}appendChild(e,t){return super.appendChild(this.nodeOrShadowRoot(e),t)}insertBefore(e,t,r){return super.insertBefore(this.nodeOrShadowRoot(e),t,r)}removeChild(e,t){return super.removeChild(this.nodeOrShadowRoot(e),t)}parentNode(e){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(e)))}}let z7=(()=>{class n extends E1{constructor(t){super(t)}supports(t){return!0}addEventListener(t,r,i){return t.addEventListener(r,i,!1),()=>this.removeEventListener(t,r,i)}removeEventListener(t,r,i){return t.removeEventListener(r,i)}}return n.\u0275fac=function(t){return new(t||n)(M(nt))},n.\u0275prov=U({token:n,factory:n.\u0275fac}),n})();const M1=["alt","control","meta","shift"],W7={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},K7={alt:n=>n.altKey,control:n=>n.ctrlKey,meta:n=>n.metaKey,shift:n=>n.shiftKey};let Q7=(()=>{class n extends E1{constructor(t){super(t)}supports(t){return null!=n.parseEventName(t)}addEventListener(t,r,i){const s=n.parseEventName(r),o=n.eventCallback(s.fullKey,i,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>Zr().onAndCancel(t,s.domEventName,o))}static parseEventName(t){const r=t.toLowerCase().split("."),i=r.shift();if(0===r.length||"keydown"!==i&&"keyup"!==i)return null;const s=n._normalizeKey(r.pop());let o="",a=r.indexOf("code");if(a>-1&&(r.splice(a,1),o="code."),M1.forEach(l=>{const c=r.indexOf(l);c>-1&&(r.splice(c,1),o+=l+".")}),o+=s,0!=r.length||0===s.length)return null;const u={};return u.domEventName=i,u.fullKey=o,u}static matchEventFullKeyCode(t,r){let i=W7[t.key]||t.key,s="";return r.indexOf("code.")>-1&&(i=t.code,s="code."),!(null==i||!i)&&(i=i.toLowerCase()," "===i?i="space":"."===i&&(i="dot"),M1.forEach(o=>{o!==i&&(0,K7[o])(t)&&(s+=o+".")}),s+=i,s===r)}static eventCallback(t,r,i){return s=>{n.matchEventFullKeyCode(s,t)&&i.runGuarded(()=>r(s))}}static _normalizeKey(t){return"esc"===t?"escape":t}}return n.\u0275fac=function(t){return new(t||n)(M(nt))},n.\u0275prov=U({token:n,factory:n.\u0275fac}),n})();const N1=[{provide:to,useValue:f1},{provide:pR,useValue:function Y7(){Ov.makeCurrent()},multi:!0},{provide:nt,useFactory:function Z7(){return function Qq(n){fy=n}(document),document},deps:[]}],X7=CR(B6,"browser",N1),k1=new $(""),R1=[{provide:Wh,useClass:class L7{addToWindow(e){ke.getAngularTestability=(r,i=!0)=>{const s=e.findTestabilityInTree(r,i);if(null==s)throw new Error("Could not find testability for element.");return s},ke.getAllAngularTestabilities=()=>e.getAllTestabilities(),ke.getAllAngularRootElements=()=>e.getAllRootElements(),ke.frameworkStabilizers||(ke.frameworkStabilizers=[]),ke.frameworkStabilizers.push(r=>{const i=ke.getAllAngularTestabilities();let s=i.length,o=!1;const a=function(u){o=o||u,s--,0==s&&r(o)};i.forEach(function(u){u.whenStable(a)})})}findTestabilityInTree(e,t,r){return null==t?null:e.getTestability(t)??(r?Zr().isShadowRoot(t)?this.findTestabilityInTree(e,t.host,!0):this.findTestabilityInTree(e,t.parentElement,!0):null)}},deps:[]},{provide:ER,useClass:av,deps:[Pe,uv,Wh]},{provide:av,useClass:av,deps:[Pe,uv,Wh]}],P1=[{provide:Cy,useValue:"root"},{provide:Da,useFactory:function J7(){return new Da},deps:[]},{provide:ff,useClass:z7,multi:!0,deps:[nt,Pe,to]},{provide:ff,useClass:Q7,multi:!0,deps:[nt]},{provide:mf,useClass:mf,deps:[pf,Kl,$l]},{provide:wl,useExisting:mf},{provide:I1,useExisting:Kl},{provide:Kl,useClass:Kl,deps:[nt]},{provide:pf,useClass:pf,deps:[ff,Pe]},{provide:m1,useClass:V7,deps:[]},[]];let O1=(()=>{class n{constructor(t){}static withServerTransition(t){return{ngModule:n,providers:[{provide:$l,useValue:t.appId},{provide:w1,useExisting:$l},F7]}}}return n.\u0275fac=function(t){return new(t||n)(M(k1,12))},n.\u0275mod=Nt({type:n}),n.\u0275inj=vt({providers:[...P1,...R1],imports:[kv,$6]}),n})(),F1=(()=>{class n{constructor(t){this._doc=t}getTitle(){return this._doc.title}setTitle(t){this._doc.title=t||""}}return n.\u0275fac=function(t){return new(t||n)(M(nt))},n.\u0275prov=U({token:n,factory:function(t){let r=null;return r=t?new t:function tQ(){return new F1(M(nt))}(),r},providedIn:"root"}),n})();typeof window<"u"&&window;let U1=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=U({token:n,factory:function(t){let r=null;return r=t?new(t||n):M(B1),r},providedIn:"root"}),n})(),B1=(()=>{class n extends U1{constructor(t){super(),this._doc=t}sanitize(t,r){if(null==r)return null;switch(t){case Re.NONE:return r;case Re.HTML:return zr(r,"HTML")?Jn(r):gM(this._doc,String(r)).toString();case Re.STYLE:return zr(r,"Style")?Jn(r):r;case Re.SCRIPT:if(zr(r,"Script"))return Jn(r);throw new Error("unsafe value used in a script context");case Re.URL:return zr(r,"URL")?Jn(r):yl(String(r));case Re.RESOURCE_URL:if(zr(r,"ResourceURL"))return Jn(r);throw new Error("unsafe value used in a resource URL context (see https://g.co/ng/security#xss)");default:throw new Error(`Unexpected SecurityContext ${t} (see https://g.co/ng/security#xss)`)}}bypassSecurityTrustHtml(t){return function iz(n){return new Zq(n)}(t)}bypassSecurityTrustStyle(t){return function sz(n){return new Xq(n)}(t)}bypassSecurityTrustScript(t){return function oz(n){return new ez(n)}(t)}bypassSecurityTrustUrl(t){return function az(n){return new tz(n)}(t)}bypassSecurityTrustResourceUrl(t){return function uz(n){return new nz(n)}(t)}}return n.\u0275fac=function(t){return new(t||n)(M(nt))},n.\u0275prov=U({token:n,factory:function(t){let r=null;return r=t?new t:function uQ(n){return new B1(n.get(nt))}(M(Rt)),r},providedIn:"root"}),n})();function G(...n){return dt(n,Ju(n))}class Ur extends Xe{constructor(e){super(),this._value=e}get value(){return this.getValue()}_subscribe(e){const t=super._subscribe(e);return!t.closed&&e.next(this._value),t}getValue(){const{hasError:e,thrownError:t,_value:r}=this;if(e)throw t;return this._throwIfClosed(),r}next(e){super.next(this._value=e)}}const yf=Qu(n=>function(){n(this),this.name="EmptyError",this.message="no elements in sequence"}),{isArray:lQ}=Array,{getPrototypeOf:cQ,prototype:dQ,keys:hQ}=Object;function $1(n){if(1===n.length){const e=n[0];if(lQ(e))return{args:e,keys:null};if(function fQ(n){return n&&"object"==typeof n&&cQ(n)===dQ}(e)){const t=hQ(e);return{args:t.map(r=>e[r]),keys:t}}}return{args:n,keys:null}}const{isArray:pQ}=Array;function $v(n){return Z(e=>function gQ(n,e){return pQ(e)?n(...e):n(e)}(n,e))}function j1(n,e){return n.reduce((t,r,i)=>(t[r]=e[i],t),{})}function H1(...n){const e=Ju(n),t=nA(n),{args:r,keys:i}=$1(n);if(0===r.length)return dt([],e);const s=new Ae(function mQ(n,e,t=$s){return r=>{G1(e,()=>{const{length:i}=n,s=new Array(i);let o=i,a=i;for(let u=0;u<i;u++)G1(e,()=>{const l=dt(n[u],e);let c=!1;l.subscribe(ct(r,d=>{s[u]=d,c||(c=!0,a--),a||r.next(t(s.slice()))},()=>{--o||r.complete()}))},r)},r)}}(r,e,i?o=>j1(i,o):$s));return t?s.pipe($v(t)):s}function G1(n,e,t){n?hi(t,n,e):e()}function Ql(...n){return function yQ(){return na(1)}()(dt(n,Ju(n)))}function _f(n){return new Ae(e=>{jn(n()).subscribe(e)})}function Ka(n,e){const t=me(n)?n:()=>n,r=i=>i.error(t());return new Ae(e?i=>e.schedule(r,0,i):r)}function jv(){return lt((n,e)=>{let t=null;n._refCount++;const r=ct(e,void 0,void 0,void 0,()=>{if(!n||n._refCount<=0||0<--n._refCount)return void(t=null);const i=n._connection,s=t;t=null,i&&(!s||i===s)&&i.unsubscribe(),e.unsubscribe()});n.subscribe(r),r.closed||(t=n.connect())})}class Hv extends Ae{constructor(e,t){super(),this.source=e,this.subjectFactory=t,this._subject=null,this._refCount=0,this._connection=null,$S(e)&&(this.lift=e.lift)}_subscribe(e){return this.getSubject().subscribe(e)}getSubject(){const e=this._subject;return(!e||e.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;const{_connection:e}=this;this._subject=this._connection=null,e?.unsubscribe()}connect(){let e=this._connection;if(!e){e=this._connection=new $n;const t=this.getSubject();e.add(this.source.subscribe(ct(t,void 0,()=>{this._teardown(),t.complete()},r=>{this._teardown(),t.error(r)},()=>this._teardown()))),e.closed&&(this._connection=null,e=$n.EMPTY)}return e}refCount(){return jv()(this)}}function Rn(n,e){return lt((t,r)=>{let i=null,s=0,o=!1;const a=()=>o&&!i&&r.complete();t.subscribe(ct(r,u=>{i?.unsubscribe();let l=0;const c=s++;jn(n(u,c)).subscribe(i=ct(r,d=>r.next(e?e(u,d,c,l++):d),()=>{i=null,a()}))},()=>{o=!0,a()}))})}function rr(n){return n<=0?()=>fi:lt((e,t)=>{let r=0;e.subscribe(ct(t,i=>{++r<=n&&(t.next(i),n<=r&&t.complete())}))})}function En(n,e){return lt((t,r)=>{let i=0;t.subscribe(ct(r,s=>n.call(e,s,i++)&&r.next(s)))})}function vf(n){return lt((e,t)=>{let r=!1;e.subscribe(ct(t,i=>{r=!0,t.next(i)},()=>{r||t.next(n),t.complete()}))})}function q1(n=vQ){return lt((e,t)=>{let r=!1;e.subscribe(ct(t,i=>{r=!0,t.next(i)},()=>r?t.complete():t.error(n())))})}function vQ(){return new yf}function os(n,e){const t=arguments.length>=2;return r=>r.pipe(n?En((i,s)=>n(i,s,r)):$s,rr(1),t?vf(e):q1(()=>new yf))}function as(n,e){return me(e)?_t(n,e,1):_t(n,1)}function Pt(n,e,t){const r=me(n)||e||t?{next:n,error:e,complete:t}:n;return r?lt((i,s)=>{var o;null===(o=r.subscribe)||void 0===o||o.call(r);let a=!0;i.subscribe(ct(s,u=>{var l;null===(l=r.next)||void 0===l||l.call(r,u),s.next(u)},()=>{var u;a=!1,null===(u=r.complete)||void 0===u||u.call(r),s.complete()},u=>{var l;a=!1,null===(l=r.error)||void 0===l||l.call(r,u),s.error(u)},()=>{var u,l;a&&(null===(u=r.unsubscribe)||void 0===u||u.call(r)),null===(l=r.finalize)||void 0===l||l.call(r)}))}):$s}function us(n){return lt((e,t)=>{let s,r=null,i=!1;r=e.subscribe(ct(t,void 0,void 0,o=>{s=jn(n(o,us(n)(e))),r?(r.unsubscribe(),r=null,s.subscribe(t)):i=!0})),i&&(r.unsubscribe(),r=null,s.subscribe(t))})}function wQ(n,e,t,r,i){return(s,o)=>{let a=t,u=e,l=0;s.subscribe(ct(o,c=>{const d=l++;u=a?n(u,c,d):(a=!0,c),r&&o.next(u)},i&&(()=>{a&&o.next(u),o.complete()})))}}function z1(n,e){return lt(wQ(n,e,arguments.length>=2,!0))}function Gv(n){return n<=0?()=>fi:lt((e,t)=>{let r=[];e.subscribe(ct(t,i=>{r.push(i),n<r.length&&r.shift()},()=>{for(const i of r)t.next(i);t.complete()},void 0,()=>{r=null}))})}function W1(n,e){const t=arguments.length>=2;return r=>r.pipe(n?En((i,s)=>n(i,s,r)):$s,Gv(1),t?vf(e):q1(()=>new yf))}function K1(n){return Z(()=>n)}function wf(n){return lt((e,t)=>{try{e.subscribe(t)}finally{t.add(n)}})}const fe="primary",Yl=Symbol("RouteTitle");class IQ{constructor(e){this.params=e||{}}has(e){return Object.prototype.hasOwnProperty.call(this.params,e)}get(e){if(this.has(e)){const t=this.params[e];return Array.isArray(t)?t[0]:t}return null}getAll(e){if(this.has(e)){const t=this.params[e];return Array.isArray(t)?t:[t]}return[]}get keys(){return Object.keys(this.params)}}function Qa(n){return new IQ(n)}function bQ(n,e,t){const r=t.path.split("/");if(r.length>n.length||"full"===t.pathMatch&&(e.hasChildren()||r.length<n.length))return null;const i={};for(let s=0;s<r.length;s++){const o=r[s],a=n[s];if(o.startsWith(":"))i[o.substring(1)]=a;else if(o!==a.path)return null}return{consumed:n.slice(0,r.length),posParams:i}}function Xr(n,e){const t=n?Object.keys(n):void 0,r=e?Object.keys(e):void 0;if(!t||!r||t.length!=r.length)return!1;let i;for(let s=0;s<t.length;s++)if(i=t[s],!Q1(n[i],e[i]))return!1;return!0}function Q1(n,e){if(Array.isArray(n)&&Array.isArray(e)){if(n.length!==e.length)return!1;const t=[...n].sort(),r=[...e].sort();return t.every((i,s)=>r[s]===i)}return n===e}function Y1(n){return Array.prototype.concat.apply([],n)}function J1(n){return n.length>0?n[n.length-1]:null}function qt(n,e){for(const t in n)n.hasOwnProperty(t)&&e(n[t],t)}function ls(n){return A_(n)?n:Nl(n)?dt(Promise.resolve(n)):G(n)}const DQ={exact:function eP(n,e,t){if(!so(n.segments,e.segments)||!Ef(n.segments,e.segments,t)||n.numberOfChildren!==e.numberOfChildren)return!1;for(const r in e.children)if(!n.children[r]||!eP(n.children[r],e.children[r],t))return!1;return!0},subset:tP},Z1={exact:function SQ(n,e){return Xr(n,e)},subset:function AQ(n,e){return Object.keys(e).length<=Object.keys(n).length&&Object.keys(e).every(t=>Q1(n[t],e[t]))},ignored:()=>!0};function X1(n,e,t){return DQ[t.paths](n.root,e.root,t.matrixParams)&&Z1[t.queryParams](n.queryParams,e.queryParams)&&!("exact"===t.fragment&&n.fragment!==e.fragment)}function tP(n,e,t){return nP(n,e,e.segments,t)}function nP(n,e,t,r){if(n.segments.length>t.length){const i=n.segments.slice(0,t.length);return!(!so(i,t)||e.hasChildren()||!Ef(i,t,r))}if(n.segments.length===t.length){if(!so(n.segments,t)||!Ef(n.segments,t,r))return!1;for(const i in e.children)if(!n.children[i]||!tP(n.children[i],e.children[i],r))return!1;return!0}{const i=t.slice(0,n.segments.length),s=t.slice(n.segments.length);return!!(so(n.segments,i)&&Ef(n.segments,i,r)&&n.children[fe])&&nP(n.children[fe],e,s,r)}}function Ef(n,e,t){return e.every((r,i)=>Z1[t](n[i].parameters,r.parameters))}class io{constructor(e,t,r){this.root=e,this.queryParams=t,this.fragment=r}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=Qa(this.queryParams)),this._queryParamMap}toString(){return NQ.serialize(this)}}class pe{constructor(e,t){this.segments=e,this.children=t,this.parent=null,qt(t,(r,i)=>r.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return If(this)}}class Jl{constructor(e,t){this.path=e,this.parameters=t}get parameterMap(){return this._parameterMap||(this._parameterMap=Qa(this.parameters)),this._parameterMap}toString(){return oP(this)}}function so(n,e){return n.length===e.length&&n.every((t,r)=>t.path===e[r].path)}let rP=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=U({token:n,factory:function(){return new zv},providedIn:"root"}),n})();class zv{parse(e){const t=new BQ(e);return new io(t.parseRootSegment(),t.parseQueryParams(),t.parseFragment())}serialize(e){const t=`/${Zl(e.root,!0)}`,r=function PQ(n){const e=Object.keys(n).map(t=>{const r=n[t];return Array.isArray(r)?r.map(i=>`${bf(t)}=${bf(i)}`).join("&"):`${bf(t)}=${bf(r)}`}).filter(t=>!!t);return e.length?`?${e.join("&")}`:""}(e.queryParams);return`${t}${r}${"string"==typeof e.fragment?`#${function kQ(n){return encodeURI(n)}(e.fragment)}`:""}`}}const NQ=new zv;function If(n){return n.segments.map(e=>oP(e)).join("/")}function Zl(n,e){if(!n.hasChildren())return If(n);if(e){const t=n.children[fe]?Zl(n.children[fe],!1):"",r=[];return qt(n.children,(i,s)=>{s!==fe&&r.push(`${s}:${Zl(i,!1)}`)}),r.length>0?`${t}(${r.join("//")})`:t}{const t=function xQ(n,e){let t=[];return qt(n.children,(r,i)=>{i===fe&&(t=t.concat(e(r,i)))}),qt(n.children,(r,i)=>{i!==fe&&(t=t.concat(e(r,i)))}),t}(n,(r,i)=>i===fe?[Zl(n.children[fe],!1)]:[`${i}:${Zl(r,!1)}`]);return 1===Object.keys(n.children).length&&null!=n.children[fe]?`${If(n)}/${t[0]}`:`${If(n)}/(${t.join("//")})`}}function iP(n){return encodeURIComponent(n).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function bf(n){return iP(n).replace(/%3B/gi,";")}function Wv(n){return iP(n).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function Tf(n){return decodeURIComponent(n)}function sP(n){return Tf(n.replace(/\+/g,"%20"))}function oP(n){return`${Wv(n.path)}${function RQ(n){return Object.keys(n).map(e=>`;${Wv(e)}=${Wv(n[e])}`).join("")}(n.parameters)}`}const OQ=/^[^\/()?;=#]+/;function Cf(n){const e=n.match(OQ);return e?e[0]:""}const FQ=/^[^=?&#]+/,VQ=/^[^&#]+/;class BQ{constructor(e){this.url=e,this.remaining=e}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new pe([],{}):new pe([],this.parseChildren())}parseQueryParams(){const e={};if(this.consumeOptional("?"))do{this.parseQueryParam(e)}while(this.consumeOptional("&"));return e}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const e=[];for(this.peekStartsWith("(")||e.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),e.push(this.parseSegment());let t={};this.peekStartsWith("/(")&&(this.capture("/"),t=this.parseParens(!0));let r={};return this.peekStartsWith("(")&&(r=this.parseParens(!1)),(e.length>0||Object.keys(t).length>0)&&(r[fe]=new pe(e,t)),r}parseSegment(){const e=Cf(this.remaining);if(""===e&&this.peekStartsWith(";"))throw new T(4009,!1);return this.capture(e),new Jl(Tf(e),this.parseMatrixParams())}parseMatrixParams(){const e={};for(;this.consumeOptional(";");)this.parseParam(e);return e}parseParam(e){const t=Cf(this.remaining);if(!t)return;this.capture(t);let r="";if(this.consumeOptional("=")){const i=Cf(this.remaining);i&&(r=i,this.capture(r))}e[Tf(t)]=Tf(r)}parseQueryParam(e){const t=function LQ(n){const e=n.match(FQ);return e?e[0]:""}(this.remaining);if(!t)return;this.capture(t);let r="";if(this.consumeOptional("=")){const o=function UQ(n){const e=n.match(VQ);return e?e[0]:""}(this.remaining);o&&(r=o,this.capture(r))}const i=sP(t),s=sP(r);if(e.hasOwnProperty(i)){let o=e[i];Array.isArray(o)||(o=[o],e[i]=o),o.push(s)}else e[i]=s}parseParens(e){const t={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const r=Cf(this.remaining),i=this.remaining[r.length];if("/"!==i&&")"!==i&&";"!==i)throw new T(4010,!1);let s;r.indexOf(":")>-1?(s=r.slice(0,r.indexOf(":")),this.capture(s),this.capture(":")):e&&(s=fe);const o=this.parseChildren();t[s]=1===Object.keys(o).length?o[fe]:new pe([],o),this.consumeOptional("//")}return t}peekStartsWith(e){return this.remaining.startsWith(e)}consumeOptional(e){return!!this.peekStartsWith(e)&&(this.remaining=this.remaining.substring(e.length),!0)}capture(e){if(!this.consumeOptional(e))throw new T(4011,!1)}}function Kv(n){return n.segments.length>0?new pe([],{[fe]:n}):n}function Df(n){const e={};for(const r of Object.keys(n.children)){const s=Df(n.children[r]);(s.segments.length>0||s.hasChildren())&&(e[r]=s)}return function $Q(n){if(1===n.numberOfChildren&&n.children[fe]){const e=n.children[fe];return new pe(n.segments.concat(e.segments),e.children)}return n}(new pe(n.segments,e))}function oo(n){return n instanceof io}function GQ(n,e,t,r,i){if(0===t.length)return Ya(e.root,e.root,e.root,r,i);const s=function lP(n){if("string"==typeof n[0]&&1===n.length&&"/"===n[0])return new uP(!0,0,n);let e=0,t=!1;const r=n.reduce((i,s,o)=>{if("object"==typeof s&&null!=s){if(s.outlets){const a={};return qt(s.outlets,(u,l)=>{a[l]="string"==typeof u?u.split("/"):u}),[...i,{outlets:a}]}if(s.segmentPath)return[...i,s.segmentPath]}return"string"!=typeof s?[...i,s]:0===o?(s.split("/").forEach((a,u)=>{0==u&&"."===a||(0==u&&""===a?t=!0:".."===a?e++:""!=a&&i.push(a))}),i):[...i,s]},[]);return new uP(t,e,r)}(t);return s.toRoot()?Ya(e.root,e.root,new pe([],{}),r,i):function o(u){const l=function zQ(n,e,t,r){if(n.isAbsolute)return new Ja(e.root,!0,0);if(-1===r)return new Ja(t,t===e.root,0);return function cP(n,e,t){let r=n,i=e,s=t;for(;s>i;){if(s-=i,r=r.parent,!r)throw new T(4005,!1);i=r.segments.length}return new Ja(r,!1,i-s)}(t,r+(Xl(n.commands[0])?0:1),n.numberOfDoubleDots)}(s,e,n.snapshot?._urlSegment,u),c=l.processChildren?tc(l.segmentGroup,l.index,s.commands):Yv(l.segmentGroup,l.index,s.commands);return Ya(e.root,l.segmentGroup,c,r,i)}(n.snapshot?._lastPathIndex)}function Xl(n){return"object"==typeof n&&null!=n&&!n.outlets&&!n.segmentPath}function ec(n){return"object"==typeof n&&null!=n&&n.outlets}function Ya(n,e,t,r,i){let o,s={};r&&qt(r,(u,l)=>{s[l]=Array.isArray(u)?u.map(c=>`${c}`):`${u}`}),o=n===e?t:aP(n,e,t);const a=Kv(Df(o));return new io(a,s,i)}function aP(n,e,t){const r={};return qt(n.children,(i,s)=>{r[s]=i===e?t:aP(i,e,t)}),new pe(n.segments,r)}class uP{constructor(e,t,r){if(this.isAbsolute=e,this.numberOfDoubleDots=t,this.commands=r,e&&r.length>0&&Xl(r[0]))throw new T(4003,!1);const i=r.find(ec);if(i&&i!==J1(r))throw new T(4004,!1)}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class Ja{constructor(e,t,r){this.segmentGroup=e,this.processChildren=t,this.index=r}}function Yv(n,e,t){if(n||(n=new pe([],{})),0===n.segments.length&&n.hasChildren())return tc(n,e,t);const r=function KQ(n,e,t){let r=0,i=e;const s={match:!1,pathIndex:0,commandIndex:0};for(;i<n.segments.length;){if(r>=t.length)return s;const o=n.segments[i],a=t[r];if(ec(a))break;const u=`${a}`,l=r<t.length-1?t[r+1]:null;if(i>0&&void 0===u)break;if(u&&l&&"object"==typeof l&&void 0===l.outlets){if(!hP(u,l,o))return s;r+=2}else{if(!hP(u,{},o))return s;r++}i++}return{match:!0,pathIndex:i,commandIndex:r}}(n,e,t),i=t.slice(r.commandIndex);if(r.match&&r.pathIndex<n.segments.length){const s=new pe(n.segments.slice(0,r.pathIndex),{});return s.children[fe]=new pe(n.segments.slice(r.pathIndex),n.children),tc(s,0,i)}return r.match&&0===i.length?new pe(n.segments,{}):r.match&&!n.hasChildren()?Jv(n,e,t):r.match?tc(n,0,i):Jv(n,e,t)}function tc(n,e,t){if(0===t.length)return new pe(n.segments,{});{const r=function WQ(n){return ec(n[0])?n[0].outlets:{[fe]:n}}(t),i={};return qt(r,(s,o)=>{"string"==typeof s&&(s=[s]),null!==s&&(i[o]=Yv(n.children[o],e,s))}),qt(n.children,(s,o)=>{void 0===r[o]&&(i[o]=s)}),new pe(n.segments,i)}}function Jv(n,e,t){const r=n.segments.slice(0,e);let i=0;for(;i<t.length;){const s=t[i];if(ec(s)){const u=QQ(s.outlets);return new pe(r,u)}if(0===i&&Xl(t[0])){r.push(new Jl(n.segments[e].path,dP(t[0]))),i++;continue}const o=ec(s)?s.outlets[fe]:`${s}`,a=i<t.length-1?t[i+1]:null;o&&a&&Xl(a)?(r.push(new Jl(o,dP(a))),i+=2):(r.push(new Jl(o,{})),i++)}return new pe(r,{})}function QQ(n){const e={};return qt(n,(t,r)=>{"string"==typeof t&&(t=[t]),null!==t&&(e[r]=Jv(new pe([],{}),0,t))}),e}function dP(n){const e={};return qt(n,(t,r)=>e[r]=`${t}`),e}function hP(n,e,t){return n==t.path&&Xr(e,t.parameters)}class xi{constructor(e,t){this.id=e,this.url=t}}class Zv extends xi{constructor(e,t,r="imperative",i=null){super(e,t),this.type=0,this.navigationTrigger=r,this.restoredState=i}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class ao extends xi{constructor(e,t,r){super(e,t),this.urlAfterRedirects=r,this.type=1}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class Sf extends xi{constructor(e,t,r,i){super(e,t),this.reason=r,this.code=i,this.type=2}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class fP extends xi{constructor(e,t,r,i){super(e,t),this.error=r,this.target=i,this.type=3}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class YQ extends xi{constructor(e,t,r,i){super(e,t),this.urlAfterRedirects=r,this.state=i,this.type=4}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class JQ extends xi{constructor(e,t,r,i){super(e,t),this.urlAfterRedirects=r,this.state=i,this.type=7}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class ZQ extends xi{constructor(e,t,r,i,s){super(e,t),this.urlAfterRedirects=r,this.state=i,this.shouldActivate=s,this.type=8}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class XQ extends xi{constructor(e,t,r,i){super(e,t),this.urlAfterRedirects=r,this.state=i,this.type=5}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class e9 extends xi{constructor(e,t,r,i){super(e,t),this.urlAfterRedirects=r,this.state=i,this.type=6}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class t9{constructor(e){this.route=e,this.type=9}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class n9{constructor(e){this.route=e,this.type=10}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class r9{constructor(e){this.snapshot=e,this.type=11}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class i9{constructor(e){this.snapshot=e,this.type=12}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class s9{constructor(e){this.snapshot=e,this.type=13}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class o9{constructor(e){this.snapshot=e,this.type=14}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class pP{constructor(e,t,r){this.routerEvent=e,this.position=t,this.anchor=r,this.type=15}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}class gP{constructor(e){this._root=e}get root(){return this._root.value}parent(e){const t=this.pathFromRoot(e);return t.length>1?t[t.length-2]:null}children(e){const t=Xv(e,this._root);return t?t.children.map(r=>r.value):[]}firstChild(e){const t=Xv(e,this._root);return t&&t.children.length>0?t.children[0].value:null}siblings(e){const t=ew(e,this._root);return t.length<2?[]:t[t.length-2].children.map(i=>i.value).filter(i=>i!==e)}pathFromRoot(e){return ew(e,this._root).map(t=>t.value)}}function Xv(n,e){if(n===e.value)return e;for(const t of e.children){const r=Xv(n,t);if(r)return r}return null}function ew(n,e){if(n===e.value)return[e];for(const t of e.children){const r=ew(n,t);if(r.length)return r.unshift(e),r}return[]}class Ni{constructor(e,t){this.value=e,this.children=t}toString(){return`TreeNode(${this.value})`}}function Za(n){const e={};return n&&n.children.forEach(t=>e[t.value.outlet]=t),e}class mP extends gP{constructor(e,t){super(e),this.snapshot=t,tw(this,e)}toString(){return this.snapshot.toString()}}function yP(n,e){const t=function u9(n,e){const o=new Af([],{},{},"",{},fe,e,null,n.root,-1,{});return new vP("",new Ni(o,[]))}(n,e),r=new Ur([new Jl("",{})]),i=new Ur({}),s=new Ur({}),o=new Ur({}),a=new Ur(""),u=new cs(r,i,o,a,s,fe,e,t.root);return u.snapshot=t.root,new mP(new Ni(u,[]),t)}class cs{constructor(e,t,r,i,s,o,a,u){this.url=e,this.params=t,this.queryParams=r,this.fragment=i,this.data=s,this.outlet=o,this.component=a,this.title=this.data?.pipe(Z(l=>l[Yl]))??G(void 0),this._futureSnapshot=u}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe(Z(e=>Qa(e)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe(Z(e=>Qa(e)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function _P(n,e="emptyOnly"){const t=n.pathFromRoot;let r=0;if("always"!==e)for(r=t.length-1;r>=1;){const i=t[r],s=t[r-1];if(i.routeConfig&&""===i.routeConfig.path)r--;else{if(s.component)break;r--}}return function l9(n){return n.reduce((e,t)=>({params:{...e.params,...t.params},data:{...e.data,...t.data},resolve:{...t.data,...e.resolve,...t.routeConfig?.data,...t._resolvedData}}),{params:{},data:{},resolve:{}})}(t.slice(r))}class Af{constructor(e,t,r,i,s,o,a,u,l,c,d,h){this.url=e,this.params=t,this.queryParams=r,this.fragment=i,this.data=s,this.outlet=o,this.component=a,this.title=this.data?.[Yl],this.routeConfig=u,this._urlSegment=l,this._lastPathIndex=c,this._correctedLastPathIndex=h??c,this._resolve=d}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=Qa(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=Qa(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(r=>r.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class vP extends gP{constructor(e,t){super(t),this.url=e,tw(this,t)}toString(){return wP(this._root)}}function tw(n,e){e.value._routerState=n,e.children.forEach(t=>tw(n,t))}function wP(n){const e=n.children.length>0?` { ${n.children.map(wP).join(", ")} } `:"";return`${n.value}${e}`}function nw(n){if(n.snapshot){const e=n.snapshot,t=n._futureSnapshot;n.snapshot=t,Xr(e.queryParams,t.queryParams)||n.queryParams.next(t.queryParams),e.fragment!==t.fragment&&n.fragment.next(t.fragment),Xr(e.params,t.params)||n.params.next(t.params),function TQ(n,e){if(n.length!==e.length)return!1;for(let t=0;t<n.length;++t)if(!Xr(n[t],e[t]))return!1;return!0}(e.url,t.url)||n.url.next(t.url),Xr(e.data,t.data)||n.data.next(t.data)}else n.snapshot=n._futureSnapshot,n.data.next(n._futureSnapshot.data)}function rw(n,e){const t=Xr(n.params,e.params)&&function MQ(n,e){return so(n,e)&&n.every((t,r)=>Xr(t.parameters,e[r].parameters))}(n.url,e.url);return t&&!(!n.parent!=!e.parent)&&(!n.parent||rw(n.parent,e.parent))}function nc(n,e,t){if(t&&n.shouldReuseRoute(e.value,t.value.snapshot)){const r=t.value;r._futureSnapshot=e.value;const i=function d9(n,e,t){return e.children.map(r=>{for(const i of t.children)if(n.shouldReuseRoute(r.value,i.value.snapshot))return nc(n,r,i);return nc(n,r)})}(n,e,t);return new Ni(r,i)}{if(n.shouldAttach(e.value)){const s=n.retrieve(e.value);if(null!==s){const o=s.route;return o.value._futureSnapshot=e.value,o.children=e.children.map(a=>nc(n,a)),o}}const r=function h9(n){return new cs(new Ur(n.url),new Ur(n.params),new Ur(n.queryParams),new Ur(n.fragment),new Ur(n.data),n.outlet,n.component,n)}(e.value),i=e.children.map(s=>nc(n,s));return new Ni(r,i)}}const iw="ngNavigationCancelingError";function EP(n,e){const{redirectTo:t,navigationBehaviorOptions:r}=oo(e)?{redirectTo:e,navigationBehaviorOptions:void 0}:e,i=IP(!1,0,e);return i.url=t,i.navigationBehaviorOptions=r,i}function IP(n,e,t){const r=new Error("NavigationCancelingError: "+(n||""));return r[iw]=!0,r.cancellationCode=e,t&&(r.url=t),r}function bP(n){return TP(n)&&oo(n.url)}function TP(n){return n&&n[iw]}class f9{constructor(){this.outlet=null,this.route=null,this.resolver=null,this.injector=null,this.children=new rc,this.attachRef=null}}let rc=(()=>{class n{constructor(){this.contexts=new Map}onChildOutletCreated(t,r){const i=this.getOrCreateContext(t);i.outlet=r,this.contexts.set(t,i)}onChildOutletDestroyed(t){const r=this.getContext(t);r&&(r.outlet=null,r.attachRef=null)}onOutletDeactivated(){const t=this.contexts;return this.contexts=new Map,t}onOutletReAttached(t){this.contexts=t}getOrCreateContext(t){let r=this.getContext(t);return r||(r=new f9,this.contexts.set(t,r)),r}getContext(t){return this.contexts.get(t)||null}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=U({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const Mf=!1;let sw=(()=>{class n{constructor(t,r,i,s,o){this.parentContexts=t,this.location=r,this.changeDetector=s,this.environmentInjector=o,this.activated=null,this._activatedRoute=null,this.activateEvents=new Ye,this.deactivateEvents=new Ye,this.attachEvents=new Ye,this.detachEvents=new Ye,this.name=i||fe,t.onChildOutletCreated(this.name,this)}ngOnDestroy(){this.parentContexts.getContext(this.name)?.outlet===this&&this.parentContexts.onChildOutletDestroyed(this.name)}ngOnInit(){if(!this.activated){const t=this.parentContexts.getContext(this.name);t&&t.route&&(t.attachRef?this.attach(t.attachRef,t.route):this.activateWith(t.route,t.injector))}}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new T(4012,Mf);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new T(4012,Mf);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new T(4012,Mf);this.location.detach();const t=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(t.instance),t}attach(t,r){this.activated=t,this._activatedRoute=r,this.location.insert(t.hostView),this.attachEvents.emit(t.instance)}deactivate(){if(this.activated){const t=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(t)}}activateWith(t,r){if(this.isActivated)throw new T(4013,Mf);this._activatedRoute=t;const i=this.location,o=t._futureSnapshot.component,a=this.parentContexts.getOrCreateContext(this.name).children,u=new p9(t,a,i.injector);if(r&&function g9(n){return!!n.resolveComponentFactory}(r)){const l=r.resolveComponentFactory(o);this.activated=i.createComponent(l,i.length,u)}else this.activated=i.createComponent(o,{index:i.length,injector:u,environmentInjector:r??this.environmentInjector});this.changeDetector.markForCheck(),this.activateEvents.emit(this.activated.instance)}}return n.\u0275fac=function(t){return new(t||n)(b(rc),b(Or),function al(n){return function _q(n,e){if("class"===e)return n.classes;if("style"===e)return n.styles;const t=n.attrs;if(t){const r=t.length;let i=0;for(;i<r;){const s=t[i];if(NA(s))break;if(0===s)i+=2;else if("number"==typeof s)for(i++;i<r&&"string"==typeof t[i];)i++;else{if(s===e)return t[i+1];i+=2}}}return null}(wt(),n)}("name"),b(Qh),b(es))},n.\u0275dir=ee({type:n,selectors:[["router-outlet"]],outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],standalone:!0}),n})();class p9{constructor(e,t,r){this.route=e,this.childContexts=t,this.parent=r}get(e,t){return e===cs?this.route:e===rc?this.childContexts:this.parent.get(e,t)}}let ow=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=qn({type:n,selectors:[["ng-component"]],standalone:!0,features:[Sk],decls:1,vars:0,template:function(t,r){1&t&&It(0,"router-outlet")},dependencies:[sw],encapsulation:2}),n})();function CP(n,e){return n.providers&&!n._injector&&(n._injector=jh(n.providers,e,`Route: ${n.path}`)),n._injector??e}function uw(n){const e=n.children&&n.children.map(uw),t=e?{...n,children:e}:{...n};return!t.component&&!t.loadComponent&&(e||t.loadChildren)&&t.outlet&&t.outlet!==fe&&(t.component=ow),t}function wr(n){return n.outlet||fe}function DP(n,e){const t=n.filter(r=>wr(r)===e);return t.push(...n.filter(r=>wr(r)!==e)),t}function ic(n){if(!n)return null;if(n.routeConfig?._injector)return n.routeConfig._injector;for(let e=n.parent;e;e=e.parent){const t=e.routeConfig;if(t?._loadedInjector)return t._loadedInjector;if(t?._injector)return t._injector}return null}class w9{constructor(e,t,r,i){this.routeReuseStrategy=e,this.futureState=t,this.currState=r,this.forwardEvent=i}activate(e){const t=this.futureState._root,r=this.currState?this.currState._root:null;this.deactivateChildRoutes(t,r,e),nw(this.futureState.root),this.activateChildRoutes(t,r,e)}deactivateChildRoutes(e,t,r){const i=Za(t);e.children.forEach(s=>{const o=s.value.outlet;this.deactivateRoutes(s,i[o],r),delete i[o]}),qt(i,(s,o)=>{this.deactivateRouteAndItsChildren(s,r)})}deactivateRoutes(e,t,r){const i=e.value,s=t?t.value:null;if(i===s)if(i.component){const o=r.getContext(i.outlet);o&&this.deactivateChildRoutes(e,t,o.children)}else this.deactivateChildRoutes(e,t,r);else s&&this.deactivateRouteAndItsChildren(t,r)}deactivateRouteAndItsChildren(e,t){e.value.component&&this.routeReuseStrategy.shouldDetach(e.value.snapshot)?this.detachAndStoreRouteSubtree(e,t):this.deactivateRouteAndOutlet(e,t)}detachAndStoreRouteSubtree(e,t){const r=t.getContext(e.value.outlet),i=r&&e.value.component?r.children:t,s=Za(e);for(const o of Object.keys(s))this.deactivateRouteAndItsChildren(s[o],i);if(r&&r.outlet){const o=r.outlet.detach(),a=r.children.onOutletDeactivated();this.routeReuseStrategy.store(e.value.snapshot,{componentRef:o,route:e,contexts:a})}}deactivateRouteAndOutlet(e,t){const r=t.getContext(e.value.outlet),i=r&&e.value.component?r.children:t,s=Za(e);for(const o of Object.keys(s))this.deactivateRouteAndItsChildren(s[o],i);r&&r.outlet&&(r.outlet.deactivate(),r.children.onOutletDeactivated(),r.attachRef=null,r.resolver=null,r.route=null)}activateChildRoutes(e,t,r){const i=Za(t);e.children.forEach(s=>{this.activateRoutes(s,i[s.value.outlet],r),this.forwardEvent(new o9(s.value.snapshot))}),e.children.length&&this.forwardEvent(new i9(e.value.snapshot))}activateRoutes(e,t,r){const i=e.value,s=t?t.value:null;if(nw(i),i===s)if(i.component){const o=r.getOrCreateContext(i.outlet);this.activateChildRoutes(e,t,o.children)}else this.activateChildRoutes(e,t,r);else if(i.component){const o=r.getOrCreateContext(i.outlet);if(this.routeReuseStrategy.shouldAttach(i.snapshot)){const a=this.routeReuseStrategy.retrieve(i.snapshot);this.routeReuseStrategy.store(i.snapshot,null),o.children.onOutletReAttached(a.contexts),o.attachRef=a.componentRef,o.route=a.route.value,o.outlet&&o.outlet.attach(a.componentRef,a.route.value),nw(a.route.value),this.activateChildRoutes(e,null,o.children)}else{const a=ic(i.snapshot),u=a?.get(ba)??null;o.attachRef=null,o.route=i,o.resolver=u,o.injector=a,o.outlet&&o.outlet.activateWith(i,o.injector),this.activateChildRoutes(e,null,o.children)}}else this.activateChildRoutes(e,null,r)}}class SP{constructor(e){this.path=e,this.route=this.path[this.path.length-1]}}class xf{constructor(e,t){this.component=e,this.route=t}}function E9(n,e,t){const r=n._root;return sc(r,e?e._root:null,t,[r.value])}function Xa(n,e){const t=Symbol(),r=e.get(n,t);return r===t?"function"!=typeof n||function IG(n){return null!==zd(n)}(n)?e.get(n):n:r}function sc(n,e,t,r,i={canDeactivateChecks:[],canActivateChecks:[]}){const s=Za(e);return n.children.forEach(o=>{(function b9(n,e,t,r,i={canDeactivateChecks:[],canActivateChecks:[]}){const s=n.value,o=e?e.value:null,a=t?t.getContext(n.value.outlet):null;if(o&&s.routeConfig===o.routeConfig){const u=function T9(n,e,t){if("function"==typeof t)return t(n,e);switch(t){case"pathParamsChange":return!so(n.url,e.url);case"pathParamsOrQueryParamsChange":return!so(n.url,e.url)||!Xr(n.queryParams,e.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!rw(n,e)||!Xr(n.queryParams,e.queryParams);default:return!rw(n,e)}}(o,s,s.routeConfig.runGuardsAndResolvers);u?i.canActivateChecks.push(new SP(r)):(s.data=o.data,s._resolvedData=o._resolvedData),sc(n,e,s.component?a?a.children:null:t,r,i),u&&a&&a.outlet&&a.outlet.isActivated&&i.canDeactivateChecks.push(new xf(a.outlet.component,o))}else o&&oc(e,a,i),i.canActivateChecks.push(new SP(r)),sc(n,null,s.component?a?a.children:null:t,r,i)})(o,s[o.value.outlet],t,r.concat([o.value]),i),delete s[o.value.outlet]}),qt(s,(o,a)=>oc(o,t.getContext(a),i)),i}function oc(n,e,t){const r=Za(n),i=n.value;qt(r,(s,o)=>{oc(s,i.component?e?e.children.getContext(o):null:e,t)}),t.canDeactivateChecks.push(new xf(i.component&&e&&e.outlet&&e.outlet.isActivated?e.outlet.component:null,i))}function ac(n){return"function"==typeof n}function lw(n){return n instanceof yf||"EmptyError"===n?.name}const Nf=Symbol("INITIAL_VALUE");function eu(){return Rn(n=>H1(n.map(e=>e.pipe(rr(1),function _Q(...n){const e=Ju(n);return lt((t,r)=>{(e?Ql(n,t,e):Ql(n,t)).subscribe(r)})}(Nf)))).pipe(Z(e=>{for(const t of e)if(!0!==t){if(t===Nf)return Nf;if(!1===t||t instanceof io)return t}return!0}),En(e=>e!==Nf),rr(1)))}function AP(n){return function HH(...n){return VS(n)}(Pt(e=>{if(oo(e))throw EP(0,e)}),Z(e=>!0===e))}const cw={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function MP(n,e,t,r,i){const s=dw(n,e,t);return s.matched?function $9(n,e,t,r){const i=e.canMatch;return i&&0!==i.length?G(i.map(o=>{const a=Xa(o,n);return ls(function x9(n){return n&&ac(n.canMatch)}(a)?a.canMatch(e,t):n.runInContext(()=>a(e,t)))})).pipe(eu(),AP()):G(!0)}(r=CP(e,r),e,t).pipe(Z(o=>!0===o?s:{...cw})):G(s)}function dw(n,e,t){if(""===e.path)return"full"===e.pathMatch&&(n.hasChildren()||t.length>0)?{...cw}:{matched:!0,consumedSegments:[],remainingSegments:t,parameters:{},positionalParamSegments:{}};const i=(e.matcher||bQ)(t,n,e);if(!i)return{...cw};const s={};qt(i.posParams,(a,u)=>{s[u]=a.path});const o=i.consumed.length>0?{...s,...i.consumed[i.consumed.length-1].parameters}:s;return{matched:!0,consumedSegments:i.consumed,remainingSegments:t.slice(i.consumed.length),parameters:o,positionalParamSegments:i.posParams??{}}}function kf(n,e,t,r,i="corrected"){if(t.length>0&&function G9(n,e,t){return t.some(r=>Rf(n,e,r)&&wr(r)!==fe)}(n,t,r)){const o=new pe(e,function H9(n,e,t,r){const i={};i[fe]=r,r._sourceSegment=n,r._segmentIndexShift=e.length;for(const s of t)if(""===s.path&&wr(s)!==fe){const o=new pe([],{});o._sourceSegment=n,o._segmentIndexShift=e.length,i[wr(s)]=o}return i}(n,e,r,new pe(t,n.children)));return o._sourceSegment=n,o._segmentIndexShift=e.length,{segmentGroup:o,slicedSegments:[]}}if(0===t.length&&function q9(n,e,t){return t.some(r=>Rf(n,e,r))}(n,t,r)){const o=new pe(n.segments,function j9(n,e,t,r,i,s){const o={};for(const a of r)if(Rf(n,t,a)&&!i[wr(a)]){const u=new pe([],{});u._sourceSegment=n,u._segmentIndexShift="legacy"===s?n.segments.length:e.length,o[wr(a)]=u}return{...i,...o}}(n,e,t,r,n.children,i));return o._sourceSegment=n,o._segmentIndexShift=e.length,{segmentGroup:o,slicedSegments:t}}const s=new pe(n.segments,n.children);return s._sourceSegment=n,s._segmentIndexShift=e.length,{segmentGroup:s,slicedSegments:t}}function Rf(n,e,t){return(!(n.hasChildren()||e.length>0)||"full"!==t.pathMatch)&&""===t.path}function xP(n,e,t,r){return!!(wr(n)===r||r!==fe&&Rf(e,t,n))&&("**"===n.path||dw(e,n,t).matched)}function NP(n,e,t){return 0===e.length&&!n.children[t]}const Pf=!1;class Of{constructor(e){this.segmentGroup=e||null}}class kP{constructor(e){this.urlTree=e}}function uc(n){return Ka(new Of(n))}function RP(n){return Ka(new kP(n))}class Q9{constructor(e,t,r,i,s){this.injector=e,this.configLoader=t,this.urlSerializer=r,this.urlTree=i,this.config=s,this.allowRedirects=!0}apply(){const e=kf(this.urlTree.root,[],[],this.config).segmentGroup,t=new pe(e.segments,e.children);return this.expandSegmentGroup(this.injector,this.config,t,fe).pipe(Z(s=>this.createUrlTree(Df(s),this.urlTree.queryParams,this.urlTree.fragment))).pipe(us(s=>{if(s instanceof kP)return this.allowRedirects=!1,this.match(s.urlTree);throw s instanceof Of?this.noMatchError(s):s}))}match(e){return this.expandSegmentGroup(this.injector,this.config,e.root,fe).pipe(Z(i=>this.createUrlTree(Df(i),e.queryParams,e.fragment))).pipe(us(i=>{throw i instanceof Of?this.noMatchError(i):i}))}noMatchError(e){return new T(4002,Pf)}createUrlTree(e,t,r){const i=Kv(e);return new io(i,t,r)}expandSegmentGroup(e,t,r,i){return 0===r.segments.length&&r.hasChildren()?this.expandChildren(e,t,r).pipe(Z(s=>new pe([],s))):this.expandSegment(e,r,t,r.segments,i,!0)}expandChildren(e,t,r){const i=[];for(const s of Object.keys(r.children))"primary"===s?i.unshift(s):i.push(s);return dt(i).pipe(as(s=>{const o=r.children[s],a=DP(t,s);return this.expandSegmentGroup(e,a,o,s).pipe(Z(u=>({segment:u,outlet:s})))}),z1((s,o)=>(s[o.outlet]=o.segment,s),{}),W1())}expandSegment(e,t,r,i,s,o){return dt(r).pipe(as(a=>this.expandSegmentAgainstRoute(e,t,r,a,i,s,o).pipe(us(l=>{if(l instanceof Of)return G(null);throw l}))),os(a=>!!a),us((a,u)=>{if(lw(a))return NP(t,i,s)?G(new pe([],{})):uc(t);throw a}))}expandSegmentAgainstRoute(e,t,r,i,s,o,a){return xP(i,t,s,o)?void 0===i.redirectTo?this.matchSegmentAgainstRoute(e,t,i,s,o):a&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(e,t,r,i,s,o):uc(t):uc(t)}expandSegmentAgainstRouteUsingRedirect(e,t,r,i,s,o){return"**"===i.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(e,r,i,o):this.expandRegularSegmentAgainstRouteUsingRedirect(e,t,r,i,s,o)}expandWildCardWithParamsAgainstRouteUsingRedirect(e,t,r,i){const s=this.applyRedirectCommands([],r.redirectTo,{});return r.redirectTo.startsWith("/")?RP(s):this.lineralizeSegments(r,s).pipe(_t(o=>{const a=new pe(o,{});return this.expandSegment(e,a,t,o,i,!1)}))}expandRegularSegmentAgainstRouteUsingRedirect(e,t,r,i,s,o){const{matched:a,consumedSegments:u,remainingSegments:l,positionalParamSegments:c}=dw(t,i,s);if(!a)return uc(t);const d=this.applyRedirectCommands(u,i.redirectTo,c);return i.redirectTo.startsWith("/")?RP(d):this.lineralizeSegments(i,d).pipe(_t(h=>this.expandSegment(e,t,r,h.concat(l),o,!1)))}matchSegmentAgainstRoute(e,t,r,i,s){return"**"===r.path?(e=CP(r,e),r.loadChildren?(r._loadedRoutes?G({routes:r._loadedRoutes,injector:r._loadedInjector}):this.configLoader.loadChildren(e,r)).pipe(Z(a=>(r._loadedRoutes=a.routes,r._loadedInjector=a.injector,new pe(i,{})))):G(new pe(i,{}))):MP(t,r,i,e).pipe(Rn(({matched:o,consumedSegments:a,remainingSegments:u})=>o?this.getChildConfig(e=r._injector??e,r,i).pipe(_t(c=>{const d=c.injector??e,h=c.routes,{segmentGroup:f,slicedSegments:p}=kf(t,a,u,h),g=new pe(f.segments,f.children);if(0===p.length&&g.hasChildren())return this.expandChildren(d,h,g).pipe(Z(v=>new pe(a,v)));if(0===h.length&&0===p.length)return G(new pe(a,{}));const m=wr(r)===s;return this.expandSegment(d,g,h,p,m?fe:s,!0).pipe(Z(I=>new pe(a.concat(I.segments),I.children)))})):uc(t)))}getChildConfig(e,t,r){return t.children?G({routes:t.children,injector:e}):t.loadChildren?void 0!==t._loadedRoutes?G({routes:t._loadedRoutes,injector:t._loadedInjector}):function B9(n,e,t,r){const i=e.canLoad;return void 0===i||0===i.length?G(!0):G(i.map(o=>{const a=Xa(o,n);return ls(function D9(n){return n&&ac(n.canLoad)}(a)?a.canLoad(e,t):n.runInContext(()=>a(e,t)))})).pipe(eu(),AP())}(e,t,r).pipe(_t(i=>i?this.configLoader.loadChildren(e,t).pipe(Pt(s=>{t._loadedRoutes=s.routes,t._loadedInjector=s.injector})):function W9(n){return Ka(IP(Pf,3))}())):G({routes:[],injector:e})}lineralizeSegments(e,t){let r=[],i=t.root;for(;;){if(r=r.concat(i.segments),0===i.numberOfChildren)return G(r);if(i.numberOfChildren>1||!i.children[fe])return Ka(new T(4e3,Pf));i=i.children[fe]}}applyRedirectCommands(e,t,r){return this.applyRedirectCreateUrlTree(t,this.urlSerializer.parse(t),e,r)}applyRedirectCreateUrlTree(e,t,r,i){const s=this.createSegmentGroup(e,t.root,r,i);return new io(s,this.createQueryParams(t.queryParams,this.urlTree.queryParams),t.fragment)}createQueryParams(e,t){const r={};return qt(e,(i,s)=>{if("string"==typeof i&&i.startsWith(":")){const a=i.substring(1);r[s]=t[a]}else r[s]=i}),r}createSegmentGroup(e,t,r,i){const s=this.createSegments(e,t.segments,r,i);let o={};return qt(t.children,(a,u)=>{o[u]=this.createSegmentGroup(e,a,r,i)}),new pe(s,o)}createSegments(e,t,r,i){return t.map(s=>s.path.startsWith(":")?this.findPosParam(e,s,i):this.findOrReturn(s,r))}findPosParam(e,t,r){const i=r[t.path.substring(1)];if(!i)throw new T(4001,Pf);return i}findOrReturn(e,t){let r=0;for(const i of t){if(i.path===e.path)return t.splice(r),i;r++}return e}}class J9{}class eY{constructor(e,t,r,i,s,o,a,u){this.injector=e,this.rootComponentType=t,this.config=r,this.urlTree=i,this.url=s,this.paramsInheritanceStrategy=o,this.relativeLinkResolution=a,this.urlSerializer=u}recognize(){const e=kf(this.urlTree.root,[],[],this.config.filter(t=>void 0===t.redirectTo),this.relativeLinkResolution).segmentGroup;return this.processSegmentGroup(this.injector,this.config,e,fe).pipe(Z(t=>{if(null===t)return null;const r=new Af([],Object.freeze({}),Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,{},fe,this.rootComponentType,null,this.urlTree.root,-1,{}),i=new Ni(r,t),s=new vP(this.url,i);return this.inheritParamsAndData(s._root),s}))}inheritParamsAndData(e){const t=e.value,r=_P(t,this.paramsInheritanceStrategy);t.params=Object.freeze(r.params),t.data=Object.freeze(r.data),e.children.forEach(i=>this.inheritParamsAndData(i))}processSegmentGroup(e,t,r,i){return 0===r.segments.length&&r.hasChildren()?this.processChildren(e,t,r):this.processSegment(e,t,r,r.segments,i)}processChildren(e,t,r){return dt(Object.keys(r.children)).pipe(as(i=>{const s=r.children[i],o=DP(t,i);return this.processSegmentGroup(e,o,s,i)}),z1((i,s)=>i&&s?(i.push(...s),i):null),function EQ(n,e=!1){return lt((t,r)=>{let i=0;t.subscribe(ct(r,s=>{const o=n(s,i++);(o||e)&&r.next(s),!o&&r.complete()}))})}(i=>null!==i),vf(null),W1(),Z(i=>{if(null===i)return null;const s=PP(i);return function tY(n){n.sort((e,t)=>e.value.outlet===fe?-1:t.value.outlet===fe?1:e.value.outlet.localeCompare(t.value.outlet))}(s),s}))}processSegment(e,t,r,i,s){return dt(t).pipe(as(o=>this.processSegmentAgainstRoute(o._injector??e,o,r,i,s)),os(o=>!!o),us(o=>{if(lw(o))return NP(r,i,s)?G([]):G(null);throw o}))}processSegmentAgainstRoute(e,t,r,i,s){if(t.redirectTo||!xP(t,r,i,s))return G(null);let o;if("**"===t.path){const a=i.length>0?J1(i).parameters:{},u=FP(r)+i.length;o=G({snapshot:new Af(i,a,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,VP(t),wr(t),t.component??t._loadedComponent??null,t,OP(r),u,UP(t),u),consumedSegments:[],remainingSegments:[]})}else o=MP(r,t,i,e).pipe(Z(({matched:a,consumedSegments:u,remainingSegments:l,parameters:c})=>{if(!a)return null;const d=FP(r)+u.length;return{snapshot:new Af(u,c,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,VP(t),wr(t),t.component??t._loadedComponent??null,t,OP(r),d,UP(t),d),consumedSegments:u,remainingSegments:l}}));return o.pipe(Rn(a=>{if(null===a)return G(null);const{snapshot:u,consumedSegments:l,remainingSegments:c}=a;e=t._injector??e;const d=t._loadedInjector??e,h=function nY(n){return n.children?n.children:n.loadChildren?n._loadedRoutes:[]}(t),{segmentGroup:f,slicedSegments:p}=kf(r,l,c,h.filter(m=>void 0===m.redirectTo),this.relativeLinkResolution);if(0===p.length&&f.hasChildren())return this.processChildren(d,h,f).pipe(Z(m=>null===m?null:[new Ni(u,m)]));if(0===h.length&&0===p.length)return G([new Ni(u,[])]);const g=wr(t)===s;return this.processSegment(d,h,f,p,g?fe:s).pipe(Z(m=>null===m?null:[new Ni(u,m)]))}))}}function rY(n){const e=n.value.routeConfig;return e&&""===e.path&&void 0===e.redirectTo}function PP(n){const e=[],t=new Set;for(const r of n){if(!rY(r)){e.push(r);continue}const i=e.find(s=>r.value.routeConfig===s.value.routeConfig);void 0!==i?(i.children.push(...r.children),t.add(i)):e.push(r)}for(const r of t){const i=PP(r.children);e.push(new Ni(r.value,i))}return e.filter(r=>!t.has(r))}function OP(n){let e=n;for(;e._sourceSegment;)e=e._sourceSegment;return e}function FP(n){let e=n,t=e._segmentIndexShift??0;for(;e._sourceSegment;)e=e._sourceSegment,t+=e._segmentIndexShift??0;return t-1}function VP(n){return n.data||{}}function UP(n){return n.resolve||{}}function BP(n){return"string"==typeof n.title||null===n.title}function hw(n){return Rn(e=>{const t=n(e);return t?dt(t).pipe(Z(()=>e)):G(e)})}let $P=(()=>{class n{buildTitle(t){let r,i=t.root;for(;void 0!==i;)r=this.getResolvedTitleForRoute(i)??r,i=i.children.find(s=>s.outlet===fe);return r}getResolvedTitleForRoute(t){return t.data[Yl]}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=U({token:n,factory:function(){return tt(jP)},providedIn:"root"}),n})(),jP=(()=>{class n extends $P{constructor(t){super(),this.title=t}updateTitle(t){const r=this.buildTitle(t);void 0!==r&&this.title.setTitle(r)}}return n.\u0275fac=function(t){return new(t||n)(M(F1))},n.\u0275prov=U({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();class dY{}class fY extends class hY{shouldDetach(e){return!1}store(e,t){}shouldAttach(e){return!1}retrieve(e){return null}shouldReuseRoute(e,t){return e.routeConfig===t.routeConfig}}{}const Lf=new $("",{providedIn:"root",factory:()=>({})}),fw=new $("ROUTES");let pw=(()=>{class n{constructor(t,r){this.injector=t,this.compiler=r,this.componentLoaders=new WeakMap,this.childrenLoaders=new WeakMap}loadComponent(t){if(this.componentLoaders.get(t))return this.componentLoaders.get(t);if(t._loadedComponent)return G(t._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(t);const r=ls(t.loadComponent()).pipe(Pt(s=>{this.onLoadEndListener&&this.onLoadEndListener(t),t._loadedComponent=s}),wf(()=>{this.componentLoaders.delete(t)})),i=new Hv(r,()=>new Xe).pipe(jv());return this.componentLoaders.set(t,i),i}loadChildren(t,r){if(this.childrenLoaders.get(r))return this.childrenLoaders.get(r);if(r._loadedRoutes)return G({routes:r._loadedRoutes,injector:r._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(r);const s=this.loadModuleFactoryOrRoutes(r.loadChildren).pipe(Z(a=>{this.onLoadEndListener&&this.onLoadEndListener(r);let u,l,c=!1;Array.isArray(a)?l=a:(u=a.create(t).injector,l=Y1(u.get(fw,[],K.Self|K.Optional)));return{routes:l.map(uw),injector:u}}),wf(()=>{this.childrenLoaders.delete(r)})),o=new Hv(s,()=>new Xe).pipe(jv());return this.childrenLoaders.set(r,o),o}loadModuleFactoryOrRoutes(t){return ls(t()).pipe(_t(r=>r instanceof Ck||Array.isArray(r)?G(r):dt(this.compiler.compileModuleAsync(r))))}}return n.\u0275fac=function(t){return new(t||n)(M(Rt),M(rv))},n.\u0275prov=U({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();class gY{}class mY{shouldProcessUrl(e){return!0}extract(e){return e}merge(e,t){return e}}function yY(n){throw n}function _Y(n,e,t){return e.parse("/")}const vY={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},wY={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};function GP(){const n=tt(rP),e=tt(rc),t=tt(_v),r=tt(Rt),i=tt(rv),s=tt(fw,{optional:!0})??[],o=tt(Lf,{optional:!0})??{},a=tt(jP),u=tt($P,{optional:!0}),l=tt(gY,{optional:!0}),c=tt(dY,{optional:!0}),d=new Dt(null,n,e,t,r,i,Y1(s));return l&&(d.urlHandlingStrategy=l),c&&(d.routeReuseStrategy=c),d.titleStrategy=u??a,function EY(n,e){n.errorHandler&&(e.errorHandler=n.errorHandler),n.malformedUriErrorHandler&&(e.malformedUriErrorHandler=n.malformedUriErrorHandler),n.onSameUrlNavigation&&(e.onSameUrlNavigation=n.onSameUrlNavigation),n.paramsInheritanceStrategy&&(e.paramsInheritanceStrategy=n.paramsInheritanceStrategy),n.relativeLinkResolution&&(e.relativeLinkResolution=n.relativeLinkResolution),n.urlUpdateStrategy&&(e.urlUpdateStrategy=n.urlUpdateStrategy),n.canceledNavigationResolution&&(e.canceledNavigationResolution=n.canceledNavigationResolution)}(o,d),d}let Dt=(()=>{class n{constructor(t,r,i,s,o,a,u){this.rootComponentType=t,this.urlSerializer=r,this.rootContexts=i,this.location=s,this.config=u,this.lastSuccessfulNavigation=null,this.currentNavigation=null,this.disposed=!1,this.navigationId=0,this.currentPageId=0,this.isNgZoneEnabled=!1,this.events=new Xe,this.errorHandler=yY,this.malformedUriErrorHandler=_Y,this.navigated=!1,this.lastSuccessfulId=-1,this.afterPreactivation=()=>G(void 0),this.urlHandlingStrategy=new mY,this.routeReuseStrategy=new fY,this.onSameUrlNavigation="ignore",this.paramsInheritanceStrategy="emptyOnly",this.urlUpdateStrategy="deferred",this.relativeLinkResolution="corrected",this.canceledNavigationResolution="replace",this.configLoader=o.get(pw),this.configLoader.onLoadEndListener=h=>this.triggerEvent(new n9(h)),this.configLoader.onLoadStartListener=h=>this.triggerEvent(new t9(h)),this.ngModule=o.get(eo),this.console=o.get(o6);const d=o.get(Pe);this.isNgZoneEnabled=d instanceof Pe&&Pe.isInAngularZone(),this.resetConfig(u),this.currentUrlTree=function CQ(){return new io(new pe([],{}),{},null)}(),this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.routerState=yP(this.currentUrlTree,this.rootComponentType),this.transitions=new Ur({id:0,targetPageId:0,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,extractedUrl:this.urlHandlingStrategy.extract(this.currentUrlTree),urlAfterRedirects:this.urlHandlingStrategy.extract(this.currentUrlTree),rawUrl:this.currentUrlTree,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:"imperative",restoredState:null,currentSnapshot:this.routerState.snapshot,targetSnapshot:null,currentRouterState:this.routerState,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.navigations=this.setupNavigations(this.transitions),this.processNavigations()}get browserPageId(){return this.location.getState()?.\u0275routerPageId}setupNavigations(t){const r=this.events;return t.pipe(En(i=>0!==i.id),Z(i=>({...i,extractedUrl:this.urlHandlingStrategy.extract(i.rawUrl)})),Rn(i=>{let s=!1,o=!1;return G(i).pipe(Pt(a=>{this.currentNavigation={id:a.id,initialUrl:a.rawUrl,extractedUrl:a.extractedUrl,trigger:a.source,extras:a.extras,previousNavigation:this.lastSuccessfulNavigation?{...this.lastSuccessfulNavigation,previousNavigation:null}:null}}),Rn(a=>{const u=this.browserUrlTree.toString(),l=!this.navigated||a.extractedUrl.toString()!==u||u!==this.currentUrlTree.toString();if(("reload"===this.onSameUrlNavigation||l)&&this.urlHandlingStrategy.shouldProcessUrl(a.rawUrl))return qP(a.source)&&(this.browserUrlTree=a.extractedUrl),G(a).pipe(Rn(d=>{const h=this.transitions.getValue();return r.next(new Zv(d.id,this.serializeUrl(d.extractedUrl),d.source,d.restoredState)),h!==this.transitions.getValue()?fi:Promise.resolve(d)}),function Y9(n,e,t,r){return Rn(i=>function K9(n,e,t,r,i){return new Q9(n,e,t,r,i).apply()}(n,e,t,i.extractedUrl,r).pipe(Z(s=>({...i,urlAfterRedirects:s}))))}(this.ngModule.injector,this.configLoader,this.urlSerializer,this.config),Pt(d=>{this.currentNavigation={...this.currentNavigation,finalUrl:d.urlAfterRedirects},i.urlAfterRedirects=d.urlAfterRedirects}),function sY(n,e,t,r,i,s){return _t(o=>function X9(n,e,t,r,i,s,o="emptyOnly",a="legacy"){return new eY(n,e,t,r,i,o,a,s).recognize().pipe(Rn(u=>null===u?function Z9(n){return new Ae(e=>e.error(n))}(new J9):G(u)))}(n,e,t,o.urlAfterRedirects,r.serialize(o.urlAfterRedirects),r,i,s).pipe(Z(a=>({...o,targetSnapshot:a}))))}(this.ngModule.injector,this.rootComponentType,this.config,this.urlSerializer,this.paramsInheritanceStrategy,this.relativeLinkResolution),Pt(d=>{if(i.targetSnapshot=d.targetSnapshot,"eager"===this.urlUpdateStrategy){if(!d.extras.skipLocationChange){const f=this.urlHandlingStrategy.merge(d.urlAfterRedirects,d.rawUrl);this.setBrowserUrl(f,d)}this.browserUrlTree=d.urlAfterRedirects}const h=new YQ(d.id,this.serializeUrl(d.extractedUrl),this.serializeUrl(d.urlAfterRedirects),d.targetSnapshot);r.next(h)}));if(l&&this.rawUrlTree&&this.urlHandlingStrategy.shouldProcessUrl(this.rawUrlTree)){const{id:h,extractedUrl:f,source:p,restoredState:g,extras:m}=a,_=new Zv(h,this.serializeUrl(f),p,g);r.next(_);const I=yP(f,this.rootComponentType).snapshot;return G(i={...a,targetSnapshot:I,urlAfterRedirects:f,extras:{...m,skipLocationChange:!1,replaceUrl:!1}})}return this.rawUrlTree=a.rawUrl,a.resolve(null),fi}),Pt(a=>{const u=new JQ(a.id,this.serializeUrl(a.extractedUrl),this.serializeUrl(a.urlAfterRedirects),a.targetSnapshot);this.triggerEvent(u)}),Z(a=>i={...a,guards:E9(a.targetSnapshot,a.currentSnapshot,this.rootContexts)}),function k9(n,e){return _t(t=>{const{targetSnapshot:r,currentSnapshot:i,guards:{canActivateChecks:s,canDeactivateChecks:o}}=t;return 0===o.length&&0===s.length?G({...t,guardsResult:!0}):function R9(n,e,t,r){return dt(n).pipe(_t(i=>function U9(n,e,t,r,i){const s=e&&e.routeConfig?e.routeConfig.canDeactivate:null;return s&&0!==s.length?G(s.map(a=>{const u=ic(e)??i,l=Xa(a,u);return ls(function M9(n){return n&&ac(n.canDeactivate)}(l)?l.canDeactivate(n,e,t,r):u.runInContext(()=>l(n,e,t,r))).pipe(os())})).pipe(eu()):G(!0)}(i.component,i.route,t,e,r)),os(i=>!0!==i,!0))}(o,r,i,n).pipe(_t(a=>a&&function C9(n){return"boolean"==typeof n}(a)?function P9(n,e,t,r){return dt(e).pipe(as(i=>Ql(function F9(n,e){return null!==n&&e&&e(new r9(n)),G(!0)}(i.route.parent,r),function O9(n,e){return null!==n&&e&&e(new s9(n)),G(!0)}(i.route,r),function V9(n,e,t){const r=e[e.length-1],s=e.slice(0,e.length-1).reverse().map(o=>function I9(n){const e=n.routeConfig?n.routeConfig.canActivateChild:null;return e&&0!==e.length?{node:n,guards:e}:null}(o)).filter(o=>null!==o).map(o=>_f(()=>G(o.guards.map(u=>{const l=ic(o.node)??t,c=Xa(u,l);return ls(function A9(n){return n&&ac(n.canActivateChild)}(c)?c.canActivateChild(r,n):l.runInContext(()=>c(r,n))).pipe(os())})).pipe(eu())));return G(s).pipe(eu())}(n,i.path,t),function L9(n,e,t){const r=e.routeConfig?e.routeConfig.canActivate:null;if(!r||0===r.length)return G(!0);const i=r.map(s=>_f(()=>{const o=ic(e)??t,a=Xa(s,o);return ls(function S9(n){return n&&ac(n.canActivate)}(a)?a.canActivate(e,n):o.runInContext(()=>a(e,n))).pipe(os())}));return G(i).pipe(eu())}(n,i.route,t))),os(i=>!0!==i,!0))}(r,s,n,e):G(a)),Z(a=>({...t,guardsResult:a})))})}(this.ngModule.injector,a=>this.triggerEvent(a)),Pt(a=>{if(i.guardsResult=a.guardsResult,oo(a.guardsResult))throw EP(0,a.guardsResult);const u=new ZQ(a.id,this.serializeUrl(a.extractedUrl),this.serializeUrl(a.urlAfterRedirects),a.targetSnapshot,!!a.guardsResult);this.triggerEvent(u)}),En(a=>!!a.guardsResult||(this.restoreHistory(a),this.cancelNavigationTransition(a,"",3),!1)),hw(a=>{if(a.guards.canActivateChecks.length)return G(a).pipe(Pt(u=>{const l=new XQ(u.id,this.serializeUrl(u.extractedUrl),this.serializeUrl(u.urlAfterRedirects),u.targetSnapshot);this.triggerEvent(l)}),Rn(u=>{let l=!1;return G(u).pipe(function oY(n,e){return _t(t=>{const{targetSnapshot:r,guards:{canActivateChecks:i}}=t;if(!i.length)return G(t);let s=0;return dt(i).pipe(as(o=>function aY(n,e,t,r){const i=n.routeConfig,s=n._resolve;return void 0!==i?.title&&!BP(i)&&(s[Yl]=i.title),function uY(n,e,t,r){const i=function lY(n){return[...Object.keys(n),...Object.getOwnPropertySymbols(n)]}(n);if(0===i.length)return G({});const s={};return dt(i).pipe(_t(o=>function cY(n,e,t,r){const i=ic(e)??r,s=Xa(n,i);return ls(s.resolve?s.resolve(e,t):i.runInContext(()=>s(e,t)))}(n[o],e,t,r).pipe(os(),Pt(a=>{s[o]=a}))),Gv(1),K1(s),us(o=>lw(o)?fi:Ka(o)))}(s,n,e,r).pipe(Z(o=>(n._resolvedData=o,n.data=_P(n,t).resolve,i&&BP(i)&&(n.data[Yl]=i.title),null)))}(o.route,r,n,e)),Pt(()=>s++),Gv(1),_t(o=>s===i.length?G(t):fi))})}(this.paramsInheritanceStrategy,this.ngModule.injector),Pt({next:()=>l=!0,complete:()=>{l||(this.restoreHistory(u),this.cancelNavigationTransition(u,"",2))}}))}),Pt(u=>{const l=new e9(u.id,this.serializeUrl(u.extractedUrl),this.serializeUrl(u.urlAfterRedirects),u.targetSnapshot);this.triggerEvent(l)}))}),hw(a=>{const u=l=>{const c=[];l.routeConfig?.loadComponent&&!l.routeConfig._loadedComponent&&c.push(this.configLoader.loadComponent(l.routeConfig).pipe(Pt(d=>{l.component=d}),Z(()=>{})));for(const d of l.children)c.push(...u(d));return c};return H1(u(a.targetSnapshot.root)).pipe(vf(),rr(1))}),hw(()=>this.afterPreactivation()),Z(a=>{const u=function c9(n,e,t){const r=nc(n,e._root,t?t._root:void 0);return new mP(r,e)}(this.routeReuseStrategy,a.targetSnapshot,a.currentRouterState);return i={...a,targetRouterState:u}}),Pt(a=>{this.currentUrlTree=a.urlAfterRedirects,this.rawUrlTree=this.urlHandlingStrategy.merge(a.urlAfterRedirects,a.rawUrl),this.routerState=a.targetRouterState,"deferred"===this.urlUpdateStrategy&&(a.extras.skipLocationChange||this.setBrowserUrl(this.rawUrlTree,a),this.browserUrlTree=a.urlAfterRedirects)}),((n,e,t)=>Z(r=>(new w9(e,r.targetRouterState,r.currentRouterState,t).activate(n),r)))(this.rootContexts,this.routeReuseStrategy,a=>this.triggerEvent(a)),Pt({next(){s=!0},complete(){s=!0}}),wf(()=>{s||o||this.cancelNavigationTransition(i,"",1),this.currentNavigation?.id===i.id&&(this.currentNavigation=null)}),us(a=>{if(o=!0,TP(a)){bP(a)||(this.navigated=!0,this.restoreHistory(i,!0));const u=new Sf(i.id,this.serializeUrl(i.extractedUrl),a.message,a.cancellationCode);if(r.next(u),bP(a)){const l=this.urlHandlingStrategy.merge(a.url,this.rawUrlTree),c={skipLocationChange:i.extras.skipLocationChange,replaceUrl:"eager"===this.urlUpdateStrategy||qP(i.source)};this.scheduleNavigation(l,"imperative",null,c,{resolve:i.resolve,reject:i.reject,promise:i.promise})}else i.resolve(!1)}else{this.restoreHistory(i,!0);const u=new fP(i.id,this.serializeUrl(i.extractedUrl),a,i.targetSnapshot??void 0);r.next(u);try{i.resolve(this.errorHandler(a))}catch(l){i.reject(l)}}return fi}))}))}resetRootComponentType(t){this.rootComponentType=t,this.routerState.root.component=this.rootComponentType}setTransition(t){this.transitions.next({...this.transitions.value,...t})}initialNavigation(){this.setUpLocationChangeListener(),0===this.navigationId&&this.navigateByUrl(this.location.path(!0),{replaceUrl:!0})}setUpLocationChangeListener(){this.locationSubscription||(this.locationSubscription=this.location.subscribe(t=>{const r="popstate"===t.type?"popstate":"hashchange";"popstate"===r&&setTimeout(()=>{const i={replaceUrl:!0},s=t.state?.navigationId?t.state:null;if(s){const a={...s};delete a.navigationId,delete a.\u0275routerPageId,0!==Object.keys(a).length&&(i.state=a)}const o=this.parseUrl(t.url);this.scheduleNavigation(o,r,s,i)},0)}))}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.currentNavigation}triggerEvent(t){this.events.next(t)}resetConfig(t){this.config=t.map(uw),this.navigated=!1,this.lastSuccessfulId=-1}ngOnDestroy(){this.dispose()}dispose(){this.transitions.complete(),this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=void 0),this.disposed=!0}createUrlTree(t,r={}){const{relativeTo:i,queryParams:s,fragment:o,queryParamsHandling:a,preserveFragment:u}=r,l=i||this.routerState.root,c=u?this.currentUrlTree.fragment:o;let d=null;switch(a){case"merge":d={...this.currentUrlTree.queryParams,...s};break;case"preserve":d=this.currentUrlTree.queryParams;break;default:d=s||null}return null!==d&&(d=this.removeEmptyProps(d)),GQ(l,this.currentUrlTree,t,d,c??null)}navigateByUrl(t,r={skipLocationChange:!1}){const i=oo(t)?t:this.parseUrl(t),s=this.urlHandlingStrategy.merge(i,this.rawUrlTree);return this.scheduleNavigation(s,"imperative",null,r)}navigate(t,r={skipLocationChange:!1}){return function IY(n){for(let e=0;e<n.length;e++){if(null==n[e])throw new T(4008,false)}}(t),this.navigateByUrl(this.createUrlTree(t,r),r)}serializeUrl(t){return this.urlSerializer.serialize(t)}parseUrl(t){let r;try{r=this.urlSerializer.parse(t)}catch(i){r=this.malformedUriErrorHandler(i,this.urlSerializer,t)}return r}isActive(t,r){let i;if(i=!0===r?{...vY}:!1===r?{...wY}:r,oo(t))return X1(this.currentUrlTree,t,i);const s=this.parseUrl(t);return X1(this.currentUrlTree,s,i)}removeEmptyProps(t){return Object.keys(t).reduce((r,i)=>{const s=t[i];return null!=s&&(r[i]=s),r},{})}processNavigations(){this.navigations.subscribe(t=>{this.navigated=!0,this.lastSuccessfulId=t.id,this.currentPageId=t.targetPageId,this.events.next(new ao(t.id,this.serializeUrl(t.extractedUrl),this.serializeUrl(this.currentUrlTree))),this.lastSuccessfulNavigation=this.currentNavigation,this.titleStrategy?.updateTitle(this.routerState.snapshot),t.resolve(!0)},t=>{this.console.warn(`Unhandled Navigation Error: ${t}`)})}scheduleNavigation(t,r,i,s,o){if(this.disposed)return Promise.resolve(!1);let a,u,l;o?(a=o.resolve,u=o.reject,l=o.promise):l=new Promise((h,f)=>{a=h,u=f});const c=++this.navigationId;let d;return"computed"===this.canceledNavigationResolution?(0===this.currentPageId&&(i=this.location.getState()),d=i&&i.\u0275routerPageId?i.\u0275routerPageId:s.replaceUrl||s.skipLocationChange?this.browserPageId??0:(this.browserPageId??0)+1):d=0,this.setTransition({id:c,targetPageId:d,source:r,restoredState:i,currentUrlTree:this.currentUrlTree,currentRawUrl:this.rawUrlTree,rawUrl:t,extras:s,resolve:a,reject:u,promise:l,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),l.catch(h=>Promise.reject(h))}setBrowserUrl(t,r){const i=this.urlSerializer.serialize(t),s={...r.extras.state,...this.generateNgRouterState(r.id,r.targetPageId)};this.location.isCurrentPathEqualTo(i)||r.extras.replaceUrl?this.location.replaceState(i,"",s):this.location.go(i,"",s)}restoreHistory(t,r=!1){if("computed"===this.canceledNavigationResolution){const i=this.currentPageId-t.targetPageId;"popstate"!==t.source&&"eager"!==this.urlUpdateStrategy&&this.currentUrlTree!==this.currentNavigation?.finalUrl||0===i?this.currentUrlTree===this.currentNavigation?.finalUrl&&0===i&&(this.resetState(t),this.browserUrlTree=t.currentUrlTree,this.resetUrlToCurrentUrlTree()):this.location.historyGo(i)}else"replace"===this.canceledNavigationResolution&&(r&&this.resetState(t),this.resetUrlToCurrentUrlTree())}resetState(t){this.routerState=t.currentRouterState,this.currentUrlTree=t.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,t.rawUrl)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}cancelNavigationTransition(t,r,i){const s=new Sf(t.id,this.serializeUrl(t.extractedUrl),r,i);this.triggerEvent(s),t.resolve(!1)}generateNgRouterState(t,r){return"computed"===this.canceledNavigationResolution?{navigationId:t,\u0275routerPageId:r}:{navigationId:t}}}return n.\u0275fac=function(t){t_()},n.\u0275prov=U({token:n,factory:function(){return GP()},providedIn:"root"}),n})();function qP(n){return"imperative"!==n}class zP{}let CY=(()=>{class n{constructor(t,r,i,s,o){this.router=t,this.injector=i,this.preloadingStrategy=s,this.loader=o}setUpPreloading(){this.subscription=this.router.events.pipe(En(t=>t instanceof ao),as(()=>this.preload())).subscribe(()=>{})}preload(){return this.processRoutes(this.injector,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(t,r){const i=[];for(const s of r){s.providers&&!s._injector&&(s._injector=jh(s.providers,t,`Route: ${s.path}`));const o=s._injector??t,a=s._loadedInjector??o;s.loadChildren&&!s._loadedRoutes&&void 0===s.canLoad||s.loadComponent&&!s._loadedComponent?i.push(this.preloadConfig(o,s)):(s.children||s._loadedRoutes)&&i.push(this.processRoutes(a,s.children??s._loadedRoutes))}return dt(i).pipe(na())}preloadConfig(t,r){return this.preloadingStrategy.preload(r,()=>{let i;i=r.loadChildren&&void 0===r.canLoad?this.loader.loadChildren(t,r):G(null);const s=i.pipe(_t(o=>null===o?G(void 0):(r._loadedRoutes=o.routes,r._loadedInjector=o.injector,this.processRoutes(o.injector??t,o.routes))));return r.loadComponent&&!r._loadedComponent?dt([s,this.loader.loadComponent(r)]).pipe(na()):s})}}return n.\u0275fac=function(t){return new(t||n)(M(Dt),M(rv),M(es),M(zP),M(pw))},n.\u0275prov=U({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const yw=new $("");let WP=(()=>{class n{constructor(t,r,i={}){this.router=t,this.viewportScroller=r,this.options=i,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},i.scrollPositionRestoration=i.scrollPositionRestoration||"disabled",i.anchorScrolling=i.anchorScrolling||"disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.router.events.subscribe(t=>{t instanceof Zv?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=t.navigationTrigger,this.restoredId=t.restoredState?t.restoredState.navigationId:0):t instanceof ao&&(this.lastId=t.id,this.scheduleScrollEvent(t,this.router.parseUrl(t.urlAfterRedirects).fragment))})}consumeScrollEvents(){return this.router.events.subscribe(t=>{t instanceof pP&&(t.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(t.position):t.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(t.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(t,r){this.router.triggerEvent(new pP(t,"popstate"===this.lastSource?this.store[this.restoredId]:null,r))}ngOnDestroy(){this.routerEventsSubscription&&this.routerEventsSubscription.unsubscribe(),this.scrollEventsSubscription&&this.scrollEventsSubscription.unsubscribe()}}return n.\u0275fac=function(t){t_()},n.\u0275prov=U({token:n,factory:n.\u0275fac}),n})();function tu(n,e){return{\u0275kind:n,\u0275providers:e}}function _w(n){return[{provide:fw,multi:!0,useValue:n}]}function QP(){const n=tt(Rt);return e=>{const t=n.get(is);if(e!==t.components[0])return;const r=n.get(Dt),i=n.get(YP);1===n.get(vw)&&r.initialNavigation(),n.get(JP,null,K.Optional)?.setUpPreloading(),n.get(yw,null,K.Optional)?.init(),r.resetRootComponentType(t.componentTypes[0]),i.next(),i.complete()}}const YP=new $("",{factory:()=>new Xe}),vw=new $("",{providedIn:"root",factory:()=>1});const JP=new $("");function MY(n){return tu(0,[{provide:JP,useExisting:CY},{provide:zP,useExisting:n}])}const ZP=new $("ROUTER_FORROOT_GUARD"),xY=[_v,{provide:rP,useClass:zv},{provide:Dt,useFactory:GP},rc,{provide:cs,useFactory:function KP(n){return n.routerState.root},deps:[Dt]},pw];function NY(){return new bR("Router",Dt)}let XP=(()=>{class n{constructor(t){}static forRoot(t,r){return{ngModule:n,providers:[xY,[],_w(t),{provide:ZP,useFactory:OY,deps:[[Dt,new yn,new pl]]},{provide:Lf,useValue:r||{}},r?.useHash?{provide:ro,useClass:K6}:{provide:ro,useClass:KR},{provide:yw,useFactory:()=>{const n=tt(Dt),e=tt(h7),t=tt(Lf);return t.scrollOffset&&e.setOffset(t.scrollOffset),new WP(n,e,t)}},r?.preloadingStrategy?MY(r.preloadingStrategy).\u0275providers:[],{provide:bR,multi:!0,useFactory:NY},r?.initialNavigation?FY(r):[],[{provide:eO,useFactory:QP},{provide:gR,multi:!0,useExisting:eO}]]}}static forChild(t){return{ngModule:n,providers:[_w(t)]}}}return n.\u0275fac=function(t){return new(t||n)(M(ZP,8))},n.\u0275mod=Nt({type:n}),n.\u0275inj=vt({imports:[ow]}),n})();function OY(n){return"guarded"}function FY(n){return["disabled"===n.initialNavigation?tu(3,[{provide:Bl,multi:!0,useFactory:()=>{const e=tt(Dt);return()=>{e.setUpLocationChangeListener()}}},{provide:vw,useValue:2}]).\u0275providers:[],"enabledBlocking"===n.initialNavigation?tu(2,[{provide:vw,useValue:0},{provide:Bl,multi:!0,deps:[Rt],useFactory:e=>{const t=e.get(z6,Promise.resolve());let r=!1;return()=>t.then(()=>new Promise(s=>{const o=e.get(Dt),a=e.get(YP);(function i(s){e.get(Dt).events.pipe(En(a=>a instanceof ao||a instanceof Sf||a instanceof fP),Z(a=>a instanceof ao||a instanceof Sf&&(0===a.code||1===a.code)&&null),En(a=>null!==a),rr(1)).subscribe(()=>{s()})})(()=>{s(!0),r=!0}),o.afterPreactivation=()=>(s(!0),r||a.closed?G(void 0):a),o.initialNavigation()}))}}]).\u0275providers:[]]}const eO=new $("");let VY=(()=>{class n{constructor(){this.title="Reservas-pwa"}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=qn({type:n,selectors:[["app-root"]],decls:1,vars:0,template:function(t,r){1&t&&It(0,"router-outlet")},dependencies:[sw]}),n})();const UY=["addListener","removeListener"],BY=["addEventListener","removeEventListener"],$Y=["on","off"];function $f(n,e,t,r){if(me(t)&&(r=t,t=void 0),r)return $f(n,e,t).pipe($v(r));const[i,s]=function GY(n){return me(n.addEventListener)&&me(n.removeEventListener)}(n)?BY.map(o=>a=>n[o](e,a,t)):function jY(n){return me(n.addListener)&&me(n.removeListener)}(n)?UY.map(tO(n,e)):function HY(n){return me(n.on)&&me(n.off)}(n)?$Y.map(tO(n,e)):[];if(!i&&Cm(n))return _t(o=>$f(o,e,t))(jn(n));if(!i)throw new TypeError("Invalid event target");return new Ae(o=>{const a=(...u)=>o.next(1<u.length?u:u[0]);return i(a),()=>s(a)})}function tO(n,e){return t=>r=>n[t](e,r)}const ds=new Ae(Ud),zY={connector:()=>new Xe};function nO(n,e=zY){const{connector:t}=e;return lt((r,i)=>{const s=t();jn(n(function qY(n){return new Ae(e=>n.subscribe(e))}(s))).subscribe(i),i.add(r.subscribe(s))})}class QY extends $n{constructor(e,t){super()}schedule(e,t=0){return this}}const jf={setInterval(n,e,...t){const{delegate:r}=jf;return r?.setInterval?r.setInterval(n,e,...t):setInterval(n,e,...t)},clearInterval(n){const{delegate:e}=jf;return(e?.clearInterval||clearInterval)(n)},delegate:void 0};class rO extends QY{constructor(e,t){super(e,t),this.scheduler=e,this.work=t,this.pending=!1}schedule(e,t=0){if(this.closed)return this;this.state=e;const r=this.id,i=this.scheduler;return null!=r&&(this.id=this.recycleAsyncId(i,r,t)),this.pending=!0,this.delay=t,this.id=this.id||this.requestAsyncId(i,this.id,t),this}requestAsyncId(e,t,r=0){return jf.setInterval(e.flush.bind(e,this),r)}recycleAsyncId(e,t,r=0){if(null!=r&&this.delay===r&&!1===this.pending)return t;jf.clearInterval(t)}execute(e,t){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const r=this._execute(e,t);if(r)return r;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(e,t){let i,r=!1;try{this.work(e)}catch(s){r=!0,i=s||new Error("Scheduled action threw falsy error")}if(r)return this.unsubscribe(),i}unsubscribe(){if(!this.closed){const{id:e,scheduler:t}=this,{actions:r}=t;this.work=this.state=this.scheduler=null,this.pending=!1,ta(r,this),null!=e&&(this.id=this.recycleAsyncId(t,e,null)),this.delay=null,super.unsubscribe()}}}const iO={now:()=>(iO.delegate||Date).now(),delegate:void 0};class lc{constructor(e,t=lc.now){this.schedulerActionCtor=e,this.now=t}schedule(e,t=0,r){return new this.schedulerActionCtor(this,e).schedule(r,t)}}lc.now=iO.now;class sO extends lc{constructor(e,t=lc.now){super(e,t),this.actions=[],this._active=!1,this._scheduled=void 0}flush(e){const{actions:t}=this;if(this._active)return void t.push(e);let r;this._active=!0;do{if(r=e.execute(e.state,e.delay))break}while(e=t.shift());if(this._active=!1,r){for(;e=t.shift();)e.unsubscribe();throw r}}}const ww=new sO(rO),YY=ww;function oO(n,e){return e?t=>Ql(e.pipe(rr(1),function JY(){return lt((n,e)=>{n.subscribe(ct(e,Ud))})}()),t.pipe(oO(n))):_t((t,r)=>n(t,r).pipe(rr(1),K1(t)))}const cc="Service workers are disabled or not supported by this browser";class Hf{constructor(e){if(this.serviceWorker=e,e){const r=$f(e,"controllerchange").pipe(Z(()=>e.controller)),s=Ql(_f(()=>G(e.controller)),r);this.worker=s.pipe(En(c=>!!c)),this.registration=this.worker.pipe(Rn(()=>e.getRegistration()));const l=$f(e,"message").pipe(Z(c=>c.data)).pipe(En(c=>c&&c.type)).pipe(function KY(n){return n?e=>nO(n)(e):e=>function WY(n,e){const t=me(n)?n:()=>n;return me(e)?nO(e,{connector:t}):r=>new Hv(r,t)}(new Xe)(e)}());l.connect(),this.events=l}else this.worker=this.events=this.registration=function tJ(n){return _f(()=>Ka(new Error(n)))}(cc)}postMessage(e,t){return this.worker.pipe(rr(1),Pt(r=>{r.postMessage({action:e,...t})})).toPromise().then(()=>{})}postMessageWithOperation(e,t,r){const i=this.waitForOperationCompleted(r),s=this.postMessage(e,t);return Promise.all([s,i]).then(([,o])=>o)}generateNonce(){return Math.round(1e7*Math.random())}eventsOfType(e){let t;return t="string"==typeof e?r=>r.type===e:r=>e.includes(r.type),this.events.pipe(En(t))}nextEventOfType(e){return this.eventsOfType(e).pipe(rr(1))}waitForOperationCompleted(e){return this.eventsOfType("OPERATION_COMPLETED").pipe(En(t=>t.nonce===e),rr(1),Z(t=>{if(void 0!==t.result)return t.result;throw new Error(t.error)})).toPromise()}get isEnabled(){return!!this.serviceWorker}}let nJ=(()=>{class n{constructor(t){if(this.sw=t,this.subscriptionChanges=new Xe,!t.isEnabled)return this.messages=ds,this.notificationClicks=ds,void(this.subscription=ds);this.messages=this.sw.eventsOfType("PUSH").pipe(Z(i=>i.data)),this.notificationClicks=this.sw.eventsOfType("NOTIFICATION_CLICK").pipe(Z(i=>i.data)),this.pushManager=this.sw.registration.pipe(Z(i=>i.pushManager));const r=this.pushManager.pipe(Rn(i=>i.getSubscription()));this.subscription=Sm(r,this.subscriptionChanges)}get isEnabled(){return this.sw.isEnabled}requestSubscription(t){if(!this.sw.isEnabled)return Promise.reject(new Error(cc));const r={userVisibleOnly:!0};let i=this.decodeBase64(t.serverPublicKey.replace(/_/g,"/").replace(/-/g,"+")),s=new Uint8Array(new ArrayBuffer(i.length));for(let o=0;o<i.length;o++)s[o]=i.charCodeAt(o);return r.applicationServerKey=s,this.pushManager.pipe(Rn(o=>o.subscribe(r)),rr(1)).toPromise().then(o=>(this.subscriptionChanges.next(o),o))}unsubscribe(){return this.sw.isEnabled?this.subscription.pipe(rr(1),Rn(r=>{if(null===r)throw new Error("Not subscribed to push notifications.");return r.unsubscribe().then(i=>{if(!i)throw new Error("Unsubscribe failed!");this.subscriptionChanges.next(null)})})).toPromise():Promise.reject(new Error(cc))}decodeBase64(t){return atob(t)}}return n.\u0275fac=function(t){return new(t||n)(M(Hf))},n.\u0275prov=U({token:n,factory:n.\u0275fac}),n})(),rJ=(()=>{class n{constructor(t){if(this.sw=t,!t.isEnabled)return this.versionUpdates=ds,this.available=ds,this.activated=ds,void(this.unrecoverable=ds);this.versionUpdates=this.sw.eventsOfType(["VERSION_DETECTED","VERSION_INSTALLATION_FAILED","VERSION_READY","NO_NEW_VERSION_DETECTED"]),this.available=this.versionUpdates.pipe(En(r=>"VERSION_READY"===r.type),Z(r=>({type:"UPDATE_AVAILABLE",current:r.currentVersion,available:r.latestVersion}))),this.activated=this.sw.eventsOfType("UPDATE_ACTIVATED"),this.unrecoverable=this.sw.eventsOfType("UNRECOVERABLE_STATE")}get isEnabled(){return this.sw.isEnabled}checkForUpdate(){if(!this.sw.isEnabled)return Promise.reject(new Error(cc));const t=this.sw.generateNonce();return this.sw.postMessageWithOperation("CHECK_FOR_UPDATES",{nonce:t},t)}activateUpdate(){if(!this.sw.isEnabled)return Promise.reject(new Error(cc));const t=this.sw.generateNonce();return this.sw.postMessageWithOperation("ACTIVATE_UPDATE",{nonce:t},t)}}return n.\u0275fac=function(t){return new(t||n)(M(Hf))},n.\u0275prov=U({token:n,factory:n.\u0275fac}),n})();class Ew{}const aO=new $("NGSW_REGISTER_SCRIPT");function iJ(n,e,t,r){return()=>{if(!p1(r)||!("serviceWorker"in navigator)||!1===t.enabled)return;let i;if(navigator.serviceWorker.addEventListener("controllerchange",()=>{null!==navigator.serviceWorker.controller&&navigator.serviceWorker.controller.postMessage({action:"INITIALIZE"})}),"function"==typeof t.registrationStrategy)i=t.registrationStrategy();else{const[o,...a]=(t.registrationStrategy||"registerWhenStable:30000").split(":");switch(o){case"registerImmediately":i=G(null);break;case"registerWithDelay":i=uO(+a[0]||0);break;case"registerWhenStable":i=a[0]?Sm(lO(n),uO(+a[0])):lO(n);break;default:throw new Error(`Unknown ServiceWorker registration strategy: ${t.registrationStrategy}`)}}n.get(Pe).runOutsideAngular(()=>i.pipe(rr(1)).subscribe(()=>navigator.serviceWorker.register(e,{scope:t.scope}).catch(o=>console.error("Service worker registration failed with:",o))))}}function uO(n){return G(null).pipe(function eJ(n,e=ww){const t=function XY(n=0,e,t=YY){let r=-1;return null!=e&&(tA(e)?t=e:r=e),new Ae(i=>{let s=function ZY(n){return n instanceof Date&&!isNaN(n)}(n)?+n-t.now():n;s<0&&(s=0);let o=0;return t.schedule(function(){i.closed||(i.next(o++),0<=r?this.schedule(void 0,r):i.complete())},s)})}(n,e);return oO(()=>t)}(n))}function lO(n){return n.get(is).isStable.pipe(En(t=>t))}function sJ(n,e){return new Hf(p1(e)&&!1!==n.enabled?navigator.serviceWorker:void 0)}let oJ=(()=>{class n{static register(t,r={}){return{ngModule:n,providers:[{provide:aO,useValue:t},{provide:Ew,useValue:r},{provide:Hf,useFactory:sJ,deps:[Ew,to]},{provide:Bl,useFactory:iJ,deps:[Rt,aO,Ew,to],multi:!0}]}}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=Nt({type:n}),n.\u0275inj=vt({providers:[nJ,rJ]}),n})();const Iw_firebase={projectId:"reservas-pwa",appId:"1:630243695084:web:dc1d7795c3b356340d88c9",storageBucket:"reservas-pwa.appspot.com",locationId:"us-central",apiKey:"AIzaSyCMcxBXQ_CZiGZnLRPfexGFwksOB_-sqtQ",authDomain:"reservas-pwa.firebaseapp.com",messagingSenderId:"630243695084"};let cO=(()=>{class n{constructor(t,r){this._renderer=t,this._elementRef=r,this.onChange=i=>{},this.onTouched=()=>{}}setProperty(t,r){this._renderer.setProperty(this._elementRef.nativeElement,t,r)}registerOnTouched(t){this.onTouched=t}registerOnChange(t){this.onChange=t}setDisabledState(t){this.setProperty("disabled",t)}}return n.\u0275fac=function(t){return new(t||n)(b(vi),b(Zn))},n.\u0275dir=ee({type:n}),n})(),uo=(()=>{class n extends cO{}return n.\u0275fac=function(){let e;return function(r){return(e||(e=nn(n)))(r||n)}}(),n.\u0275dir=ee({type:n,features:[Se]}),n})();const ei=new $("NgValueAccessor"),lJ={provide:ei,useExisting:Oe(()=>Gf),multi:!0},dJ=new $("CompositionEventMode");let Gf=(()=>{class n extends cO{constructor(t,r,i){super(t,r),this._compositionMode=i,this._composing=!1,null==this._compositionMode&&(this._compositionMode=!function cJ(){const n=Zr()?Zr().getUserAgent():"";return/android (\d+)/.test(n.toLowerCase())}())}writeValue(t){this.setProperty("value",t??"")}_handleInput(t){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(t)}_compositionStart(){this._composing=!0}_compositionEnd(t){this._composing=!1,this._compositionMode&&this.onChange(t)}}return n.\u0275fac=function(t){return new(t||n)(b(vi),b(Zn),b(dJ,8))},n.\u0275dir=ee({type:n,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(t,r){1&t&&bt("input",function(s){return r._handleInput(s.target.value)})("blur",function(){return r.onTouched()})("compositionstart",function(){return r._compositionStart()})("compositionend",function(s){return r._compositionEnd(s.target.value)})},features:[Be([lJ]),Se]}),n})();function hs(n){return null==n||("string"==typeof n||Array.isArray(n))&&0===n.length}function hO(n){return null!=n&&"number"==typeof n.length}const an=new $("NgValidators"),fs=new $("NgAsyncValidators"),fJ=/^(?=.{1,254}$)(?=.{1,64}@)[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+)*@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/;class bw{static min(e){return function fO(n){return e=>{if(hs(e.value)||hs(n))return null;const t=parseFloat(e.value);return!isNaN(t)&&t<n?{min:{min:n,actual:e.value}}:null}}(e)}static max(e){return function pO(n){return e=>{if(hs(e.value)||hs(n))return null;const t=parseFloat(e.value);return!isNaN(t)&&t>n?{max:{max:n,actual:e.value}}:null}}(e)}static required(e){return function gO(n){return hs(n.value)?{required:!0}:null}(e)}static requiredTrue(e){return function mO(n){return!0===n.value?null:{required:!0}}(e)}static email(e){return function yO(n){return hs(n.value)||fJ.test(n.value)?null:{email:!0}}(e)}static minLength(e){return function _O(n){return e=>hs(e.value)||!hO(e.value)?null:e.value.length<n?{minlength:{requiredLength:n,actualLength:e.value.length}}:null}(e)}static maxLength(e){return function vO(n){return e=>hO(e.value)&&e.value.length>n?{maxlength:{requiredLength:n,actualLength:e.value.length}}:null}(e)}static pattern(e){return function wO(n){if(!n)return qf;let e,t;return"string"==typeof n?(t="","^"!==n.charAt(0)&&(t+="^"),t+=n,"$"!==n.charAt(n.length-1)&&(t+="$"),e=new RegExp(t)):(t=n.toString(),e=n),r=>{if(hs(r.value))return null;const i=r.value;return e.test(i)?null:{pattern:{requiredPattern:t,actualValue:i}}}}(e)}static nullValidator(e){return null}static compose(e){return DO(e)}static composeAsync(e){return SO(e)}}function qf(n){return null}function EO(n){return null!=n}function IO(n){return Nl(n)?dt(n):n}function bO(n){let e={};return n.forEach(t=>{e=null!=t?{...e,...t}:e}),0===Object.keys(e).length?null:e}function TO(n,e){return e.map(t=>t(n))}function CO(n){return n.map(e=>function pJ(n){return!n.validate}(e)?e:t=>e.validate(t))}function DO(n){if(!n)return null;const e=n.filter(EO);return 0==e.length?null:function(t){return bO(TO(t,e))}}function Tw(n){return null!=n?DO(CO(n)):null}function SO(n){if(!n)return null;const e=n.filter(EO);return 0==e.length?null:function(t){return function aJ(...n){const e=nA(n),{args:t,keys:r}=$1(n),i=new Ae(s=>{const{length:o}=t;if(!o)return void s.complete();const a=new Array(o);let u=o,l=o;for(let c=0;c<o;c++){let d=!1;jn(t[c]).subscribe(ct(s,h=>{d||(d=!0,l--),a[c]=h},()=>u--,void 0,()=>{(!u||!d)&&(l||s.next(r?j1(r,a):a),s.complete())}))}});return e?i.pipe($v(e)):i}(TO(t,e).map(IO)).pipe(Z(bO))}}function Cw(n){return null!=n?SO(CO(n)):null}function AO(n,e){return null===n?[e]:Array.isArray(n)?[...n,e]:[n,e]}function MO(n){return n._rawValidators}function xO(n){return n._rawAsyncValidators}function Dw(n){return n?Array.isArray(n)?n:[n]:[]}function zf(n,e){return Array.isArray(n)?n.includes(e):n===e}function NO(n,e){const t=Dw(e);return Dw(n).forEach(i=>{zf(t,i)||t.push(i)}),t}function kO(n,e){return Dw(e).filter(t=>!zf(n,t))}class RO{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(e){this._rawValidators=e||[],this._composedValidatorFn=Tw(this._rawValidators)}_setAsyncValidators(e){this._rawAsyncValidators=e||[],this._composedAsyncValidatorFn=Cw(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(e){this._onDestroyCallbacks.push(e)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(e=>e()),this._onDestroyCallbacks=[]}reset(e){this.control&&this.control.reset(e)}hasError(e,t){return!!this.control&&this.control.hasError(e,t)}getError(e,t){return this.control?this.control.getError(e,t):null}}class In extends RO{get formDirective(){return null}get path(){return null}}class ps extends RO{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}}class PO{constructor(e){this._cd=e}get isTouched(){return!!this._cd?.control?.touched}get isUntouched(){return!!this._cd?.control?.untouched}get isPristine(){return!!this._cd?.control?.pristine}get isDirty(){return!!this._cd?.control?.dirty}get isValid(){return!!this._cd?.control?.valid}get isInvalid(){return!!this._cd?.control?.invalid}get isPending(){return!!this._cd?.control?.pending}get isSubmitted(){return!!this._cd?.submitted}}let OO=(()=>{class n extends PO{constructor(t){super(t)}}return n.\u0275fac=function(t){return new(t||n)(b(ps,2))},n.\u0275dir=ee({type:n,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(t,r){2&t&&Fh("ng-untouched",r.isUntouched)("ng-touched",r.isTouched)("ng-pristine",r.isPristine)("ng-dirty",r.isDirty)("ng-valid",r.isValid)("ng-invalid",r.isInvalid)("ng-pending",r.isPending)},features:[Se]}),n})(),FO=(()=>{class n extends PO{constructor(t){super(t)}}return n.\u0275fac=function(t){return new(t||n)(b(In,10))},n.\u0275dir=ee({type:n,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(t,r){2&t&&Fh("ng-untouched",r.isUntouched)("ng-touched",r.isTouched)("ng-pristine",r.isPristine)("ng-dirty",r.isDirty)("ng-valid",r.isValid)("ng-invalid",r.isInvalid)("ng-pending",r.isPending)("ng-submitted",r.isSubmitted)},features:[Se]}),n})();const dc="VALID",Kf="INVALID",nu="PENDING",hc="DISABLED";function xw(n){return(Qf(n)?n.validators:n)||null}function VO(n){return Array.isArray(n)?Tw(n):n||null}function Nw(n,e){return(Qf(e)?e.asyncValidators:n)||null}function UO(n){return Array.isArray(n)?Cw(n):n||null}function Qf(n){return null!=n&&!Array.isArray(n)&&"object"==typeof n}function BO(n,e,t){const r=n.controls;if(!(e?Object.keys(r):r).length)throw new T(1e3,"");if(!r[t])throw new T(1001,"")}function $O(n,e,t){n._forEachChild((r,i)=>{if(void 0===t[i])throw new T(1002,"")})}class Yf{constructor(e,t){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=!1,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._rawValidators=e,this._rawAsyncValidators=t,this._composedValidatorFn=VO(this._rawValidators),this._composedAsyncValidatorFn=UO(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn}set validator(e){this._rawValidators=this._composedValidatorFn=e}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(e){this._rawAsyncValidators=this._composedAsyncValidatorFn=e}get parent(){return this._parent}get valid(){return this.status===dc}get invalid(){return this.status===Kf}get pending(){return this.status==nu}get disabled(){return this.status===hc}get enabled(){return this.status!==hc}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(e){this._rawValidators=e,this._composedValidatorFn=VO(e)}setAsyncValidators(e){this._rawAsyncValidators=e,this._composedAsyncValidatorFn=UO(e)}addValidators(e){this.setValidators(NO(e,this._rawValidators))}addAsyncValidators(e){this.setAsyncValidators(NO(e,this._rawAsyncValidators))}removeValidators(e){this.setValidators(kO(e,this._rawValidators))}removeAsyncValidators(e){this.setAsyncValidators(kO(e,this._rawAsyncValidators))}hasValidator(e){return zf(this._rawValidators,e)}hasAsyncValidator(e){return zf(this._rawAsyncValidators,e)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(e={}){this.touched=!0,this._parent&&!e.onlySelf&&this._parent.markAsTouched(e)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(e=>e.markAllAsTouched())}markAsUntouched(e={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(t=>{t.markAsUntouched({onlySelf:!0})}),this._parent&&!e.onlySelf&&this._parent._updateTouched(e)}markAsDirty(e={}){this.pristine=!1,this._parent&&!e.onlySelf&&this._parent.markAsDirty(e)}markAsPristine(e={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(t=>{t.markAsPristine({onlySelf:!0})}),this._parent&&!e.onlySelf&&this._parent._updatePristine(e)}markAsPending(e={}){this.status=nu,!1!==e.emitEvent&&this.statusChanges.emit(this.status),this._parent&&!e.onlySelf&&this._parent.markAsPending(e)}disable(e={}){const t=this._parentMarkedDirty(e.onlySelf);this.status=hc,this.errors=null,this._forEachChild(r=>{r.disable({...e,onlySelf:!0})}),this._updateValue(),!1!==e.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors({...e,skipPristineCheck:t}),this._onDisabledChange.forEach(r=>r(!0))}enable(e={}){const t=this._parentMarkedDirty(e.onlySelf);this.status=dc,this._forEachChild(r=>{r.enable({...e,onlySelf:!0})}),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent}),this._updateAncestors({...e,skipPristineCheck:t}),this._onDisabledChange.forEach(r=>r(!1))}_updateAncestors(e){this._parent&&!e.onlySelf&&(this._parent.updateValueAndValidity(e),e.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(e){this._parent=e}getRawValue(){return this.value}updateValueAndValidity(e={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===dc||this.status===nu)&&this._runAsyncValidator(e.emitEvent)),!1!==e.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!e.onlySelf&&this._parent.updateValueAndValidity(e)}_updateTreeValidity(e={emitEvent:!0}){this._forEachChild(t=>t._updateTreeValidity(e)),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?hc:dc}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(e){if(this.asyncValidator){this.status=nu,this._hasOwnPendingAsyncValidator=!0;const t=IO(this.asyncValidator(this));this._asyncValidationSubscription=t.subscribe(r=>{this._hasOwnPendingAsyncValidator=!1,this.setErrors(r,{emitEvent:e})})}}_cancelExistingSubscription(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}setErrors(e,t={}){this.errors=e,this._updateControlsErrors(!1!==t.emitEvent)}get(e){let t=e;return null==t||(Array.isArray(t)||(t=t.split(".")),0===t.length)?null:t.reduce((r,i)=>r&&r._find(i),this)}getError(e,t){const r=t?this.get(t):this;return r&&r.errors?r.errors[e]:null}hasError(e,t){return!!this.getError(e,t)}get root(){let e=this;for(;e._parent;)e=e._parent;return e}_updateControlsErrors(e){this.status=this._calculateStatus(),e&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(e)}_initObservables(){this.valueChanges=new Ye,this.statusChanges=new Ye}_calculateStatus(){return this._allControlsDisabled()?hc:this.errors?Kf:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(nu)?nu:this._anyControlsHaveStatus(Kf)?Kf:dc}_anyControlsHaveStatus(e){return this._anyControls(t=>t.status===e)}_anyControlsDirty(){return this._anyControls(e=>e.dirty)}_anyControlsTouched(){return this._anyControls(e=>e.touched)}_updatePristine(e={}){this.pristine=!this._anyControlsDirty(),this._parent&&!e.onlySelf&&this._parent._updatePristine(e)}_updateTouched(e={}){this.touched=this._anyControlsTouched(),this._parent&&!e.onlySelf&&this._parent._updateTouched(e)}_registerOnCollectionChange(e){this._onCollectionChange=e}_setUpdateStrategy(e){Qf(e)&&null!=e.updateOn&&(this._updateOn=e.updateOn)}_parentMarkedDirty(e){return!e&&!(!this._parent||!this._parent.dirty)&&!this._parent._anyControlsDirty()}_find(e){return null}}class fc extends Yf{constructor(e,t,r){super(xw(t),Nw(r,t)),this.controls=e,this._initObservables(),this._setUpdateStrategy(t),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}registerControl(e,t){return this.controls[e]?this.controls[e]:(this.controls[e]=t,t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange),t)}addControl(e,t,r={}){this.registerControl(e,t),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}removeControl(e,t={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],this.updateValueAndValidity({emitEvent:t.emitEvent}),this._onCollectionChange()}setControl(e,t,r={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],t&&this.registerControl(e,t),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}contains(e){return this.controls.hasOwnProperty(e)&&this.controls[e].enabled}setValue(e,t={}){$O(this,0,e),Object.keys(e).forEach(r=>{BO(this,!0,r),this.controls[r].setValue(e[r],{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t)}patchValue(e,t={}){null!=e&&(Object.keys(e).forEach(r=>{const i=this.controls[r];i&&i.patchValue(e[r],{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t))}reset(e={},t={}){this._forEachChild((r,i)=>{r.reset(e[i],{onlySelf:!0,emitEvent:t.emitEvent})}),this._updatePristine(t),this._updateTouched(t),this.updateValueAndValidity(t)}getRawValue(){return this._reduceChildren({},(e,t,r)=>(e[r]=t.getRawValue(),e))}_syncPendingControls(){let e=this._reduceChildren(!1,(t,r)=>!!r._syncPendingControls()||t);return e&&this.updateValueAndValidity({onlySelf:!0}),e}_forEachChild(e){Object.keys(this.controls).forEach(t=>{const r=this.controls[t];r&&e(r,t)})}_setUpControls(){this._forEachChild(e=>{e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(e){for(const[t,r]of Object.entries(this.controls))if(this.contains(t)&&e(r))return!0;return!1}_reduceValue(){return this._reduceChildren({},(t,r,i)=>((r.enabled||this.disabled)&&(t[i]=r.value),t))}_reduceChildren(e,t){let r=e;return this._forEachChild((i,s)=>{r=t(r,i,s)}),r}_allControlsDisabled(){for(const e of Object.keys(this.controls))if(this.controls[e].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_find(e){return this.controls.hasOwnProperty(e)?this.controls[e]:null}}class jO extends fc{}function pc(n,e){kw(n,e),e.valueAccessor.writeValue(n.value),n.disabled&&e.valueAccessor.setDisabledState?.(!0),function IJ(n,e){e.valueAccessor.registerOnChange(t=>{n._pendingValue=t,n._pendingChange=!0,n._pendingDirty=!0,"change"===n.updateOn&&HO(n,e)})}(n,e),function TJ(n,e){const t=(r,i)=>{e.valueAccessor.writeValue(r),i&&e.viewToModelUpdate(r)};n.registerOnChange(t),e._registerOnDestroy(()=>{n._unregisterOnChange(t)})}(n,e),function bJ(n,e){e.valueAccessor.registerOnTouched(()=>{n._pendingTouched=!0,"blur"===n.updateOn&&n._pendingChange&&HO(n,e),"submit"!==n.updateOn&&n.markAsTouched()})}(n,e),function EJ(n,e){if(e.valueAccessor.setDisabledState){const t=r=>{e.valueAccessor.setDisabledState(r)};n.registerOnDisabledChange(t),e._registerOnDestroy(()=>{n._unregisterOnDisabledChange(t)})}}(n,e)}function Zf(n,e,t=!0){const r=()=>{};e.valueAccessor&&(e.valueAccessor.registerOnChange(r),e.valueAccessor.registerOnTouched(r)),ep(n,e),n&&(e._invokeOnDestroyCallbacks(),n._registerOnCollectionChange(()=>{}))}function Xf(n,e){n.forEach(t=>{t.registerOnValidatorChange&&t.registerOnValidatorChange(e)})}function kw(n,e){const t=MO(n);null!==e.validator?n.setValidators(AO(t,e.validator)):"function"==typeof t&&n.setValidators([t]);const r=xO(n);null!==e.asyncValidator?n.setAsyncValidators(AO(r,e.asyncValidator)):"function"==typeof r&&n.setAsyncValidators([r]);const i=()=>n.updateValueAndValidity();Xf(e._rawValidators,i),Xf(e._rawAsyncValidators,i)}function ep(n,e){let t=!1;if(null!==n){if(null!==e.validator){const i=MO(n);if(Array.isArray(i)&&i.length>0){const s=i.filter(o=>o!==e.validator);s.length!==i.length&&(t=!0,n.setValidators(s))}}if(null!==e.asyncValidator){const i=xO(n);if(Array.isArray(i)&&i.length>0){const s=i.filter(o=>o!==e.asyncValidator);s.length!==i.length&&(t=!0,n.setAsyncValidators(s))}}}const r=()=>{};return Xf(e._rawValidators,r),Xf(e._rawAsyncValidators,r),t}function HO(n,e){n._pendingDirty&&n.markAsDirty(),n.setValue(n._pendingValue,{emitModelToViewChange:!1}),e.viewToModelUpdate(n._pendingValue),n._pendingChange=!1}function WO(n,e){const t=n.indexOf(e);t>-1&&n.splice(t,1)}function KO(n){return"object"==typeof n&&null!==n&&2===Object.keys(n).length&&"value"in n&&"disabled"in n}const mc=class extends Yf{constructor(e=null,t,r){super(xw(t),Nw(r,t)),this.defaultValue=null,this._onChange=[],this._pendingChange=!1,this._applyFormState(e),this._setUpdateStrategy(t),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),Qf(t)&&(t.nonNullable||t.initialValueIsDefault)&&(this.defaultValue=KO(e)?e.value:e)}setValue(e,t={}){this.value=this._pendingValue=e,this._onChange.length&&!1!==t.emitModelToViewChange&&this._onChange.forEach(r=>r(this.value,!1!==t.emitViewToModelChange)),this.updateValueAndValidity(t)}patchValue(e,t={}){this.setValue(e,t)}reset(e=this.defaultValue,t={}){this._applyFormState(e),this.markAsPristine(t),this.markAsUntouched(t),this.setValue(this.value,t),this._pendingChange=!1}_updateValue(){}_anyControls(e){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(e){this._onChange.push(e)}_unregisterOnChange(e){WO(this._onChange,e)}registerOnDisabledChange(e){this._onDisabledChange.push(e)}_unregisterOnDisabledChange(e){WO(this._onDisabledChange,e)}_forEachChild(e){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}_applyFormState(e){KO(e)?(this.value=this._pendingValue=e.value,e.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=e}};let XO=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275dir=ee({type:n,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""]}),n})(),tF=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=Nt({type:n}),n.\u0275inj=vt({}),n})();const Fw=new $("NgModelWithFormControlWarning"),VJ={provide:In,useExisting:Oe(()=>tp)};let tp=(()=>{class n extends In{constructor(t,r){super(),this.validators=t,this.asyncValidators=r,this.submitted=!1,this._onCollectionChange=()=>this._updateDomValue(),this.directives=[],this.form=null,this.ngSubmit=new Ye,this._setValidators(t),this._setAsyncValidators(r)}ngOnChanges(t){this._checkFormPresent(),t.hasOwnProperty("form")&&(this._updateValidators(),this._updateDomValue(),this._updateRegistrations(),this._oldForm=this.form)}ngOnDestroy(){this.form&&(ep(this.form,this),this.form._onCollectionChange===this._onCollectionChange&&this.form._registerOnCollectionChange(()=>{}))}get formDirective(){return this}get control(){return this.form}get path(){return[]}addControl(t){const r=this.form.get(t.path);return pc(r,t),r.updateValueAndValidity({emitEvent:!1}),this.directives.push(t),r}getControl(t){return this.form.get(t.path)}removeControl(t){Zf(t.control||null,t,!1),function AJ(n,e){const t=n.indexOf(e);t>-1&&n.splice(t,1)}(this.directives,t)}addFormGroup(t){this._setUpFormContainer(t)}removeFormGroup(t){this._cleanUpFormContainer(t)}getFormGroup(t){return this.form.get(t.path)}addFormArray(t){this._setUpFormContainer(t)}removeFormArray(t){this._cleanUpFormContainer(t)}getFormArray(t){return this.form.get(t.path)}updateModel(t,r){this.form.get(t.path).setValue(r)}onSubmit(t){return this.submitted=!0,function zO(n,e){n._syncPendingControls(),e.forEach(t=>{const r=t.control;"submit"===r.updateOn&&r._pendingChange&&(t.viewToModelUpdate(r._pendingValue),r._pendingChange=!1)})}(this.form,this.directives),this.ngSubmit.emit(t),!1}onReset(){this.resetForm()}resetForm(t){this.form.reset(t),this.submitted=!1}_updateDomValue(){this.directives.forEach(t=>{const r=t.control,i=this.form.get(t.path);r!==i&&(Zf(r||null,t),(n=>n instanceof mc)(i)&&(pc(i,t),t.control=i))}),this.form._updateTreeValidity({emitEvent:!1})}_setUpFormContainer(t){const r=this.form.get(t.path);(function GO(n,e){kw(n,e)})(r,t),r.updateValueAndValidity({emitEvent:!1})}_cleanUpFormContainer(t){if(this.form){const r=this.form.get(t.path);r&&function CJ(n,e){return ep(n,e)}(r,t)&&r.updateValueAndValidity({emitEvent:!1})}}_updateRegistrations(){this.form._registerOnCollectionChange(this._onCollectionChange),this._oldForm&&this._oldForm._registerOnCollectionChange(()=>{})}_updateValidators(){kw(this.form,this),this._oldForm&&ep(this._oldForm,this)}_checkFormPresent(){}}return n.\u0275fac=function(t){return new(t||n)(b(an,10),b(fs,10))},n.\u0275dir=ee({type:n,selectors:[["","formGroup",""]],hostBindings:function(t,r){1&t&&bt("submit",function(s){return r.onSubmit(s)})("reset",function(){return r.onReset()})},inputs:{form:["formGroup","form"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[Be([VJ]),Se,pr]}),n})();const $J={provide:ps,useExisting:Oe(()=>Uw)};let Uw=(()=>{class n extends ps{constructor(t,r,i,s,o){super(),this._ngModelWarningConfig=o,this._added=!1,this.update=new Ye,this._ngModelWarningSent=!1,this._parent=t,this._setValidators(r),this._setAsyncValidators(i),this.valueAccessor=function Pw(n,e){if(!e)return null;let t,r,i;return Array.isArray(e),e.forEach(s=>{s.constructor===Gf?t=s:function SJ(n){return Object.getPrototypeOf(n.constructor)===uo}(s)?r=s:i=s}),i||r||t||null}(0,s)}set isDisabled(t){}ngOnChanges(t){this._added||this._setUpControl(),function Rw(n,e){if(!n.hasOwnProperty("model"))return!1;const t=n.model;return!!t.isFirstChange()||!Object.is(e,t.currentValue)}(t,this.viewModel)&&(this.viewModel=this.model,this.formDirective.updateModel(this,this.model))}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}viewToModelUpdate(t){this.viewModel=t,this.update.emit(t)}get path(){return function Jf(n,e){return[...e.path,n]}(null==this.name?this.name:this.name.toString(),this._parent)}get formDirective(){return this._parent?this._parent.formDirective:null}_checkParentType(){}_setUpControl(){this._checkParentType(),this.control=this.formDirective.addControl(this),this._added=!0}}return n._ngModelWarningSentOnce=!1,n.\u0275fac=function(t){return new(t||n)(b(In,13),b(an,10),b(fs,10),b(ei,10),b(Fw,8))},n.\u0275dir=ee({type:n,selectors:[["","formControlName",""]],inputs:{name:["formControlName","name"],isDisabled:["disabled","isDisabled"],model:["ngModel","model"]},outputs:{update:"ngModelChange"},features:[Be([$J]),Se,pr]}),n})();const jJ={provide:ei,useExisting:Oe(()=>np),multi:!0};function oF(n,e){return null==n?`${e}`:(e&&"object"==typeof e&&(e="Object"),`${n}: ${e}`.slice(0,50))}let np=(()=>{class n extends uo{constructor(){super(...arguments),this._optionMap=new Map,this._idCounter=0,this._compareWith=Object.is}set compareWith(t){this._compareWith=t}writeValue(t){this.value=t;const i=oF(this._getOptionId(t),t);this.setProperty("value",i)}registerOnChange(t){this.onChange=r=>{this.value=this._getOptionValue(r),t(this.value)}}_registerOption(){return(this._idCounter++).toString()}_getOptionId(t){for(const r of Array.from(this._optionMap.keys()))if(this._compareWith(this._optionMap.get(r),t))return r;return null}_getOptionValue(t){const r=function HJ(n){return n.split(":")[0]}(t);return this._optionMap.has(r)?this._optionMap.get(r):t}}return n.\u0275fac=function(){let e;return function(r){return(e||(e=nn(n)))(r||n)}}(),n.\u0275dir=ee({type:n,selectors:[["select","formControlName","",3,"multiple",""],["select","formControl","",3,"multiple",""],["select","ngModel","",3,"multiple",""]],hostBindings:function(t,r){1&t&&bt("change",function(s){return r.onChange(s.target.value)})("blur",function(){return r.onTouched()})},inputs:{compareWith:"compareWith"},features:[Be([jJ]),Se]}),n})(),aF=(()=>{class n{constructor(t,r,i){this._element=t,this._renderer=r,this._select=i,this._select&&(this.id=this._select._registerOption())}set ngValue(t){null!=this._select&&(this._select._optionMap.set(this.id,t),this._setElementValue(oF(this.id,t)),this._select.writeValue(this._select.value))}set value(t){this._setElementValue(t),this._select&&this._select.writeValue(this._select.value)}_setElementValue(t){this._renderer.setProperty(this._element.nativeElement,"value",t)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}}return n.\u0275fac=function(t){return new(t||n)(b(Zn),b(vi),b(np,9))},n.\u0275dir=ee({type:n,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"}}),n})();const GJ={provide:ei,useExisting:Oe(()=>Bw),multi:!0};function uF(n,e){return null==n?`${e}`:("string"==typeof e&&(e=`'${e}'`),e&&"object"==typeof e&&(e="Object"),`${n}: ${e}`.slice(0,50))}let Bw=(()=>{class n extends uo{constructor(){super(...arguments),this._optionMap=new Map,this._idCounter=0,this._compareWith=Object.is}set compareWith(t){this._compareWith=t}writeValue(t){let r;if(this.value=t,Array.isArray(t)){const i=t.map(s=>this._getOptionId(s));r=(s,o)=>{s._setSelected(i.indexOf(o.toString())>-1)}}else r=(i,s)=>{i._setSelected(!1)};this._optionMap.forEach(r)}registerOnChange(t){this.onChange=r=>{const i=[],s=r.selectedOptions;if(void 0!==s){const o=s;for(let a=0;a<o.length;a++){const l=this._getOptionValue(o[a].value);i.push(l)}}else{const o=r.options;for(let a=0;a<o.length;a++){const u=o[a];if(u.selected){const l=this._getOptionValue(u.value);i.push(l)}}}this.value=i,t(i)}}_registerOption(t){const r=(this._idCounter++).toString();return this._optionMap.set(r,t),r}_getOptionId(t){for(const r of Array.from(this._optionMap.keys()))if(this._compareWith(this._optionMap.get(r)._value,t))return r;return null}_getOptionValue(t){const r=function qJ(n){return n.split(":")[0]}(t);return this._optionMap.has(r)?this._optionMap.get(r)._value:t}}return n.\u0275fac=function(){let e;return function(r){return(e||(e=nn(n)))(r||n)}}(),n.\u0275dir=ee({type:n,selectors:[["select","multiple","","formControlName",""],["select","multiple","","formControl",""],["select","multiple","","ngModel",""]],hostBindings:function(t,r){1&t&&bt("change",function(s){return r.onChange(s.target)})("blur",function(){return r.onTouched()})},inputs:{compareWith:"compareWith"},features:[Be([GJ]),Se]}),n})(),lF=(()=>{class n{constructor(t,r,i){this._element=t,this._renderer=r,this._select=i,this._select&&(this.id=this._select._registerOption(this))}set ngValue(t){null!=this._select&&(this._value=t,this._setElementValue(uF(this.id,t)),this._select.writeValue(this._select.value))}set value(t){this._select?(this._value=t,this._setElementValue(uF(this.id,t)),this._select.writeValue(this._select.value)):this._setElementValue(t)}_setElementValue(t){this._renderer.setProperty(this._element.nativeElement,"value",t)}_setSelected(t){this._renderer.setProperty(this._element.nativeElement,"selected",t)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}}return n.\u0275fac=function(t){return new(t||n)(b(Zn),b(vi),b(Bw,9))},n.\u0275dir=ee({type:n,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"}}),n})(),vF=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=Nt({type:n}),n.\u0275inj=vt({imports:[tF]}),n})(),eZ=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=Nt({type:n}),n.\u0275inj=vt({imports:[vF]}),n})(),wF=(()=>{class n{static withConfig(t){return{ngModule:n,providers:[{provide:Fw,useValue:t.warnOnNgModelWithFormControl}]}}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=Nt({type:n}),n.\u0275inj=vt({imports:[vF]}),n})();class EF extends Yf{constructor(e,t,r){super(xw(t),Nw(r,t)),this.controls=e,this._initObservables(),this._setUpdateStrategy(t),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}at(e){return this.controls[this._adjustIndex(e)]}push(e,t={}){this.controls.push(e),this._registerControl(e),this.updateValueAndValidity({emitEvent:t.emitEvent}),this._onCollectionChange()}insert(e,t,r={}){this.controls.splice(e,0,t),this._registerControl(t),this.updateValueAndValidity({emitEvent:r.emitEvent})}removeAt(e,t={}){let r=this._adjustIndex(e);r<0&&(r=0),this.controls[r]&&this.controls[r]._registerOnCollectionChange(()=>{}),this.controls.splice(r,1),this.updateValueAndValidity({emitEvent:t.emitEvent})}setControl(e,t,r={}){let i=this._adjustIndex(e);i<0&&(i=0),this.controls[i]&&this.controls[i]._registerOnCollectionChange(()=>{}),this.controls.splice(i,1),t&&(this.controls.splice(i,0,t),this._registerControl(t)),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}get length(){return this.controls.length}setValue(e,t={}){$O(this,0,e),e.forEach((r,i)=>{BO(this,!1,i),this.at(i).setValue(r,{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t)}patchValue(e,t={}){null!=e&&(e.forEach((r,i)=>{this.at(i)&&this.at(i).patchValue(r,{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t))}reset(e=[],t={}){this._forEachChild((r,i)=>{r.reset(e[i],{onlySelf:!0,emitEvent:t.emitEvent})}),this._updatePristine(t),this._updateTouched(t),this.updateValueAndValidity(t)}getRawValue(){return this.controls.map(e=>e.getRawValue())}clear(e={}){this.controls.length<1||(this._forEachChild(t=>t._registerOnCollectionChange(()=>{})),this.controls.splice(0),this.updateValueAndValidity({emitEvent:e.emitEvent}))}_adjustIndex(e){return e<0?e+this.length:e}_syncPendingControls(){let e=this.controls.reduce((t,r)=>!!r._syncPendingControls()||t,!1);return e&&this.updateValueAndValidity({onlySelf:!0}),e}_forEachChild(e){this.controls.forEach((t,r)=>{e(t,r)})}_updateValue(){this.value=this.controls.filter(e=>e.enabled||this.disabled).map(e=>e.value)}_anyControls(e){return this.controls.some(t=>t.enabled&&e(t))}_setUpControls(){this._forEachChild(e=>this._registerControl(e))}_allControlsDisabled(){for(const e of this.controls)if(e.enabled)return!1;return this.controls.length>0||this.disabled}_registerControl(e){e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange)}_find(e){return this.at(e)??null}}function IF(n){return!!n&&(void 0!==n.asyncValidators||void 0!==n.validators||void 0!==n.updateOn)}let tZ=(()=>{class n{constructor(){this.useNonNullable=!1}get nonNullable(){const t=new n;return t.useNonNullable=!0,t}group(t,r=null){const i=this._reduceControls(t);let s={};return IF(r)?s=r:null!==r&&(s.validators=r.validator,s.asyncValidators=r.asyncValidator),new fc(i,s)}record(t,r=null){const i=this._reduceControls(t);return new jO(i,r)}control(t,r,i){let s={};return this.useNonNullable?(IF(r)?s=r:(s.validators=r,s.asyncValidators=i),new mc(t,{...s,nonNullable:!0})):new mc(t,r,i)}array(t,r,i){const s=t.map(o=>this._createControl(o));return new EF(s,r,i)}_reduceControls(t){const r={};return Object.keys(t).forEach(i=>{r[i]=this._createControl(t[i])}),r}_createControl(t){return t instanceof mc||t instanceof Yf?t:Array.isArray(t)?this.control(t[0],t.length>1?t[1]:null,t.length>2?t[2]:null):this.control(t)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=U({token:n,factory:n.\u0275fac,providedIn:wF}),n})();class bF{}const ki="*";function rZ(n,e){return{type:7,name:n,definitions:e,options:{}}}function TF(n,e=null){return{type:4,styles:e,timings:n}}function CF(n,e=null){return{type:2,steps:n,options:e}}function yc(n){return{type:6,styles:n,offset:null}}function jw(n,e,t){return{type:0,name:n,styles:e,options:t}}function DF(n,e,t=null){return{type:1,expr:n,animation:e,options:t}}function SF(n){Promise.resolve().then(n)}class _c{constructor(e=0,t=0){this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._originalOnDoneFns=[],this._originalOnStartFns=[],this._started=!1,this._destroyed=!1,this._finished=!1,this._position=0,this.parentPlayer=null,this.totalTime=e+t}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(e=>e()),this._onDoneFns=[])}onStart(e){this._originalOnStartFns.push(e),this._onStartFns.push(e)}onDone(e){this._originalOnDoneFns.push(e),this._onDoneFns.push(e)}onDestroy(e){this._onDestroyFns.push(e)}hasStarted(){return this._started}init(){}play(){this.hasStarted()||(this._onStart(),this.triggerMicrotask()),this._started=!0}triggerMicrotask(){SF(()=>this._onFinish())}_onStart(){this._onStartFns.forEach(e=>e()),this._onStartFns=[]}pause(){}restart(){}finish(){this._onFinish()}destroy(){this._destroyed||(this._destroyed=!0,this.hasStarted()||this._onStart(),this.finish(),this._onDestroyFns.forEach(e=>e()),this._onDestroyFns=[])}reset(){this._started=!1,this._finished=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}setPosition(e){this._position=this.totalTime?e*this.totalTime:1}getPosition(){return this.totalTime?this._position/this.totalTime:1}triggerCallback(e){const t="start"==e?this._onStartFns:this._onDoneFns;t.forEach(r=>r()),t.length=0}}class AF{constructor(e){this._onDoneFns=[],this._onStartFns=[],this._finished=!1,this._started=!1,this._destroyed=!1,this._onDestroyFns=[],this.parentPlayer=null,this.totalTime=0,this.players=e;let t=0,r=0,i=0;const s=this.players.length;0==s?SF(()=>this._onFinish()):this.players.forEach(o=>{o.onDone(()=>{++t==s&&this._onFinish()}),o.onDestroy(()=>{++r==s&&this._onDestroy()}),o.onStart(()=>{++i==s&&this._onStart()})}),this.totalTime=this.players.reduce((o,a)=>Math.max(o,a.totalTime),0)}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(e=>e()),this._onDoneFns=[])}init(){this.players.forEach(e=>e.init())}onStart(e){this._onStartFns.push(e)}_onStart(){this.hasStarted()||(this._started=!0,this._onStartFns.forEach(e=>e()),this._onStartFns=[])}onDone(e){this._onDoneFns.push(e)}onDestroy(e){this._onDestroyFns.push(e)}hasStarted(){return this._started}play(){this.parentPlayer||this.init(),this._onStart(),this.players.forEach(e=>e.play())}pause(){this.players.forEach(e=>e.pause())}restart(){this.players.forEach(e=>e.restart())}finish(){this._onFinish(),this.players.forEach(e=>e.finish())}destroy(){this._onDestroy()}_onDestroy(){this._destroyed||(this._destroyed=!0,this._onFinish(),this.players.forEach(e=>e.destroy()),this._onDestroyFns.forEach(e=>e()),this._onDestroyFns=[])}reset(){this.players.forEach(e=>e.reset()),this._destroyed=!1,this._finished=!1,this._started=!1}setPosition(e){const t=e*this.totalTime;this.players.forEach(r=>{const i=r.totalTime?Math.min(1,t/r.totalTime):1;r.setPosition(i)})}getPosition(){const e=this.players.reduce((t,r)=>null===t||r.totalTime>t.totalTime?r:t,null);return null!=e?e.getPosition():0}beforeDestroy(){this.players.forEach(e=>{e.beforeDestroy&&e.beforeDestroy()})}triggerCallback(e){const t="start"==e?this._onStartFns:this._onDoneFns;t.forEach(r=>r()),t.length=0}}const MF=["toast-component",""];function iZ(n,e){if(1&n){const t=S_();V(0,"button",5),bt("click",function(){return qm(t),zm(er().remove())}),V(1,"span",6),z(2,"\xd7"),j()()}}function sZ(n,e){if(1&n&&(Ml(0),z(1),xl()),2&n){const t=er(2);he(1),nr("[",t.duplicatesCount+1,"]")}}function oZ(n,e){if(1&n&&(V(0,"div"),z(1),Gt(2,sZ,2,1,"ng-container",4),j()),2&n){const t=er();bi(t.options.titleClass),Nn("aria-label",t.title),he(1),nr(" ",t.title," "),he(1),Ke("ngIf",t.duplicatesCount)}}function aZ(n,e){if(1&n&&It(0,"div",7),2&n){const t=er();bi(t.options.messageClass),Ke("innerHTML",t.message,wy)}}function uZ(n,e){if(1&n&&(V(0,"div",8),z(1),j()),2&n){const t=er();bi(t.options.messageClass),Nn("aria-label",t.message),he(1),nr(" ",t.message," ")}}function lZ(n,e){if(1&n&&(V(0,"div"),It(1,"div",9),j()),2&n){const t=er();he(1),ja("width",t.width+"%")}}class mZ{constructor(e,t){this.component=e,this.injector=t}attach(e,t){return this._attachedHost=e,e.attach(this,t)}detach(){const e=this._attachedHost;if(e)return this._attachedHost=void 0,e.detach()}get isAttached(){return null!=this._attachedHost}setAttachedHost(e){this._attachedHost=e}}class rp{constructor(e,t,r,i,s,o){this.toastId=e,this.config=t,this.message=r,this.title=i,this.toastType=s,this.toastRef=o,this._onTap=new Xe,this._onAction=new Xe,this.toastRef.afterClosed().subscribe(()=>{this._onAction.complete(),this._onTap.complete()})}triggerTap(){this._onTap.next(),this.config.tapToDismiss&&this._onTap.complete()}onTap(){return this._onTap.asObservable()}triggerAction(e){this._onAction.next(e)}onAction(){return this._onAction.asObservable()}}const NF=new $("ToastConfig");class _Z{constructor(e){this._overlayRef=e,this.duplicatesCount=0,this._afterClosed=new Xe,this._activate=new Xe,this._manualClose=new Xe,this._resetTimeout=new Xe,this._countDuplicate=new Xe}manualClose(){this._manualClose.next(),this._manualClose.complete()}manualClosed(){return this._manualClose.asObservable()}timeoutReset(){return this._resetTimeout.asObservable()}countDuplicate(){return this._countDuplicate.asObservable()}close(){this._overlayRef.detach(),this._afterClosed.next(),this._manualClose.next(),this._afterClosed.complete(),this._manualClose.complete(),this._activate.complete(),this._resetTimeout.complete(),this._countDuplicate.complete()}afterClosed(){return this._afterClosed.asObservable()}isInactive(){return this._activate.isStopped}activate(){this._activate.next(),this._activate.complete()}afterActivate(){return this._activate.asObservable()}onDuplicate(e,t){e&&this._resetTimeout.next(),t&&this._countDuplicate.next(++this.duplicatesCount)}}class vZ{constructor(e,t){this._toastPackage=e,this._parentInjector=t}get(e,t,r){return e===rp?this._toastPackage:this._parentInjector.get(e,t,r)}}class wZ extends class yZ{attach(e,t){return this._attachedPortal=e,this.attachComponentPortal(e,t)}detach(){this._attachedPortal&&this._attachedPortal.setAttachedHost(),this._attachedPortal=void 0,this._disposeFn&&(this._disposeFn(),this._disposeFn=void 0)}setDisposeFn(e){this._disposeFn=e}}{constructor(e,t,r){super(),this._hostDomElement=e,this._componentFactoryResolver=t,this._appRef=r}attachComponentPortal(e,t){const r=this._componentFactoryResolver.resolveComponentFactory(e.component);let i;return i=r.create(e.injector),this._appRef.attachView(i.hostView),this.setDisposeFn(()=>{this._appRef.detachView(i.hostView),i.destroy()}),t?this._hostDomElement.insertBefore(this._getComponentRootNode(i),this._hostDomElement.firstChild):this._hostDomElement.appendChild(this._getComponentRootNode(i)),i}_getComponentRootNode(e){return e.hostView.rootNodes[0]}}class EZ{constructor(e){this._portalHost=e}attach(e,t=!0){return this._portalHost.attach(e,t)}detach(){return this._portalHost.detach()}}let IZ=(()=>{class n{constructor(t){this._document=t}ngOnDestroy(){this._containerElement&&this._containerElement.parentNode&&this._containerElement.parentNode.removeChild(this._containerElement)}getContainerElement(){return this._containerElement||this._createContainer(),this._containerElement}_createContainer(){const t=this._document.createElement("div");t.classList.add("overlay-container"),t.setAttribute("aria-live","polite"),this._document.body.appendChild(t),this._containerElement=t}}return n.\u0275fac=function(t){return new(t||n)(M(nt))},n.\u0275prov=U({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),bZ=(()=>{class n{constructor(t,r,i,s){this._overlayContainer=t,this._componentFactoryResolver=r,this._appRef=i,this._document=s,this._paneElements=new Map}create(t,r){return this._createOverlayRef(this.getPaneElement(t,r))}getPaneElement(t="",r){return this._paneElements.get(r)||this._paneElements.set(r,{}),this._paneElements.get(r)[t]||(this._paneElements.get(r)[t]=this._createPaneElement(t,r)),this._paneElements.get(r)[t]}_createPaneElement(t,r){const i=this._document.createElement("div");return i.id="toast-container",i.classList.add(t),i.classList.add("toast-container"),r?r.getContainerElement().appendChild(i):this._overlayContainer.getContainerElement().appendChild(i),i}_createPortalHost(t){return new wZ(t,this._componentFactoryResolver,this._appRef)}_createOverlayRef(t){return new EZ(this._createPortalHost(t))}}return n.\u0275fac=function(t){return new(t||n)(M(IZ),M(ba),M(is),M(nt))},n.\u0275prov=U({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),ip=(()=>{class n{constructor(t,r,i,s,o){this.overlay=r,this._injector=i,this.sanitizer=s,this.ngZone=o,this.currentlyActive=0,this.toasts=[],this.index=0,this.toastrConfig={...t.default,...t.config},t.config.iconClasses&&(this.toastrConfig.iconClasses={...t.default.iconClasses,...t.config.iconClasses})}show(t,r,i={},s=""){return this._preBuildNotification(s,t,r,this.applyConfig(i))}success(t,r,i={}){return this._preBuildNotification(this.toastrConfig.iconClasses.success||"",t,r,this.applyConfig(i))}error(t,r,i={}){return this._preBuildNotification(this.toastrConfig.iconClasses.error||"",t,r,this.applyConfig(i))}info(t,r,i={}){return this._preBuildNotification(this.toastrConfig.iconClasses.info||"",t,r,this.applyConfig(i))}warning(t,r,i={}){return this._preBuildNotification(this.toastrConfig.iconClasses.warning||"",t,r,this.applyConfig(i))}clear(t){for(const r of this.toasts)if(void 0!==t){if(r.toastId===t)return void r.toastRef.manualClose()}else r.toastRef.manualClose()}remove(t){const r=this._findToast(t);if(!r||(r.activeToast.toastRef.close(),this.toasts.splice(r.index,1),this.currentlyActive=this.currentlyActive-1,!this.toastrConfig.maxOpened||!this.toasts.length))return!1;if(this.currentlyActive<this.toastrConfig.maxOpened&&this.toasts[this.currentlyActive]){const i=this.toasts[this.currentlyActive].toastRef;i.isInactive()||(this.currentlyActive=this.currentlyActive+1,i.activate())}return!0}findDuplicate(t="",r="",i,s){const{includeTitleDuplicates:o}=this.toastrConfig;for(const a of this.toasts){const u=o&&a.title===t;if((!o||u)&&a.message===r)return a.toastRef.onDuplicate(i,s),a}return null}applyConfig(t={}){return{...this.toastrConfig,...t}}_findToast(t){for(let r=0;r<this.toasts.length;r++)if(this.toasts[r].toastId===t)return{index:r,activeToast:this.toasts[r]};return null}_preBuildNotification(t,r,i,s){return s.onActivateTick?this.ngZone.run(()=>this._buildNotification(t,r,i,s)):this._buildNotification(t,r,i,s)}_buildNotification(t,r,i,s){if(!s.toastComponent)throw new Error("toastComponent required");const o=this.findDuplicate(i,r,this.toastrConfig.resetTimeoutOnDuplicate&&s.timeOut>0,this.toastrConfig.countDuplicates);if((this.toastrConfig.includeTitleDuplicates&&i||r)&&this.toastrConfig.preventDuplicates&&null!==o)return o;this.previousToastMessage=r;let a=!1;this.toastrConfig.maxOpened&&this.currentlyActive>=this.toastrConfig.maxOpened&&(a=!0,this.toastrConfig.autoDismiss&&this.clear(this.toasts[0].toastId));const u=this.overlay.create(s.positionClass,this.overlayContainer);this.index=this.index+1;let l=r;r&&s.enableHtml&&(l=this.sanitizer.sanitize(Re.HTML,r));const c=new _Z(u),d=new rp(this.index,s,l,i,t,c),h=new vZ(d,this._injector),f=new mZ(s.toastComponent,h),p=u.attach(f,this.toastrConfig.newestOnTop);c.componentInstance=p.instance;const g={toastId:this.index,title:i||"",message:r||"",toastRef:c,onShown:c.afterActivate(),onHidden:c.afterClosed(),onTap:d.onTap(),onAction:d.onAction(),portal:p};return a||(this.currentlyActive=this.currentlyActive+1,setTimeout(()=>{g.toastRef.activate()})),this.toasts.push(g),g}}return n.\u0275fac=function(t){return new(t||n)(M(NF),M(bZ),M(Rt),M(U1),M(Pe))},n.\u0275prov=U({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const TZ={maxOpened:0,autoDismiss:!1,newestOnTop:!0,preventDuplicates:!1,countDuplicates:!1,resetTimeoutOnDuplicate:!1,includeTitleDuplicates:!1,iconClasses:{error:"toast-error",info:"toast-info",success:"toast-success",warning:"toast-warning"},closeButton:!1,disableTimeOut:!1,timeOut:5e3,extendedTimeOut:1e3,enableHtml:!1,progressBar:!1,toastClass:"ngx-toastr",positionClass:"toast-top-right",titleClass:"toast-title",messageClass:"toast-message",easing:"ease-in",easeTime:300,tapToDismiss:!0,onActivateTick:!1,progressAnimation:"decreasing",payload:null,toastComponent:(()=>{class n{constructor(t,r,i){this.toastrService=t,this.toastPackage=r,this.ngZone=i,this.width=-1,this.toastClasses="",this.state={value:"inactive",params:{easeTime:this.toastPackage.config.easeTime,easing:"ease-in"}},this.message=r.message,this.title=r.title,this.options=r.config,this.originalTimeout=r.config.timeOut,this.toastClasses=`${r.toastType} ${r.config.toastClass}`,this.sub=r.toastRef.afterActivate().subscribe(()=>{this.activateToast()}),this.sub1=r.toastRef.manualClosed().subscribe(()=>{this.remove()}),this.sub2=r.toastRef.timeoutReset().subscribe(()=>{this.resetTimeout()}),this.sub3=r.toastRef.countDuplicate().subscribe(s=>{this.duplicatesCount=s})}get displayStyle(){if("inactive"===this.state.value)return"none"}ngOnDestroy(){this.sub.unsubscribe(),this.sub1.unsubscribe(),this.sub2.unsubscribe(),this.sub3.unsubscribe(),clearInterval(this.intervalId),clearTimeout(this.timeout)}activateToast(){this.state={...this.state,value:"active"},!0!==this.options.disableTimeOut&&"timeOut"!==this.options.disableTimeOut&&this.options.timeOut&&(this.outsideTimeout(()=>this.remove(),this.options.timeOut),this.hideTime=(new Date).getTime()+this.options.timeOut,this.options.progressBar&&this.outsideInterval(()=>this.updateProgress(),10))}updateProgress(){if(0===this.width||100===this.width||!this.options.timeOut)return;const t=(new Date).getTime();this.width=(this.hideTime-t)/this.options.timeOut*100,"increasing"===this.options.progressAnimation&&(this.width=100-this.width),this.width<=0&&(this.width=0),this.width>=100&&(this.width=100)}resetTimeout(){clearTimeout(this.timeout),clearInterval(this.intervalId),this.state={...this.state,value:"active"},this.outsideTimeout(()=>this.remove(),this.originalTimeout),this.options.timeOut=this.originalTimeout,this.hideTime=(new Date).getTime()+(this.options.timeOut||0),this.width=-1,this.options.progressBar&&this.outsideInterval(()=>this.updateProgress(),10)}remove(){"removed"!==this.state.value&&(clearTimeout(this.timeout),this.state={...this.state,value:"removed"},this.outsideTimeout(()=>this.toastrService.remove(this.toastPackage.toastId),+this.toastPackage.config.easeTime))}tapToast(){"removed"!==this.state.value&&(this.toastPackage.triggerTap(),this.options.tapToDismiss&&this.remove())}stickAround(){"removed"!==this.state.value&&(clearTimeout(this.timeout),this.options.timeOut=0,this.hideTime=0,clearInterval(this.intervalId),this.width=0)}delayedHideToast(){!0===this.options.disableTimeOut||"extendedTimeOut"===this.options.disableTimeOut||0===this.options.extendedTimeOut||"removed"===this.state.value||(this.outsideTimeout(()=>this.remove(),this.options.extendedTimeOut),this.options.timeOut=this.options.extendedTimeOut,this.hideTime=(new Date).getTime()+(this.options.timeOut||0),this.width=-1,this.options.progressBar&&this.outsideInterval(()=>this.updateProgress(),10))}outsideTimeout(t,r){this.ngZone?this.ngZone.runOutsideAngular(()=>this.timeout=setTimeout(()=>this.runInsideAngular(t),r)):this.timeout=setTimeout(()=>t(),r)}outsideInterval(t,r){this.ngZone?this.ngZone.runOutsideAngular(()=>this.intervalId=setInterval(()=>this.runInsideAngular(t),r)):this.intervalId=setInterval(()=>t(),r)}runInsideAngular(t){this.ngZone?this.ngZone.run(()=>t()):t()}}return n.\u0275fac=function(t){return new(t||n)(b(ip),b(rp),b(Pe))},n.\u0275cmp=qn({type:n,selectors:[["","toast-component",""]],hostVars:5,hostBindings:function(t,r){1&t&&bt("click",function(){return r.tapToast()})("mouseenter",function(){return r.stickAround()})("mouseleave",function(){return r.delayedHideToast()}),2&t&&(k_("@flyInOut",r.state),bi(r.toastClasses),ja("display",r.displayStyle))},attrs:MF,decls:5,vars:5,consts:[["type","button","class","toast-close-button","aria-label","Close",3,"click",4,"ngIf"],[3,"class",4,"ngIf"],["role","alert",3,"class","innerHTML",4,"ngIf"],["role","alert",3,"class",4,"ngIf"],[4,"ngIf"],["type","button","aria-label","Close",1,"toast-close-button",3,"click"],["aria-hidden","true"],["role","alert",3,"innerHTML"],["role","alert"],[1,"toast-progress"]],template:function(t,r){1&t&&(Gt(0,iZ,3,0,"button",0),Gt(1,oZ,3,5,"div",1),Gt(2,aZ,1,3,"div",2),Gt(3,uZ,2,4,"div",3),Gt(4,lZ,2,2,"div",4)),2&t&&(Ke("ngIf",r.options.closeButton),he(1),Ke("ngIf",r.title),he(1),Ke("ngIf",r.message&&r.options.enableHtml),he(1),Ke("ngIf",r.message&&!r.options.enableHtml),he(1),Ke("ngIf",r.options.progressBar))},dependencies:[ql],encapsulation:2,data:{animation:[rZ("flyInOut",[jw("inactive",yc({opacity:0})),jw("active",yc({opacity:1})),jw("removed",yc({opacity:0})),DF("inactive => active",TF("{{ easeTime }}ms {{ easing }}")),DF("active => removed",TF("{{ easeTime }}ms {{ easing }}"))])]}}),n})()};let CZ=(()=>{class n{static forRoot(t={}){return{ngModule:n,providers:[{provide:NF,useValue:{default:TZ,config:t}}]}}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=Nt({type:n}),n.\u0275inj=vt({imports:[kv]}),n})();function kF(n,e,t,r,i,s,o){try{var a=n[s](o),u=a.value}catch(l){return void t(l)}a.done?e(u):Promise.resolve(u).then(r,i)}function y(n){return function(){var e=this,t=arguments;return new Promise(function(r,i){var s=n.apply(e,t);function o(u){kF(s,r,i,o,a,"next",u)}function a(u){kF(s,r,i,o,a,"throw",u)}o(void 0)})}}const RF=function(n){const e=[];let t=0;for(let r=0;r<n.length;r++){let i=n.charCodeAt(r);i<128?e[t++]=i:i<2048?(e[t++]=i>>6|192,e[t++]=63&i|128):55296==(64512&i)&&r+1<n.length&&56320==(64512&n.charCodeAt(r+1))?(i=65536+((1023&i)<<10)+(1023&n.charCodeAt(++r)),e[t++]=i>>18|240,e[t++]=i>>12&63|128,e[t++]=i>>6&63|128,e[t++]=63&i|128):(e[t++]=i>>12|224,e[t++]=i>>6&63|128,e[t++]=63&i|128)}return e},qw={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray(n,e){if(!Array.isArray(n))throw Error("encodeByteArray takes an array as a parameter");this.init_();const t=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<n.length;i+=3){const s=n[i],o=i+1<n.length,a=o?n[i+1]:0,u=i+2<n.length,l=u?n[i+2]:0;let h=(15&a)<<2|l>>6,f=63&l;u||(f=64,o||(h=64)),r.push(t[s>>2],t[(3&s)<<4|a>>4],t[h],t[f])}return r.join("")},encodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(n):this.encodeByteArray(RF(n),e)},decodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(n):function(n){const e=[];let t=0,r=0;for(;t<n.length;){const i=n[t++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){const s=n[t++];e[r++]=String.fromCharCode((31&i)<<6|63&s)}else if(i>239&&i<365){const u=((7&i)<<18|(63&n[t++])<<12|(63&n[t++])<<6|63&n[t++])-65536;e[r++]=String.fromCharCode(55296+(u>>10)),e[r++]=String.fromCharCode(56320+(1023&u))}else{const s=n[t++],o=n[t++];e[r++]=String.fromCharCode((15&i)<<12|(63&s)<<6|63&o)}}return e.join("")}(this.decodeStringToByteArray(n,e))},decodeStringToByteArray(n,e){this.init_();const t=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<n.length;){const s=t[n.charAt(i++)],a=i<n.length?t[n.charAt(i)]:0;++i;const l=i<n.length?t[n.charAt(i)]:64;++i;const d=i<n.length?t[n.charAt(i)]:64;if(++i,null==s||null==a||null==l||null==d)throw Error();r.push(s<<2|a>>4),64!==l&&(r.push(a<<4&240|l>>2),64!==d&&r.push(l<<6&192|d))}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let n=0;n<this.ENCODED_VALS.length;n++)this.byteToCharMap_[n]=this.ENCODED_VALS.charAt(n),this.charToByteMap_[this.byteToCharMap_[n]]=n,this.byteToCharMapWebSafe_[n]=this.ENCODED_VALS_WEBSAFE.charAt(n),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[n]]=n,n>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(n)]=n,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(n)]=n)}}},sp=function(n){return function(n){const e=RF(n);return qw.encodeByteArray(e,!0)}(n).replace(/\./g,"")};class op{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}wrapCallback(e){return(t,r)=>{t?this.reject(t):this.resolve(r),"function"==typeof e&&(this.promise.catch(()=>{}),1===e.length?e(t):e(t,r))}}}function ir(){return typeof navigator<"u"&&"string"==typeof navigator.userAgent?navigator.userAgent:""}function Ww(){const n="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof n&&void 0!==n.id}function co(){return"object"==typeof indexedDB}function vc(){return new Promise((n,e)=>{try{let t=!0;const r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),t||self.indexedDB.deleteDatabase(r),n(!0)},i.onupgradeneeded=()=>{t=!1},i.onerror=()=>{var s;e((null===(s=i.error)||void 0===s?void 0:s.message)||"")}}catch(t){e(t)}})}function Kw(){return!(typeof navigator>"u"||!navigator.cookieEnabled)}class Br extends Error{constructor(e,t,r){super(t),this.code=e,this.customData=r,this.name="FirebaseError",Object.setPrototypeOf(this,Br.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,ti.prototype.create)}}class ti{constructor(e,t,r){this.service=e,this.serviceName=t,this.errors=r}create(e,...t){const r=t[0]||{},i=`${this.service}/${e}`,s=this.errors[e],o=s?function OZ(n,e){return n.replace(FZ,(t,r)=>{const i=e[r];return null!=i?String(i):`<${r}?>`})}(s,r):"Error";return new Br(i,`${this.serviceName}: ${o} (${i}).`,r)}}const FZ=/\{\$([^}]+)}/g;function Qw(n,e){if(n===e)return!0;const t=Object.keys(n),r=Object.keys(e);for(const i of t){if(!r.includes(i))return!1;const s=n[i],o=e[i];if(FF(s)&&FF(o)){if(!Qw(s,o))return!1}else if(s!==o)return!1}for(const i of r)if(!t.includes(i))return!1;return!0}function FF(n){return null!==n&&"object"==typeof n}function LF(n){const e=[];for(const[t,r]of Object.entries(n))Array.isArray(r)?r.forEach(i=>{e.push(encodeURIComponent(t)+"="+encodeURIComponent(i))}):e.push(encodeURIComponent(t)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}class VZ{constructor(e,t){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=t,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(t=>{t.next(e)})}error(e){this.forEachObserver(t=>{t.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,t,r){let i;if(void 0===e&&void 0===t&&void 0===r)throw new Error("Missing Observer.");i=function UZ(n,e){if("object"!=typeof n||null===n)return!1;for(const t of e)if(t in n&&"function"==typeof n[t])return!0;return!1}(e,["next","error","complete"])?e:{next:e,error:t,complete:r},void 0===i.next&&(i.next=Yw),void 0===i.error&&(i.error=Yw),void 0===i.complete&&(i.complete=Yw);const s=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch{}}),this.observers.push(i),s}unsubscribeOne(e){void 0===this.observers||void 0===this.observers[e]||(delete this.observers[e],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let t=0;t<this.observers.length;t++)this.sendOne(t,e)}sendOne(e,t){this.task.then(()=>{if(void 0!==this.observers&&void 0!==this.observers[e])try{t(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,void 0!==e&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function Yw(){}function Zw(n,e=1e3,t=2){const r=e*Math.pow(t,n),i=Math.round(.5*r*(Math.random()-.5)*2);return Math.min(144e5,r+i)}function Er(n){return n&&n._delegate?n._delegate:n}class un{constructor(e,t,r){this.name=e,this.instanceFactory=t,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}const ho="[DEFAULT]";class qZ{constructor(e,t){this.name=e,this.container=t,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){const r=new op;if(this.instancesDeferred.set(t,r),this.isInitialized(t)||this.shouldAutoInitialize())try{const i=this.getOrInitializeService({instanceIdentifier:t});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(t).promise}getImmediate(e){var t;const r=this.normalizeInstanceIdentifier(e?.identifier),i=null!==(t=e?.optional)&&void 0!==t&&t;if(!this.isInitialized(r)&&!this.shouldAutoInitialize()){if(i)return null;throw Error(`Service ${this.name} is not available`)}try{return this.getOrInitializeService({instanceIdentifier:r})}catch(s){if(i)return null;throw s}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,this.shouldAutoInitialize()){if(function WZ(n){return"EAGER"===n.instantiationMode}(e))try{this.getOrInitializeService({instanceIdentifier:ho})}catch{}for(const[t,r]of this.instancesDeferred.entries()){const i=this.normalizeInstanceIdentifier(t);try{const s=this.getOrInitializeService({instanceIdentifier:i});r.resolve(s)}catch{}}}}clearInstance(e=ho){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}delete(){var e=this;return y(function*(){const t=Array.from(e.instances.values());yield Promise.all([...t.filter(r=>"INTERNAL"in r).map(r=>r.INTERNAL.delete()),...t.filter(r=>"_delete"in r).map(r=>r._delete())])})()}isComponentSet(){return null!=this.component}isInitialized(e=ho){return this.instances.has(e)}getOptions(e=ho){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:t={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const i=this.getOrInitializeService({instanceIdentifier:r,options:t});for(const[s,o]of this.instancesDeferred.entries())r===this.normalizeInstanceIdentifier(s)&&o.resolve(i);return i}onInit(e,t){var r;const i=this.normalizeInstanceIdentifier(t),s=null!==(r=this.onInitCallbacks.get(i))&&void 0!==r?r:new Set;s.add(e),this.onInitCallbacks.set(i,s);const o=this.instances.get(i);return o&&e(o,i),()=>{s.delete(e)}}invokeOnInitCallbacks(e,t){const r=this.onInitCallbacks.get(t);if(r)for(const i of r)try{i(e,t)}catch{}}getOrInitializeService({instanceIdentifier:e,options:t={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:(n=e,n===ho?void 0:n),options:t}),this.instances.set(e,r),this.instancesOptions.set(e,t),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}var n;return r||null}normalizeInstanceIdentifier(e=ho){return this.component?this.component.multipleInstances?e:ho:e}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}class KZ{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const t=this.getProvider(e.name);if(t.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);t.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const t=new qZ(e,this);return this.providers.set(e,t),t}getProviders(){return Array.from(this.providers.values())}}const Xw=[];var _e=(()=>{return(n=_e||(_e={}))[n.DEBUG=0]="DEBUG",n[n.VERBOSE=1]="VERBOSE",n[n.INFO=2]="INFO",n[n.WARN=3]="WARN",n[n.ERROR=4]="ERROR",n[n.SILENT=5]="SILENT",_e;var n})();const VF={debug:_e.DEBUG,verbose:_e.VERBOSE,info:_e.INFO,warn:_e.WARN,error:_e.ERROR,silent:_e.SILENT},QZ=_e.INFO,YZ={[_e.DEBUG]:"log",[_e.VERBOSE]:"log",[_e.INFO]:"info",[_e.WARN]:"warn",[_e.ERROR]:"error"},JZ=(n,e,...t)=>{if(e<n.logLevel)return;const r=(new Date).toISOString(),i=YZ[e];if(!i)throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`);console[i](`[${r}]  ${n.name}:`,...t)};class ru{constructor(e){this.name=e,this._logLevel=QZ,this._logHandler=JZ,this._userLogHandler=null,Xw.push(this)}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in _e))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel="string"==typeof e?VF[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if("function"!=typeof e)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,_e.DEBUG,...e),this._logHandler(this,_e.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,_e.VERBOSE,...e),this._logHandler(this,_e.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,_e.INFO,...e),this._logHandler(this,_e.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,_e.WARN,...e),this._logHandler(this,_e.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,_e.ERROR,...e),this._logHandler(this,_e.ERROR,...e)}}let UF,BF;const $F=new WeakMap,eE=new WeakMap,jF=new WeakMap,tE=new WeakMap,nE=new WeakMap;let rE={get(n,e,t){if(n instanceof IDBTransaction){if("done"===e)return eE.get(n);if("objectStoreNames"===e)return n.objectStoreNames||jF.get(n);if("store"===e)return t.objectStoreNames[1]?void 0:t.objectStore(t.objectStoreNames[0])}return Ri(n[e])},set:(n,e,t)=>(n[e]=t,!0),has:(n,e)=>n instanceof IDBTransaction&&("done"===e||"store"===e)||e in n};function sX(n){return"function"==typeof n?function iX(n){return n!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?function eX(){return BF||(BF=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}().includes(n)?function(...e){return n.apply(iE(this),e),Ri($F.get(this))}:function(...e){return Ri(n.apply(iE(this),e))}:function(e,...t){const r=n.call(iE(this),e,...t);return jF.set(r,e.sort?e.sort():[e]),Ri(r)}}(n):(n instanceof IDBTransaction&&function nX(n){if(eE.has(n))return;const e=new Promise((t,r)=>{const i=()=>{n.removeEventListener("complete",s),n.removeEventListener("error",o),n.removeEventListener("abort",o)},s=()=>{t(),i()},o=()=>{r(n.error||new DOMException("AbortError","AbortError")),i()};n.addEventListener("complete",s),n.addEventListener("error",o),n.addEventListener("abort",o)});eE.set(n,e)}(n),((n,e)=>e.some(t=>n instanceof t))(n,function XZ(){return UF||(UF=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}())?new Proxy(n,rE):n)}function Ri(n){if(n instanceof IDBRequest)return function tX(n){const e=new Promise((t,r)=>{const i=()=>{n.removeEventListener("success",s),n.removeEventListener("error",o)},s=()=>{t(Ri(n.result)),i()},o=()=>{r(n.error),i()};n.addEventListener("success",s),n.addEventListener("error",o)});return e.then(t=>{t instanceof IDBCursor&&$F.set(t,n)}).catch(()=>{}),nE.set(e,n),e}(n);if(tE.has(n))return tE.get(n);const e=sX(n);return e!==n&&(tE.set(n,e),nE.set(e,n)),e}const iE=n=>nE.get(n);function up(n,e,{blocked:t,upgrade:r,blocking:i,terminated:s}={}){const o=indexedDB.open(n,e),a=Ri(o);return r&&o.addEventListener("upgradeneeded",u=>{r(Ri(o.result),u.oldVersion,u.newVersion,Ri(o.transaction))}),t&&o.addEventListener("blocked",()=>t()),a.then(u=>{s&&u.addEventListener("close",()=>s()),i&&u.addEventListener("versionchange",()=>i())}).catch(()=>{}),a}function sE(n,{blocked:e}={}){const t=indexedDB.deleteDatabase(n);return e&&t.addEventListener("blocked",()=>e()),Ri(t).then(()=>{})}const oX=["get","getKey","getAll","getAllKeys","count"],aX=["put","add","delete","clear"],oE=new Map;function HF(n,e){if(!(n instanceof IDBDatabase)||e in n||"string"!=typeof e)return;if(oE.get(e))return oE.get(e);const t=e.replace(/FromIndex$/,""),r=e!==t,i=aX.includes(t);if(!(t in(r?IDBIndex:IDBObjectStore).prototype)||!i&&!oX.includes(t))return;const s=function(){var o=y(function*(a,...u){const l=this.transaction(a,i?"readwrite":"readonly");let c=l.store;return r&&(c=c.index(u.shift())),(yield Promise.all([c[t](...u),i&&l.done]))[0]});return function(u){return o.apply(this,arguments)}}();return oE.set(e,s),s}!function rX(n){rE=n(rE)}(n=>({...n,get:(e,t,r)=>HF(e,t)||n.get(e,t,r),has:(e,t)=>!!HF(e,t)||n.has(e,t)}));class uX{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(t=>{if(function lX(n){return"VERSION"===n.getComponent()?.type}(t)){const r=t.getImmediate();return`${r.library}/${r.version}`}return null}).filter(t=>t).join(" ")}}const aE="@firebase/app",fo=new ru("@firebase/app"),uE="[DEFAULT]",OX={[aE]:"fire-core","@firebase/app-compat":"fire-core-compat","@firebase/analytics":"fire-analytics","@firebase/analytics-compat":"fire-analytics-compat","@firebase/app-check":"fire-app-check","@firebase/app-check-compat":"fire-app-check-compat","@firebase/auth":"fire-auth","@firebase/auth-compat":"fire-auth-compat","@firebase/database":"fire-rtdb","@firebase/database-compat":"fire-rtdb-compat","@firebase/functions":"fire-fn","@firebase/functions-compat":"fire-fn-compat","@firebase/installations":"fire-iid","@firebase/installations-compat":"fire-iid-compat","@firebase/messaging":"fire-fcm","@firebase/messaging-compat":"fire-fcm-compat","@firebase/performance":"fire-perf","@firebase/performance-compat":"fire-perf-compat","@firebase/remote-config":"fire-rc","@firebase/remote-config-compat":"fire-rc-compat","@firebase/storage":"fire-gcs","@firebase/storage-compat":"fire-gcs-compat","@firebase/firestore":"fire-fst","@firebase/firestore-compat":"fire-fst-compat","fire-js":"fire-js",firebase:"fire-js-all"},po=new Map,lp=new Map;function FX(n,e){try{n.container.addComponent(e)}catch(t){fo.debug(`Component ${e.name} failed to register with FirebaseApp ${n.name}`,t)}}function bn(n){const e=n.name;if(lp.has(e))return fo.debug(`There were multiple attempts to register component ${e}.`),!1;lp.set(e,n);for(const t of po.values())FX(t,n);return!0}function cp(n,e){const t=n.container.getProvider("heartbeat").getImmediate({optional:!0});return t&&t.triggerHeartbeat(),n.container.getProvider(e)}const gs=new ti("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."});class VX{constructor(e,t,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},t),this._name=t.name,this._automaticDataCollectionEnabled=t.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new un("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw gs.create("app-deleted",{appName:this._name})}}const dp="9.10.0";function UX(n,e={}){"object"!=typeof e&&(e={name:e});const t=Object.assign({name:uE,automaticDataCollectionEnabled:!1},e),r=t.name;if("string"!=typeof r||!r)throw gs.create("bad-app-name",{appName:String(r)});const i=po.get(r);if(i){if(Qw(n,i.options)&&Qw(t,i.config))return i;throw gs.create("duplicate-app",{appName:r})}const s=new KZ(r);for(const a of lp.values())s.addComponent(a);const o=new VX(n,t,s);return po.set(r,o),o}function qF(n=uE){const e=po.get(n);if(!e)throw gs.create("no-app",{appName:n});return e}function zF(){return Array.from(po.values())}function it(n,e,t){var r;let i=null!==(r=OX[n])&&void 0!==r?r:n;t&&(i+=`-${t}`);const s=i.match(/\s|\//),o=e.match(/\s|\//);if(s||o){const a=[`Unable to register library "${i}" with version "${e}":`];return s&&a.push(`library name "${i}" contains illegal characters (whitespace or "/")`),s&&o&&a.push("and"),o&&a.push(`version name "${e}" contains illegal characters (whitespace or "/")`),void fo.warn(a.join(" "))}bn(new un(`${i}-version`,()=>({library:i,version:e}),"VERSION"))}const wc="firebase-heartbeat-store";let cE=null;function WF(){return cE||(cE=up("firebase-heartbeat-database",1,{upgrade:(n,e)=>{0===e&&n.createObjectStore(wc)}}).catch(n=>{throw gs.create("idb-open",{originalErrorMessage:n.message})})),cE}function dE(){return(dE=y(function*(n){var e;try{return(yield WF()).transaction(wc).objectStore(wc).get(QF(n))}catch(t){if(t instanceof Br)fo.warn(t.message);else{const r=gs.create("idb-get",{originalErrorMessage:null===(e=t)||void 0===e?void 0:e.message});fo.warn(r.message)}}})).apply(this,arguments)}function KF(n,e){return hE.apply(this,arguments)}function hE(){return(hE=y(function*(n,e){var t;try{const i=(yield WF()).transaction(wc,"readwrite");return yield i.objectStore(wc).put(e,QF(n)),i.done}catch(r){if(r instanceof Br)fo.warn(r.message);else{const i=gs.create("idb-set",{originalErrorMessage:null===(t=r)||void 0===t?void 0:t.message});fo.warn(i.message)}}})).apply(this,arguments)}function QF(n){return`${n.name}!${n.options.appId}`}class qX{constructor(e){this.container=e,this._heartbeatsCache=null;const t=this.container.getProvider("app").getImmediate();this._storage=new WX(t),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}triggerHeartbeat(){var e=this;return y(function*(){const r=e.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),i=YF();if(null===e._heartbeatsCache&&(e._heartbeatsCache=yield e._heartbeatsCachePromise),e._heartbeatsCache.lastSentHeartbeatDate!==i&&!e._heartbeatsCache.heartbeats.some(s=>s.date===i))return e._heartbeatsCache.heartbeats.push({date:i,agent:r}),e._heartbeatsCache.heartbeats=e._heartbeatsCache.heartbeats.filter(s=>{const o=new Date(s.date).valueOf();return Date.now()-o<=2592e6}),e._storage.overwrite(e._heartbeatsCache)})()}getHeartbeatsHeader(){var e=this;return y(function*(){if(null===e._heartbeatsCache&&(yield e._heartbeatsCachePromise),null===e._heartbeatsCache||0===e._heartbeatsCache.heartbeats.length)return"";const t=YF(),{heartbeatsToSend:r,unsentEntries:i}=function zX(n,e=1024){const t=[];let r=n.slice();for(const i of n){const s=t.find(o=>o.agent===i.agent);if(s){if(s.dates.push(i.date),JF(t)>e){s.dates.pop();break}}else if(t.push({agent:i.agent,dates:[i.date]}),JF(t)>e){t.pop();break}r=r.slice(1)}return{heartbeatsToSend:t,unsentEntries:r}}(e._heartbeatsCache.heartbeats),s=sp(JSON.stringify({version:2,heartbeats:r}));return e._heartbeatsCache.lastSentHeartbeatDate=t,i.length>0?(e._heartbeatsCache.heartbeats=i,yield e._storage.overwrite(e._heartbeatsCache)):(e._heartbeatsCache.heartbeats=[],e._storage.overwrite(e._heartbeatsCache)),s})()}}function YF(){return(new Date).toISOString().substring(0,10)}class WX{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}runIndexedDBEnvironmentCheck(){return y(function*(){return!!co()&&vc().then(()=>!0).catch(()=>!1)})()}read(){var e=this;return y(function*(){return(yield e._canUseIndexedDBPromise)&&(yield function jX(n){return dE.apply(this,arguments)}(e.app))||{heartbeats:[]}})()}overwrite(e){var t=this;return y(function*(){var r;if(yield t._canUseIndexedDBPromise){const s=yield t.read();return KF(t.app,{lastSentHeartbeatDate:null!==(r=e.lastSentHeartbeatDate)&&void 0!==r?r:s.lastSentHeartbeatDate,heartbeats:e.heartbeats})}})()}add(e){var t=this;return y(function*(){var r;if(yield t._canUseIndexedDBPromise){const s=yield t.read();return KF(t.app,{lastSentHeartbeatDate:null!==(r=e.lastSentHeartbeatDate)&&void 0!==r?r:s.lastSentHeartbeatDate,heartbeats:[...s.heartbeats,...e.heartbeats]})}})()}}function JF(n){return sp(JSON.stringify({version:2,heartbeats:n})).length}!function KX(n){bn(new un("platform-logger",e=>new uX(e),"PRIVATE")),bn(new un("heartbeat",e=>new qX(e),"PRIVATE")),it(aE,"0.7.33",n),it(aE,"0.7.33","esm2017"),it("fire-js","")}(""),it("firebase","9.10.0","app");const ZF="@firebase/installations",fE="0.5.12",eL=`w:${fE}`,tL="FIS_v2",Pi=new ti("installations","Installations",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."});function nL(n){return n instanceof Br&&n.code.includes("request-failed")}function pE({projectId:n}){return`https://firebaseinstallations.googleapis.com/v1/projects/${n}/installations`}function rL(n){return{token:n.token,requestStatus:2,expiresIn:nee(n.expiresIn),creationTime:Date.now()}}function gE(n,e){return mE.apply(this,arguments)}function mE(){return(mE=y(function*(n,e){const r=(yield e.json()).error;return Pi.create("request-failed",{requestName:n,serverCode:r.code,serverMessage:r.message,serverStatus:r.status})})).apply(this,arguments)}function iL({apiKey:n}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":n})}function sL(n,{refreshToken:e}){const t=iL(n);return t.append("Authorization",function ree(n){return`${tL} ${n}`}(e)),t}function yE(n){return _E.apply(this,arguments)}function _E(){return(_E=y(function*(n){const e=yield n();return e.status>=500&&e.status<600?n():e})).apply(this,arguments)}function nee(n){return Number(n.replace("s","000"))}function iee(n,e){return vE.apply(this,arguments)}function vE(){return(vE=y(function*({appConfig:n,heartbeatServiceProvider:e},{fid:t}){const r=pE(n),i=iL(n),s=e.getImmediate({optional:!0});if(s){const l=yield s.getHeartbeatsHeader();l&&i.append("x-firebase-client",l)}const a={method:"POST",headers:i,body:JSON.stringify({fid:t,authVersion:tL,appId:n.appId,sdkVersion:eL})},u=yield yE(()=>fetch(r,a));if(u.ok){const l=yield u.json();return{fid:l.fid||t,registrationStatus:2,refreshToken:l.refreshToken,authToken:rL(l.authToken)}}throw yield gE("Create Installation",u)})).apply(this,arguments)}function oL(n){return new Promise(e=>{setTimeout(e,n)})}const oee=/^[cdef][\w-]{21}$/;function aee(){try{const n=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(n),n[0]=112+n[0]%16;const t=function uee(n){return function see(n){return btoa(String.fromCharCode(...n)).replace(/\+/g,"-").replace(/\//g,"_")}(n).substr(0,22)}(n);return oee.test(t)?t:""}catch{return""}}function iu(n){return`${n.appName}!${n.appId}`}const su=new Map;function aL(n,e){const t=iu(n);uL(t,e),function dee(n,e){const t=function lL(){return!go&&"BroadcastChannel"in self&&(go=new BroadcastChannel("[Firebase] FID Change"),go.onmessage=n=>{uL(n.data.key,n.data.fid)}),go}();t&&t.postMessage({key:n,fid:e}),function cL(){0===su.size&&go&&(go.close(),go=null)}()}(t,e)}function uL(n,e){const t=su.get(n);if(t)for(const r of t)r(e)}let go=null;const mo="firebase-installations-store";let EE=null;function IE(){return EE||(EE=up("firebase-installations-database",1,{upgrade:(n,e)=>{0===e&&n.createObjectStore(mo)}})),EE}function hp(n,e){return bE.apply(this,arguments)}function bE(){return(bE=y(function*(n,e){const t=iu(n),i=(yield IE()).transaction(mo,"readwrite"),s=i.objectStore(mo),o=yield s.get(t);return yield s.put(e,t),yield i.done,(!o||o.fid!==e.fid)&&aL(n,e.fid),e})).apply(this,arguments)}function TE(n){return CE.apply(this,arguments)}function CE(){return(CE=y(function*(n){const e=iu(n),r=(yield IE()).transaction(mo,"readwrite");yield r.objectStore(mo).delete(e),yield r.done})).apply(this,arguments)}function Ec(n,e){return DE.apply(this,arguments)}function DE(){return(DE=y(function*(n,e){const t=iu(n),i=(yield IE()).transaction(mo,"readwrite"),s=i.objectStore(mo),o=yield s.get(t),a=e(o);return void 0===a?yield s.delete(t):yield s.put(a,t),yield i.done,a&&(!o||o.fid!==a.fid)&&aL(n,a.fid),a})).apply(this,arguments)}function SE(n){return AE.apply(this,arguments)}function AE(){return(AE=y(function*(n){let e;const t=yield Ec(n.appConfig,r=>{const i=pee(r),s=gee(n,i);return e=s.registrationPromise,s.installationEntry});return""===t.fid?{installationEntry:yield e}:{installationEntry:t,registrationPromise:e}})).apply(this,arguments)}function pee(n){return hL(n||{fid:aee(),registrationStatus:0})}function gee(n,e){if(0===e.registrationStatus){if(!navigator.onLine)return{installationEntry:e,registrationPromise:Promise.reject(Pi.create("app-offline"))};const t={fid:e.fid,registrationStatus:1,registrationTime:Date.now()},r=function mee(n,e){return ME.apply(this,arguments)}(n,t);return{installationEntry:t,registrationPromise:r}}return 1===e.registrationStatus?{installationEntry:e,registrationPromise:yee(n)}:{installationEntry:e}}function ME(){return(ME=y(function*(n,e){try{const t=yield iee(n,e);return hp(n.appConfig,t)}catch(t){throw nL(t)&&409===t.customData.serverCode?yield TE(n.appConfig):yield hp(n.appConfig,{fid:e.fid,registrationStatus:0}),t}})).apply(this,arguments)}function yee(n){return xE.apply(this,arguments)}function xE(){return(xE=y(function*(n){let e=yield dL(n.appConfig);for(;1===e.registrationStatus;)yield oL(100),e=yield dL(n.appConfig);if(0===e.registrationStatus){const{installationEntry:t,registrationPromise:r}=yield SE(n);return r||t}return e})).apply(this,arguments)}function dL(n){return Ec(n,e=>{if(!e)throw Pi.create("installation-not-found");return hL(e)})}function hL(n){return function _ee(n){return 1===n.registrationStatus&&n.registrationTime+1e4<Date.now()}(n)?{fid:n.fid,registrationStatus:0}:n}function vee(n,e){return NE.apply(this,arguments)}function NE(){return(NE=y(function*({appConfig:n,heartbeatServiceProvider:e},t){const r=wee(n,t),i=sL(n,t),s=e.getImmediate({optional:!0});if(s){const l=yield s.getHeartbeatsHeader();l&&i.append("x-firebase-client",l)}const a={method:"POST",headers:i,body:JSON.stringify({installation:{sdkVersion:eL,appId:n.appId}})},u=yield yE(()=>fetch(r,a));if(u.ok)return rL(yield u.json());throw yield gE("Generate Auth Token",u)})).apply(this,arguments)}function wee(n,{fid:e}){return`${pE(n)}/${e}/authTokens:generate`}function kE(n){return RE.apply(this,arguments)}function RE(){return(RE=y(function*(n,e=!1){let t;const r=yield Ec(n.appConfig,s=>{if(!pL(s))throw Pi.create("not-registered");const o=s.authToken;if(!e&&bee(o))return s;if(1===o.requestStatus)return t=Eee(n,e),s;{if(!navigator.onLine)throw Pi.create("app-offline");const a=Cee(s);return t=Iee(n,a),a}});return t?yield t:r.authToken})).apply(this,arguments)}function Eee(n,e){return PE.apply(this,arguments)}function PE(){return(PE=y(function*(n,e){let t=yield fL(n.appConfig);for(;1===t.authToken.requestStatus;)yield oL(100),t=yield fL(n.appConfig);const r=t.authToken;return 0===r.requestStatus?kE(n,e):r})).apply(this,arguments)}function fL(n){return Ec(n,e=>{if(!pL(e))throw Pi.create("not-registered");return function Dee(n){return 1===n.requestStatus&&n.requestTime+1e4<Date.now()}(e.authToken)?Object.assign(Object.assign({},e),{authToken:{requestStatus:0}}):e})}function Iee(n,e){return OE.apply(this,arguments)}function OE(){return(OE=y(function*(n,e){try{const t=yield vee(n,e),r=Object.assign(Object.assign({},e),{authToken:t});return yield hp(n.appConfig,r),t}catch(t){if(!nL(t)||401!==t.customData.serverCode&&404!==t.customData.serverCode){const r=Object.assign(Object.assign({},e),{authToken:{requestStatus:0}});yield hp(n.appConfig,r)}else yield TE(n.appConfig);throw t}})).apply(this,arguments)}function pL(n){return void 0!==n&&2===n.registrationStatus}function bee(n){return 2===n.requestStatus&&!function Tee(n){const e=Date.now();return e<n.creationTime||n.creationTime+n.expiresIn<e+36e5}(n)}function Cee(n){const e={requestStatus:1,requestTime:Date.now()};return Object.assign(Object.assign({},n),{authToken:e})}function FE(){return(FE=y(function*(n){const e=n,{installationEntry:t,registrationPromise:r}=yield SE(e);return r?r.catch(console.error):kE(e).catch(console.error),t.fid})).apply(this,arguments)}function LE(){return(LE=y(function*(n,e=!1){const t=n;return yield Mee(t),(yield kE(t,e)).token})).apply(this,arguments)}function Mee(n){return VE.apply(this,arguments)}function VE(){return(VE=y(function*(n){const{registrationPromise:e}=yield SE(n);e&&(yield e)})).apply(this,arguments)}function $E(n){return Pi.create("missing-app-config-values",{valueName:n})}const gL="installations",Pee=n=>{const e=n.getProvider("app").getImmediate(),t=function kee(n){if(!n||!n.options)throw $E("App Configuration");if(!n.name)throw $E("App Name");const e=["projectId","apiKey","appId"];for(const t of e)if(!n.options[t])throw $E(t);return{appName:n.name,projectId:n.options.projectId,apiKey:n.options.apiKey,appId:n.options.appId}}(e);return{app:e,appConfig:t,heartbeatServiceProvider:cp(e,"heartbeat"),_delete:()=>Promise.resolve()}},Oee=n=>{const t=cp(n.getProvider("app").getImmediate(),gL).getImmediate();return{getId:()=>function See(n){return FE.apply(this,arguments)}(t),getToken:i=>function Aee(n){return LE.apply(this,arguments)}(t,i)}};(function Fee(){bn(new un(gL,Pee,"PUBLIC")),bn(new un("installations-internal",Oee,"PRIVATE"))})(),it(ZF,fE),it(ZF,fE,"esm2017");const jE="@firebase/remote-config",Pn=new ti("remoteconfig","Remote Config",{"registration-window":"Undefined window object. This SDK only supports usage in a browser environment.","registration-project-id":"Undefined project identifier. Check Firebase app initialization.","registration-api-key":"Undefined API key. Check Firebase app initialization.","registration-app-id":"Undefined app identifier. Check Firebase app initialization.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","storage-delete":"Error thrown when deleting from storage. Original error: {$originalErrorMessage}.","fetch-client-network":"Fetch client failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-timeout":'The config fetch request timed out.  Configure timeout using "fetchTimeoutMillis" SDK setting.',"fetch-throttle":'The config fetch request timed out while in an exponential backoff state. Configure timeout using "fetchTimeoutMillis" SDK setting. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.',"fetch-client-parse":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","indexed-db-unavailable":"Indexed DB is not supported by current browser"});class Wee{constructor(e,t,r,i){this.client=e,this.storage=t,this.storageCache=r,this.logger=i}isCachedDataFresh(e,t){if(!t)return this.logger.debug("Config fetch cache check. Cache unpopulated."),!1;const r=Date.now()-t,i=r<=e;return this.logger.debug(`Config fetch cache check. Cache age millis: ${r}. Cache max age millis (minimumFetchIntervalMillis setting): ${e}. Is cache hit: ${i}.`),i}fetch(e){var t=this;return y(function*(){const[r,i]=yield Promise.all([t.storage.getLastSuccessfulFetchTimestampMillis(),t.storage.getLastSuccessfulFetchResponse()]);if(i&&t.isCachedDataFresh(e.cacheMaxAgeMillis,r))return i;e.eTag=i&&i.eTag;const s=yield t.client.fetch(e),o=[t.storageCache.setLastSuccessfulFetchTimestampMillis(Date.now())];return 200===s.status&&o.push(t.storage.setLastSuccessfulFetchResponse(s)),yield Promise.all(o),s})()}}function Kee(n=navigator){return n.languages&&n.languages[0]||n.language}class Qee{constructor(e,t,r,i,s,o){this.firebaseInstallations=e,this.sdkVersion=t,this.namespace=r,this.projectId=i,this.apiKey=s,this.appId=o}fetch(e){var t=this;return y(function*(){var r,i,s;const[o,a]=yield Promise.all([t.firebaseInstallations.getId(),t.firebaseInstallations.getToken()]),l=`${window.FIREBASE_REMOTE_CONFIG_URL_BASE||"https://firebaseremoteconfig.googleapis.com"}/v1/projects/${t.projectId}/namespaces/${t.namespace}:fetch?key=${t.apiKey}`,c={"Content-Type":"application/json","Content-Encoding":"gzip","If-None-Match":e.eTag||"*"},d={sdk_version:t.sdkVersion,app_instance_id:o,app_instance_id_token:a,app_id:t.appId,language_code:Kee()},h={method:"POST",headers:c,body:JSON.stringify(d)},f=fetch(l,h),p=new Promise((C,x)=>{e.signal.addEventListener(()=>{const F=new Error("The operation was aborted.");F.name="AbortError",x(F)})});let g;try{yield Promise.race([f,p]),g=yield f}catch(C){let x="fetch-client-network";throw"AbortError"===(null===(r=C)||void 0===r?void 0:r.name)&&(x="fetch-timeout"),Pn.create(x,{originalErrorMessage:null===(i=C)||void 0===i?void 0:i.message})}let m=g.status;const _=g.headers.get("ETag")||void 0;let I,v;if(200===g.status){let C;try{C=yield g.json()}catch(x){throw Pn.create("fetch-client-parse",{originalErrorMessage:null===(s=x)||void 0===s?void 0:s.message})}I=C.entries,v=C.state}if("INSTANCE_STATE_UNSPECIFIED"===v?m=500:"NO_CHANGE"===v?m=304:("NO_TEMPLATE"===v||"EMPTY_CONFIG"===v)&&(I={}),304!==m&&200!==m)throw Pn.create("fetch-status",{httpStatus:m});return{status:m,eTag:_,config:I}})()}}class Zee{constructor(e,t){this.client=e,this.storage=t}fetch(e){var t=this;return y(function*(){const r=(yield t.storage.getThrottleMetadata())||{backoffCount:0,throttleEndTimeMillis:Date.now()};return t.attemptFetch(e,r)})()}attemptFetch(e,{throttleEndTimeMillis:t,backoffCount:r}){var i=this;return y(function*(){yield function Yee(n,e){return new Promise((t,r)=>{const i=Math.max(e-Date.now(),0),s=setTimeout(t,i);n.addEventListener(()=>{clearTimeout(s),r(Pn.create("fetch-throttle",{throttleEndTimeMillis:e}))})})}(e.signal,t);try{const s=yield i.client.fetch(e);return yield i.storage.deleteThrottleMetadata(),s}catch(s){if(!function Jee(n){if(!(n instanceof Br&&n.customData))return!1;const e=Number(n.customData.httpStatus);return 429===e||500===e||503===e||504===e}(s))throw s;const o={throttleEndTimeMillis:Date.now()+Zw(r),backoffCount:r+1};return yield i.storage.setThrottleMetadata(o),i.attemptFetch(e,o)}})()}}class tte{constructor(e,t,r,i,s){this.app=e,this._client=t,this._storageCache=r,this._storage=i,this._logger=s,this._isInitializationComplete=!1,this.settings={fetchTimeoutMillis:6e4,minimumFetchIntervalMillis:432e5},this.defaultConfig={}}get fetchTimeMillis(){return this._storageCache.getLastSuccessfulFetchTimestampMillis()||-1}get lastFetchStatus(){return this._storageCache.getLastFetchStatus()||"no-fetch-yet"}}function pp(n,e){var t;const r=n.target.error||void 0;return Pn.create(e,{originalErrorMessage:r&&(null===(t=r)||void 0===t?void 0:t.message)})}const yo="app_namespace_store";class ste{constructor(e,t,r,i=function ite(){return new Promise((n,e)=>{var t;try{const r=indexedDB.open("firebase_remote_config",1);r.onerror=i=>{e(pp(i,"storage-open"))},r.onsuccess=i=>{n(i.target.result)},r.onupgradeneeded=i=>{0===i.oldVersion&&i.target.result.createObjectStore(yo,{keyPath:"compositeKey"})}}catch(r){e(Pn.create("storage-open",{originalErrorMessage:null===(t=r)||void 0===t?void 0:t.message}))}})}()){this.appId=e,this.appName=t,this.namespace=r,this.openDbPromise=i}getLastFetchStatus(){return this.get("last_fetch_status")}setLastFetchStatus(e){return this.set("last_fetch_status",e)}getLastSuccessfulFetchTimestampMillis(){return this.get("last_successful_fetch_timestamp_millis")}setLastSuccessfulFetchTimestampMillis(e){return this.set("last_successful_fetch_timestamp_millis",e)}getLastSuccessfulFetchResponse(){return this.get("last_successful_fetch_response")}setLastSuccessfulFetchResponse(e){return this.set("last_successful_fetch_response",e)}getActiveConfig(){return this.get("active_config")}setActiveConfig(e){return this.set("active_config",e)}getActiveConfigEtag(){return this.get("active_config_etag")}setActiveConfigEtag(e){return this.set("active_config_etag",e)}getThrottleMetadata(){return this.get("throttle_metadata")}setThrottleMetadata(e){return this.set("throttle_metadata",e)}deleteThrottleMetadata(){return this.delete("throttle_metadata")}get(e){var t=this;return y(function*(){const r=yield t.openDbPromise;return new Promise((i,s)=>{var o;const u=r.transaction([yo],"readonly").objectStore(yo),l=t.createCompositeKey(e);try{const c=u.get(l);c.onerror=d=>{s(pp(d,"storage-get"))},c.onsuccess=d=>{const h=d.target.result;i(h?h.value:void 0)}}catch(c){s(Pn.create("storage-get",{originalErrorMessage:null===(o=c)||void 0===o?void 0:o.message}))}})})()}set(e,t){var r=this;return y(function*(){const i=yield r.openDbPromise;return new Promise((s,o)=>{var a;const l=i.transaction([yo],"readwrite").objectStore(yo),c=r.createCompositeKey(e);try{const d=l.put({compositeKey:c,value:t});d.onerror=h=>{o(pp(h,"storage-set"))},d.onsuccess=()=>{s()}}catch(d){o(Pn.create("storage-set",{originalErrorMessage:null===(a=d)||void 0===a?void 0:a.message}))}})})()}delete(e){var t=this;return y(function*(){const r=yield t.openDbPromise;return new Promise((i,s)=>{var o;const u=r.transaction([yo],"readwrite").objectStore(yo),l=t.createCompositeKey(e);try{const c=u.delete(l);c.onerror=d=>{s(pp(d,"storage-delete"))},c.onsuccess=()=>{i()}}catch(c){s(Pn.create("storage-delete",{originalErrorMessage:null===(o=c)||void 0===o?void 0:o.message}))}})})()}createCompositeKey(e){return[this.appId,this.appName,this.namespace,e].join()}}class ote{constructor(e){this.storage=e}getLastFetchStatus(){return this.lastFetchStatus}getLastSuccessfulFetchTimestampMillis(){return this.lastSuccessfulFetchTimestampMillis}getActiveConfig(){return this.activeConfig}loadFromStorage(){var e=this;return y(function*(){const t=e.storage.getLastFetchStatus(),r=e.storage.getLastSuccessfulFetchTimestampMillis(),i=e.storage.getActiveConfig(),s=yield t;s&&(e.lastFetchStatus=s);const o=yield r;o&&(e.lastSuccessfulFetchTimestampMillis=o);const a=yield i;a&&(e.activeConfig=a)})()}setLastFetchStatus(e){return this.lastFetchStatus=e,this.storage.setLastFetchStatus(e)}setLastSuccessfulFetchTimestampMillis(e){return this.lastSuccessfulFetchTimestampMillis=e,this.storage.setLastSuccessfulFetchTimestampMillis(e)}setActiveConfig(e){return this.activeConfig=e,this.storage.setActiveConfig(e)}}function ute(){return WE.apply(this,arguments)}function WE(){return(WE=y(function*(){if(!co())return!1;try{return yield vc()}catch{return!1}})).apply(this,arguments)}!function ate(){bn(new un("remote-config",function n(e,{instanceIdentifier:t}){const r=e.getProvider("app").getImmediate(),i=e.getProvider("installations-internal").getImmediate();if(typeof window>"u")throw Pn.create("registration-window");if(!co())throw Pn.create("indexed-db-unavailable");const{projectId:s,apiKey:o,appId:a}=r.options;if(!s)throw Pn.create("registration-project-id");if(!o)throw Pn.create("registration-api-key");if(!a)throw Pn.create("registration-app-id");const u=new ste(a,r.name,t=t||"firebase"),l=new ote(u),c=new ru(jE);c.logLevel=_e.ERROR;const d=new Qee(i,dp,t,s,o,a),h=new Zee(d,u),f=new Wee(h,u,l,c),p=new tte(r,f,l,u,c);return function Gee(n){const e=Er(n);e._initializePromise||(e._initializePromise=e._storageCache.loadFromStorage().then(()=>{e._isInitializationComplete=!0}))}(p),p},"PUBLIC").setMultipleInstances(!0)),it(jE,"0.3.11"),it(jE,"0.3.11","esm2017")}();const lte="/firebase-messaging-sw.js",cte="/firebase-cloud-messaging-push-scope",vL="BDOU99-h67HcA6JeFXHbSNMu7e2yNNu3RzoMj8TM4W88jITfq7ZmPvIM1Iv-4_l2LxQcYwhqby2xGpWwzjfAnG4",wL="google.c.a.c_id",hte="google.c.a.c_l",fte="google.c.a.ts",pte="google.c.a.e";var ou=(()=>{return(n=ou||(ou={})).PUSH_RECEIVED="push-received",n.NOTIFICATION_CLICKED="notification-clicked",ou;var n})();function Oi(n){const e=new Uint8Array(n);return btoa(String.fromCharCode(...e)).replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")}function gte(n){const t=(n+"=".repeat((4-n.length%4)%4)).replace(/\-/g,"+").replace(/_/g,"/"),r=atob(t),i=new Uint8Array(r.length);for(let s=0;s<r.length;++s)i[s]=r.charCodeAt(s);return i}const KE="fcm_token_details_db",EL="fcm_token_object_Store";function yte(n){return QE.apply(this,arguments)}function QE(){return QE=y(function*(n){if("databases"in indexedDB&&!(yield indexedDB.databases()).map(s=>s.name).includes(KE))return null;let e=null;return(yield up(KE,5,{upgrade:(r=y(function*(i,s,o,a){var u;if(s<2||!i.objectStoreNames.contains(EL))return;const l=a.objectStore(EL),c=yield l.index("fcmSenderId").get(n);if(yield l.clear(),c)if(2===s){const d=c;if(!d.auth||!d.p256dh||!d.endpoint)return;e={token:d.fcmToken,createTime:null!==(u=d.createTime)&&void 0!==u?u:Date.now(),subscriptionOptions:{auth:d.auth,p256dh:d.p256dh,endpoint:d.endpoint,swScope:d.swScope,vapidKey:"string"==typeof d.vapidKey?d.vapidKey:Oi(d.vapidKey)}}}else if(3===s){const d=c;e={token:d.fcmToken,createTime:d.createTime,subscriptionOptions:{auth:Oi(d.auth),p256dh:Oi(d.p256dh),endpoint:d.endpoint,swScope:d.swScope,vapidKey:Oi(d.vapidKey)}}}else if(4===s){const d=c;e={token:d.fcmToken,createTime:d.createTime,subscriptionOptions:{auth:Oi(d.auth),p256dh:Oi(d.p256dh),endpoint:d.endpoint,swScope:d.swScope,vapidKey:Oi(d.vapidKey)}}}}),function(s,o,a,u){return r.apply(this,arguments)})})).close(),yield sE(KE),yield sE("fcm_vapid_details_db"),yield sE("undefined"),_te(e)?e:null;var r}),QE.apply(this,arguments)}function _te(n){if(!n||!n.subscriptionOptions)return!1;const{subscriptionOptions:e}=n;return"number"==typeof n.createTime&&n.createTime>0&&"string"==typeof n.token&&n.token.length>0&&"string"==typeof e.auth&&e.auth.length>0&&"string"==typeof e.p256dh&&e.p256dh.length>0&&"string"==typeof e.endpoint&&e.endpoint.length>0&&"string"==typeof e.swScope&&e.swScope.length>0&&"string"==typeof e.vapidKey&&e.vapidKey.length>0}const _o="firebase-messaging-store";let YE=null;function JE(){return YE||(YE=up("firebase-messaging-database",1,{upgrade:(n,e)=>{0===e&&n.createObjectStore(_o)}})),YE}function IL(n){return ZE.apply(this,arguments)}function ZE(){return(ZE=y(function*(n){const e=nI(n),r=yield(yield JE()).transaction(_o).objectStore(_o).get(e);if(r)return r;{const i=yield yte(n.appConfig.senderId);if(i)return yield XE(n,i),i}})).apply(this,arguments)}function XE(n,e){return eI.apply(this,arguments)}function eI(){return(eI=y(function*(n,e){const t=nI(n),i=(yield JE()).transaction(_o,"readwrite");return yield i.objectStore(_o).put(e,t),yield i.done,e})).apply(this,arguments)}function Ete(n){return tI.apply(this,arguments)}function tI(){return(tI=y(function*(n){const e=nI(n),r=(yield JE()).transaction(_o,"readwrite");yield r.objectStore(_o).delete(e),yield r.done})).apply(this,arguments)}function nI({appConfig:n}){return n.appId}const zt=new ti("messaging","Messaging",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"only-available-in-window":"This method is available in a Window context.","only-available-in-sw":"This method is available in a service worker context.","permission-default":"The notification permission was not granted and dismissed instead.","permission-blocked":"The notification permission was not granted and blocked instead.","unsupported-browser":"This browser doesn't support the API's required to use the Firebase SDK.","indexed-db-unsupported":"This browser doesn't support indexedDb.open() (ex. Safari iFrame, Firefox Private Browsing, etc)","failed-service-worker-registration":"We are unable to register the default service worker. {$browserErrorMessage}","token-subscribe-failed":"A problem occurred while subscribing the user to FCM: {$errorInfo}","token-subscribe-no-token":"FCM returned no token when subscribing the user to push.","token-unsubscribe-failed":"A problem occurred while unsubscribing the user from FCM: {$errorInfo}","token-update-failed":"A problem occurred while updating the user from FCM: {$errorInfo}","token-update-no-token":"FCM returned no token when updating the user to push.","use-sw-after-get-token":"The useServiceWorker() method may only be called once and must be called before calling getToken() to ensure your service worker is used.","invalid-sw-registration":"The input to useServiceWorker() must be a ServiceWorkerRegistration.","invalid-bg-handler":"The input to setBackgroundMessageHandler() must be a function.","invalid-vapid-key":"The public VAPID key must be a string.","use-vapid-key-after-get-token":"The usePublicVapidKey() method may only be called once and must be called before calling getToken() to ensure your VAPID key is used."});function bte(n,e){return rI.apply(this,arguments)}function rI(){return(rI=y(function*(n,e){var t;const r=yield aI(n),i=TL(e),s={method:"POST",headers:r,body:JSON.stringify(i)};let o;try{o=yield(yield fetch(oI(n.appConfig),s)).json()}catch(a){throw zt.create("token-subscribe-failed",{errorInfo:null===(t=a)||void 0===t?void 0:t.toString()})}if(o.error)throw zt.create("token-subscribe-failed",{errorInfo:o.error.message});if(!o.token)throw zt.create("token-subscribe-no-token");return o.token})).apply(this,arguments)}function Tte(n,e){return iI.apply(this,arguments)}function iI(){return(iI=y(function*(n,e){var t;const r=yield aI(n),i=TL(e.subscriptionOptions),s={method:"PATCH",headers:r,body:JSON.stringify(i)};let o;try{o=yield(yield fetch(`${oI(n.appConfig)}/${e.token}`,s)).json()}catch(a){throw zt.create("token-update-failed",{errorInfo:null===(t=a)||void 0===t?void 0:t.toString()})}if(o.error)throw zt.create("token-update-failed",{errorInfo:o.error.message});if(!o.token)throw zt.create("token-update-no-token");return o.token})).apply(this,arguments)}function bL(n,e){return sI.apply(this,arguments)}function sI(){return(sI=y(function*(n,e){var t;const i={method:"DELETE",headers:yield aI(n)};try{const o=yield(yield fetch(`${oI(n.appConfig)}/${e}`,i)).json();if(o.error)throw zt.create("token-unsubscribe-failed",{errorInfo:o.error.message})}catch(s){throw zt.create("token-unsubscribe-failed",{errorInfo:null===(t=s)||void 0===t?void 0:t.toString()})}})).apply(this,arguments)}function oI({projectId:n}){return`https://fcmregistrations.googleapis.com/v1/projects/${n}/registrations`}function aI(n){return uI.apply(this,arguments)}function uI(){return(uI=y(function*({appConfig:n,installations:e}){const t=yield e.getToken();return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":n.apiKey,"x-goog-firebase-installations-auth":`FIS ${t}`})})).apply(this,arguments)}function TL({p256dh:n,auth:e,endpoint:t,vapidKey:r}){const i={web:{endpoint:t,auth:e,p256dh:n}};return r!==vL&&(i.web.applicationPubKey=r),i}function Dte(n){return lI.apply(this,arguments)}function lI(){return(lI=y(function*(n){const e=yield Ate(n.swRegistration,n.vapidKey),t={vapidKey:n.vapidKey,swScope:n.swRegistration.scope,endpoint:e.endpoint,auth:Oi(e.getKey("auth")),p256dh:Oi(e.getKey("p256dh"))},r=yield IL(n.firebaseDependencies);if(r){if(Mte(r.subscriptionOptions,t))return Date.now()>=r.createTime+6048e5?Ste(n,{token:r.token,createTime:Date.now(),subscriptionOptions:t}):r.token;try{yield bL(n.firebaseDependencies,r.token)}catch(i){console.warn(i)}return DL(n.firebaseDependencies,t)}return DL(n.firebaseDependencies,t)})).apply(this,arguments)}function CL(n){return cI.apply(this,arguments)}function cI(){return(cI=y(function*(n){const e=yield IL(n.firebaseDependencies);e&&(yield bL(n.firebaseDependencies,e.token),yield Ete(n.firebaseDependencies));const t=yield n.swRegistration.pushManager.getSubscription();return!t||t.unsubscribe()})).apply(this,arguments)}function Ste(n,e){return dI.apply(this,arguments)}function dI(){return(dI=y(function*(n,e){try{const t=yield Tte(n.firebaseDependencies,e),r=Object.assign(Object.assign({},e),{token:t,createTime:Date.now()});return yield XE(n.firebaseDependencies,r),t}catch(t){throw yield CL(n),t}})).apply(this,arguments)}function DL(n,e){return hI.apply(this,arguments)}function hI(){return(hI=y(function*(n,e){const r={token:yield bte(n,e),createTime:Date.now(),subscriptionOptions:e};return yield XE(n,r),r.token})).apply(this,arguments)}function Ate(n,e){return fI.apply(this,arguments)}function fI(){return(fI=y(function*(n,e){return(yield n.pushManager.getSubscription())||n.pushManager.subscribe({userVisibleOnly:!0,applicationServerKey:gte(e)})})).apply(this,arguments)}function Mte(n,e){return e.vapidKey===n.vapidKey&&e.endpoint===n.endpoint&&e.auth===n.auth&&e.p256dh===n.p256dh}function SL(n){const e={from:n.from,collapseKey:n.collapse_key,messageId:n.fcmMessageId};return function xte(n,e){if(!e.notification)return;n.notification={};const t=e.notification.title;t&&(n.notification.title=t);const r=e.notification.body;r&&(n.notification.body=r);const i=e.notification.image;i&&(n.notification.image=i)}(e,n),function Nte(n,e){!e.data||(n.data=e.data)}(e,n),function kte(n,e){var t,r,i,s,o;if(!(e.fcmOptions||null!==(t=e.notification)&&void 0!==t&&t.click_action))return;n.fcmOptions={};const a=null!==(i=null===(r=e.fcmOptions)||void 0===r?void 0:r.link)&&void 0!==i?i:null===(s=e.notification)||void 0===s?void 0:s.click_action;a&&(n.fcmOptions.link=a);const u=null===(o=e.fcmOptions)||void 0===o?void 0:o.analytics_label;u&&(n.fcmOptions.analyticsLabel=u)}(e,n),e}function Rte(n){return"object"==typeof n&&!!n&&wL in n}function AL(n,e){const t=[];for(let r=0;r<n.length;r++)t.push(n.charAt(r)),r<e.length&&t.push(e.charAt(r));return t.join("")}function pI(n){return zt.create("missing-app-config-values",{valueName:n})}AL("hts/frbslgigp.ogepscmv/ieo/eaylg","tp:/ieaeogn-agolai.o/1frlglgc/o"),AL("AzSCbw63g1R0nCw85jG8","Iaya3yLKwmgvh7cF0q4");class Ote{constructor(e,t,r){this.deliveryMetricsExportedToBigQueryEnabled=!1,this.onBackgroundMessageHandler=null,this.onMessageHandler=null,this.logEvents=[],this.isLogServiceStarted=!1;const i=function Pte(n){if(!n||!n.options)throw pI("App Configuration Object");if(!n.name)throw pI("App Name");const e=["projectId","apiKey","appId","messagingSenderId"],{options:t}=n;for(const r of e)if(!t[r])throw pI(r);return{appName:n.name,projectId:t.projectId,apiKey:t.apiKey,appId:t.appId,senderId:t.messagingSenderId}}(e);this.firebaseDependencies={app:e,appConfig:i,installations:t,analyticsProvider:r}}_delete(){return Promise.resolve()}}function ML(n){return gI.apply(this,arguments)}function gI(){return(gI=y(function*(n){var e;try{n.swRegistration=yield navigator.serviceWorker.register(lte,{scope:cte}),n.swRegistration.update().catch(()=>{})}catch(t){throw zt.create("failed-service-worker-registration",{browserErrorMessage:null===(e=t)||void 0===e?void 0:e.message})}})).apply(this,arguments)}function Fte(n,e){return mI.apply(this,arguments)}function mI(){return(mI=y(function*(n,e){if(!e&&!n.swRegistration&&(yield ML(n)),e||!n.swRegistration){if(!(e instanceof ServiceWorkerRegistration))throw zt.create("invalid-sw-registration");n.swRegistration=e}})).apply(this,arguments)}function Lte(n,e){return yI.apply(this,arguments)}function yI(){return(yI=y(function*(n,e){e?n.vapidKey=e:n.vapidKey||(n.vapidKey=vL)})).apply(this,arguments)}function _I(){return(_I=y(function*(n,e){if(!navigator)throw zt.create("only-available-in-window");if("default"===Notification.permission&&(yield Notification.requestPermission()),"granted"!==Notification.permission)throw zt.create("permission-blocked");return yield Lte(n,e?.vapidKey),yield Fte(n,e?.serviceWorkerRegistration),Dte(n)})).apply(this,arguments)}function Vte(n,e,t){return vI.apply(this,arguments)}function vI(){return(vI=y(function*(n,e,t){const r=Ute(e);(yield n.firebaseDependencies.analyticsProvider.get()).logEvent(r,{message_id:t[wL],message_name:t[hte],message_time:t[fte],message_device_time:Math.floor(Date.now()/1e3)})})).apply(this,arguments)}function Ute(n){switch(n){case ou.NOTIFICATION_CLICKED:return"notification_open";case ou.PUSH_RECEIVED:return"notification_foreground";default:throw new Error}}function wI(){return(wI=y(function*(n,e){const t=e.data;if(!t.isFirebaseMessaging)return;n.onMessageHandler&&t.messageType===ou.PUSH_RECEIVED&&("function"==typeof n.onMessageHandler?n.onMessageHandler(SL(t)):n.onMessageHandler.next(SL(t)));const r=t.data;Rte(r)&&"1"===r[pte]&&(yield Vte(n,t.messageType,r))})).apply(this,arguments)}const NL="@firebase/messaging",$te=n=>{const e=new Ote(n.getProvider("app").getImmediate(),n.getProvider("installations-internal").getImmediate(),n.getProvider("analytics-internal"));return navigator.serviceWorker.addEventListener("message",t=>function Bte(n,e){return wI.apply(this,arguments)}(e,t)),e},jte=n=>{const e=n.getProvider("messaging").getImmediate();return{getToken:r=>function xL(n,e){return _I.apply(this,arguments)}(e,r)}};function RL(){return EI.apply(this,arguments)}function EI(){return(EI=y(function*(){try{yield vc()}catch{return!1}return typeof window<"u"&&co()&&Kw()&&"serviceWorker"in navigator&&"PushManager"in window&&"Notification"in window&&"fetch"in window&&ServiceWorkerRegistration.prototype.hasOwnProperty("showNotification")&&PushSubscription.prototype.hasOwnProperty("getKey")})).apply(this,arguments)}!function Hte(){bn(new un("messaging",$te,"PUBLIC")),bn(new un("messaging-internal",jte,"PRIVATE")),it(NL,"0.9.16"),it(NL,"0.9.16","esm2017")}();const gp="analytics",zte="firebase_id",Qte="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",PL="https://www.googletagmanager.com/gtag/js",Wt=new ru("@firebase/analytics");function OL(n){return Promise.all(n.map(e=>e.catch(t=>t)))}function Yte(n,e){const t=document.createElement("script");t.src=`${PL}?l=${n}&id=${e}`,t.async=!0,document.head.appendChild(t)}function Zte(n,e,t,r,i,s){return TI.apply(this,arguments)}function TI(){return(TI=y(function*(n,e,t,r,i,s){const o=r[i];try{if(o)yield e[o];else{const u=(yield OL(t)).find(l=>l.measurementId===i);u&&(yield e[u.appId])}}catch(a){Wt.error(a)}n("config",i,s)})).apply(this,arguments)}function Xte(n,e,t,r,i){return CI.apply(this,arguments)}function CI(){return(CI=y(function*(n,e,t,r,i){try{let s=[];if(i&&i.send_to){let o=i.send_to;Array.isArray(o)||(o=[o]);const a=yield OL(t);for(const u of o){const l=a.find(d=>d.measurementId===u),c=l&&e[l.appId];if(!c){s=[];break}s.push(c)}}0===s.length&&(s=Object.values(e)),yield Promise.all(s),n("event",r,i||{})}catch(s){Wt.error(s)}})).apply(this,arguments)}function nne(){const n=window.document.getElementsByTagName("script");for(const e of Object.values(n))if(e.src&&e.src.includes(PL))return e;return null}const sr=new ti("analytics","Analytics",{"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-intialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.'}),FL=new class one{constructor(e={},t=1e3){this.throttleMetadata=e,this.intervalMillis=t}getThrottleMetadata(e){return this.throttleMetadata[e]}setThrottleMetadata(e,t){this.throttleMetadata[e]=t}deleteThrottleMetadata(e){delete this.throttleMetadata[e]}};function ane(n){return new Headers({Accept:"application/json","x-goog-api-key":n})}function une(n){return DI.apply(this,arguments)}function DI(){return(DI=y(function*(n){var e;const{appId:t,apiKey:r}=n,i={method:"GET",headers:ane(r)},s=Qte.replace("{app-id}",t),o=yield fetch(s,i);if(200!==o.status&&304!==o.status){let a="";try{const u=yield o.json();null!==(e=u.error)&&void 0!==e&&e.message&&(a=u.error.message)}catch{}throw sr.create("config-fetch-failed",{httpStatus:o.status,responseMessage:a})}return o.json()})).apply(this,arguments)}function lne(n){return SI.apply(this,arguments)}function SI(){return(SI=y(function*(n,e=FL,t){const{appId:r,apiKey:i,measurementId:s}=n.options;if(!r)throw sr.create("no-app-id");if(!i){if(s)return{measurementId:s,appId:r};throw sr.create("no-api-key")}const o=e.getThrottleMetadata(r)||{backoffCount:0,throttleEndTimeMillis:Date.now()},a=new hne;return setTimeout(y(function*(){a.abort()}),void 0!==t?t:6e4),LL({appId:r,apiKey:i,measurementId:s},o,a,e)})).apply(this,arguments)}function LL(n,e,t){return AI.apply(this,arguments)}function AI(){return(AI=y(function*(n,{throttleEndTimeMillis:e,backoffCount:t},r,i=FL){var s,o;const{appId:a,measurementId:u}=n;try{yield cne(r,e)}catch(l){if(u)return Wt.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${u} provided in the "measurementId" field in the local Firebase config. [${null===(s=l)||void 0===s?void 0:s.message}]`),{appId:a,measurementId:u};throw l}try{const l=yield une(n);return i.deleteThrottleMetadata(a),l}catch(l){const c=l;if(!dne(c)){if(i.deleteThrottleMetadata(a),u)return Wt.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${u} provided in the "measurementId" field in the local Firebase config. [${c?.message}]`),{appId:a,measurementId:u};throw l}const d=503===Number(null===(o=c?.customData)||void 0===o?void 0:o.httpStatus)?Zw(t,i.intervalMillis,30):Zw(t,i.intervalMillis),h={throttleEndTimeMillis:Date.now()+d,backoffCount:t+1};return i.setThrottleMetadata(a,h),Wt.debug(`Calling attemptFetch again in ${d} millis`),LL(n,h,r,i)}})).apply(this,arguments)}function cne(n,e){return new Promise((t,r)=>{const i=Math.max(e-Date.now(),0),s=setTimeout(t,i);n.addEventListener(()=>{clearTimeout(s),r(sr.create("fetch-throttle",{throttleEndTimeMillis:e}))})})}function dne(n){if(!(n instanceof Br&&n.customData))return!1;const e=Number(n.customData.httpStatus);return 429===e||500===e||503===e||504===e}class hne{constructor(){this.listeners=[]}addEventListener(e){this.listeners.push(e)}abort(){this.listeners.forEach(e=>e())}}let MI,OI;function xI(){return(xI=y(function*(n,e,t,r,i){if(i&&i.global)n("event",t,r);else{const s=yield e;n("event",t,Object.assign(Object.assign({},r),{send_to:s}))}})).apply(this,arguments)}function VL(n){OI=n}function UL(n){MI=n}function _ne(){return FI.apply(this,arguments)}function FI(){return(FI=y(function*(){var n;if(!co())return Wt.warn(sr.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;try{yield vc()}catch(e){return Wt.warn(sr.create("indexeddb-unavailable",{errorInfo:null===(n=e)||void 0===n?void 0:n.toString()}).message),!1}return!0})).apply(this,arguments)}function LI(){return(LI=y(function*(n,e,t,r,i,s,o){var a;const u=lne(n);u.then(f=>{t[f.measurementId]=f.appId,n.options.measurementId&&f.measurementId!==n.options.measurementId&&Wt.warn(`The measurement ID in the local Firebase config (${n.options.measurementId}) does not match the measurement ID fetched from the server (${f.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(f=>Wt.error(f)),e.push(u);const l=_ne().then(f=>{if(f)return r.getId()}),[c,d]=yield Promise.all([u,l]);nne()||Yte(s,c.measurementId),OI&&(i("consent","default",OI),VL(void 0)),i("js",new Date);const h=null!==(a=o?.config)&&void 0!==a?a:{};return h.origin="firebase",h.update=!0,null!=d&&(h[zte]=d),i("config",c.measurementId,h),MI&&(i("set",MI),UL(void 0)),c.measurementId})).apply(this,arguments)}class wne{constructor(e){this.app=e}_delete(){return delete Fi[this.app.options.appId],Promise.resolve()}}let Fi={},BL=[];const $L={};let HL,Li,mp="dataLayer",VI=!1;function Ine(n,e,t){!function Ene(){const n=[];if(Ww()&&n.push("This is a browser extension environment."),Kw()||n.push("Cookies are not available."),n.length>0){const e=n.map((r,i)=>`(${i+1}) ${r}`).join(" "),t=sr.create("invalid-analytics-context",{errorInfo:e});Wt.warn(t.message)}}();const r=n.options.appId;if(!r)throw sr.create("no-app-id");if(!n.options.apiKey){if(!n.options.measurementId)throw sr.create("no-api-key");Wt.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${n.options.measurementId} provided in the "measurementId" field in the local Firebase config.`)}if(null!=Fi[r])throw sr.create("already-exists",{id:r});if(!VI){!function Jte(n){let e=[];Array.isArray(window[n])?e=window[n]:window[n]=e}(mp);const{wrappedGtag:s,gtagCore:o}=function tne(n,e,t,r,i){let s=function(...o){window[r].push(arguments)};return window[i]&&"function"==typeof window[i]&&(s=window[i]),window[i]=function ene(n,e,t,r){function s(){return(s=y(function*(o,a,u){try{"event"===o?yield Xte(n,e,t,a,u):"config"===o?yield Zte(n,e,t,r,a,u):"consent"===o?n("consent","update",u):n("set",a)}catch(l){Wt.error(l)}})).apply(this,arguments)}return function i(o,a,u){return s.apply(this,arguments)}}(s,n,e,t),{gtagCore:s,wrappedGtag:window[i]}}(Fi,BL,$L,mp,"gtag");Li=s,HL=o,VI=!0}return Fi[r]=function vne(n,e,t,r,i,s,o){return LI.apply(this,arguments)}(n,BL,$L,e,HL,mp,t),new wne(n)}function Tne(){return UI.apply(this,arguments)}function UI(){return(UI=y(function*(){if(Ww()||!Kw()||!co())return!1;try{return yield vc()}catch{return!1}})).apply(this,arguments)}const GL="@firebase/analytics";!function Dne(){bn(new un(gp,(e,{options:t})=>Ine(e.getProvider("app").getImmediate(),e.getProvider("installations-internal").getImmediate(),t),"PUBLIC")),bn(new un("analytics-internal",function n(e){try{const t=e.getProvider(gp).getImmediate();return{logEvent:(r,i,s)=>function Cne(n,e,t,r){n=Er(n),function fne(n,e,t,r,i){return xI.apply(this,arguments)}(Li,Fi[n.app.options.appId],e,t,r).catch(i=>Wt.error(i))}(t,r,i,s)}}catch(t){throw sr.create("interop-component-reg-failed",{reason:t})}},"PRIVATE")),it(GL,"0.8.0"),it(GL,"0.8.0","esm2017")}();const Mne=new class Ane extends sO{}(class Sne extends rO{constructor(e,t){super(e,t),this.scheduler=e,this.work=t}schedule(e,t=0){return t>0?super.schedule(e,t):(this.delay=t,this.state=e,this.scheduler.flush(this),this)}execute(e,t){return t>0||this.closed?super.execute(e,t):this._execute(e,t)}requestAsyncId(e,t,r=0){return null!=r&&r>0||null==r&&this.delay>0?super.requestAsyncId(e,t,r):e.flush(this)}}),BI=new Ca("7.4.1"),$I="__angularfire_symbol__analyticsIsSupportedValue",jI="__angularfire_symbol__analyticsIsSupported",HI="__angularfire_symbol__remoteConfigIsSupportedValue",GI="__angularfire_symbol__remoteConfigIsSupported",qI="__angularfire_symbol__messagingIsSupportedValue",zI="__angularfire_symbol__messagingIsSupported";globalThis[jI]||(globalThis[jI]=Tne().then(n=>globalThis[$I]=n).catch(()=>globalThis[$I]=!1)),globalThis[zI]||(globalThis[zI]=RL().then(n=>globalThis[qI]=n).catch(()=>globalThis[qI]=!1)),globalThis[GI]||(globalThis[GI]=ute().then(n=>globalThis[HI]=n).catch(()=>globalThis[HI]=!1));const QI=(n,e)=>{const t=e?[e]:zF(),r=[];return t.forEach(i=>{i.container.getProvider(n).instances.forEach(o=>{r.includes(o)||r.push(o)})}),r};function au(){}class zL{constructor(e,t=Mne){this.zone=e,this.delegate=t}now(){return this.delegate.now()}schedule(e,t,r){const i=this.zone;return this.delegate.schedule(function(o){i.runGuarded(()=>{e.apply(this,[o])})},t,r)}}class xne{constructor(e){this.zone=e,this.task=null}call(e,t){const r=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",au,{},au,au)),t.pipe(Pt({next:r,complete:r,error:r})).subscribe(e).add(r)}unscheduleTask(){setTimeout(()=>{null!=this.task&&"scheduled"===this.task.state&&(this.task.invoke(),this.task=null)},10)}}let WL=(()=>{class n{constructor(t){this.ngZone=t,this.outsideAngular=t.runOutsideAngular(()=>new zL(Zone.current)),this.insideAngular=t.run(()=>new zL(Zone.current,ww)),globalThis.\u0275AngularFireScheduler||(globalThis.\u0275AngularFireScheduler=this)}}return n.\u0275fac=function(t){return new(t||n)(M(Pe))},n.\u0275prov=U({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function vo(){const n=globalThis.\u0275AngularFireScheduler;if(!n)throw new Error("Either AngularFireModule has not been provided in your AppModule (this can be done manually or implictly using\nprovideFirebaseApp) or you're calling an AngularFire method outside of an NgModule (which is not supported).");return n}function Nne(n){return vo().ngZone.runOutsideAngular(()=>n())}function wo(n){return vo().ngZone.run(()=>n())}function kne(n){return vo(),function Rne(n){return function(t){return(t=t.lift(new xne(n.ngZone))).pipe(Hd(n.outsideAngular),jd(n.insideAngular))}}(vo())(n)}const Pne=(n,e)=>function(){const r=arguments;return e&&setTimeout(()=>{"scheduled"===e.state&&e.invoke()},10),wo(()=>n.apply(void 0,r))},ms=(n,e)=>function(){let t;const r=arguments;for(let s=0;s<arguments.length;s++)"function"==typeof r[s]&&(e&&(t||(t=wo(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",au,{},au,au)))),r[s]=Pne(r[s],t));const i=Nne(()=>n.apply(this,r));if(!e){if(i instanceof Ae){const s=vo();return i.pipe(Hd(s.outsideAngular),jd(s.insideAngular))}return wo(()=>i)}return i instanceof Ae?i.pipe(kne):i instanceof Promise?wo(()=>new Promise((s,o)=>i.then(a=>wo(()=>s(a)),a=>wo(()=>o(a))))):"function"==typeof i&&t?function(){return setTimeout(()=>{t&&"scheduled"===t.state&&t.invoke()},10),i.apply(this,arguments)}:wo(()=>i)};class uu{constructor(e){return e}}class KL{constructor(){return zF()}}const YI=new $("angularfire2._apps"),Fne={provide:uu,useFactory:function One(n){return n&&1===n.length?n[0]:new uu(qF())},deps:[[new yn,YI]]},Lne={provide:KL,deps:[[new yn,YI]]};function Vne(n){return(e,t)=>{const r=e.runOutsideAngular(()=>n(t));return new uu(r)}}let Une=(()=>{class n{constructor(t){it("angularfire",BI.full,"core"),it("angularfire",BI.full,"app"),it("angular",AM.full,t.toString())}}return n.\u0275fac=function(t){return new(t||n)(M(to))},n.\u0275mod=Nt({type:n}),n.\u0275inj=vt({providers:[Fne,Lne]}),n})();function Bne(n,...e){return{ngModule:Une,providers:[{provide:YI,useFactory:Vne(n),multi:!0,deps:[Pe,Rt,WL,...e]}]}}const $ne=ms(UX,!0);const jne=function QL(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}},YL=new ti("auth","Firebase",{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}),JL=new ru("@firebase/auth");function yp(n,...e){JL.logLevel<=_e.ERROR&&JL.error(`Auth (${dp}): ${n}`,...e)}function On(n,...e){throw JI(n,...e)}function ni(n,...e){return JI(n,...e)}function ZL(n,e,t){const r=Object.assign(Object.assign({},jne()),{[e]:t});return new ti("auth","Firebase",r).create(e,{appName:n.name})}function JI(n,...e){if("string"!=typeof n){const t=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=n.name),n._errorFactory.create(t,...r)}return YL.create(n,...e)}function N(n,e,...t){if(!n)throw JI(e,...t)}function ri(n){const e="INTERNAL ASSERTION FAILED: "+n;throw yp(e),new Error(e)}function ys(n,e){n||ri(e)}const XL=new Map;function Vi(n){ys(n instanceof Function,"Expected a class definition");let e=XL.get(n);return e?(ys(e instanceof n,"Instance stored in cache mismatched with class"),e):(e=new n,XL.set(n,e),e)}function eV(){var n;return typeof self<"u"&&(null===(n=self.location)||void 0===n?void 0:n.protocol)||null}class bc{constructor(e,t){this.shortDelay=e,this.longDelay=t,ys(t>e,"Short delay should be less than long delay!"),this.isMobile=function NZ(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(ir())}()||function RZ(){return"object"==typeof navigator&&"ReactNative"===navigator.product}()}get(){return function qne(){return!(typeof navigator<"u"&&navigator&&"onLine"in navigator&&"boolean"==typeof navigator.onLine&&(function ZI(){return"http:"===eV()||"https:"===eV()}()||Ww()||"connection"in navigator))||navigator.onLine}()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}class tV{static initialize(e,t,r){this.fetchImpl=e,t&&(this.headersImpl=t),r&&(this.responseImpl=r)}static fetch(){return this.fetchImpl?this.fetchImpl:typeof self<"u"&&"fetch"in self?self.fetch:void ri("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){return this.headersImpl?this.headersImpl:typeof self<"u"&&"Headers"in self?self.Headers:void ri("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){return this.responseImpl?this.responseImpl:typeof self<"u"&&"Response"in self?self.Response:void ri("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const Wne={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"internal-error",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error"},Kne=new bc(3e4,6e4);function Ot(n,e,t,r){return eb.apply(this,arguments)}function eb(){return(eb=y(function*(n,e,t,r,i={}){return nV(n,i,y(function*(){let s={},o={};r&&("GET"===e?o=r:s={body:JSON.stringify(r)});const a=LF(Object.assign({key:n.config.apiKey},o)).slice(1),u=yield n._getAdditionalHeaders();return u["Content-Type"]="application/json",n.languageCode&&(u["X-Firebase-Locale"]=n.languageCode),tV.fetch()(rV(n,n.config.apiHost,t,a),Object.assign({method:e,headers:u,referrerPolicy:"no-referrer"},s))}))})).apply(this,arguments)}function nV(n,e,t){return tb.apply(this,arguments)}function tb(){return(tb=y(function*(n,e,t){n._canInitEmulator=!1;const r=Object.assign(Object.assign({},Wne),e);try{const i=new Qne(n),s=yield Promise.race([t(),i.promise]);i.clearNetworkTimeout();const o=yield s.json();if("needConfirmation"in o)throw Tc(n,"account-exists-with-different-credential",o);if(s.ok&&!("errorMessage"in o))return o;{const a=s.ok?o.errorMessage:o.error.message,[u,l]=a.split(" : ");if("FEDERATED_USER_ID_ALREADY_LINKED"===u)throw Tc(n,"credential-already-in-use",o);if("EMAIL_EXISTS"===u)throw Tc(n,"email-already-in-use",o);if("USER_DISABLED"===u)throw Tc(n,"user-disabled",o);const c=r[u]||u.toLowerCase().replace(/[_\s]+/g,"-");if(l)throw ZL(n,c,l);On(n,c)}}catch(i){if(i instanceof Br)throw i;On(n,"network-request-failed")}})).apply(this,arguments)}function rV(n,e,t,r){const i=`${e}${t}?${r}`;return n.config.emulator?function XI(n,e){ys(n.emulator,"Emulator should always be set here");const{url:t}=n.emulator;return e?`${t}${e.startsWith("/")?e.slice(1):e}`:t}(n.config,i):`${n.config.apiScheme}://${i}`}class Qne{constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((t,r)=>{this.timer=setTimeout(()=>r(ni(this.auth,"network-request-failed")),Kne.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function Tc(n,e,t){const r={appName:n.name};t.email&&(r.email=t.email),t.phoneNumber&&(r.phoneNumber=t.phoneNumber);const i=ni(n,e,r);return i.customData._tokenResponse=t,i}function rb(){return(rb=y(function*(n,e){return Ot(n,"POST","/v1/accounts:delete",e)})).apply(this,arguments)}function Zne(n,e){return sb.apply(this,arguments)}function sb(){return(sb=y(function*(n,e){return Ot(n,"POST","/v1/accounts:lookup",e)})).apply(this,arguments)}function Cc(n){if(n)try{const e=new Date(Number(n));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}function ob(){return(ob=y(function*(n,e=!1){const t=Er(n),r=yield t.getIdToken(e),i=_p(r);N(i&&i.exp&&i.auth_time&&i.iat,t.auth,"internal-error");const s="object"==typeof i.firebase?i.firebase:void 0,o=s?.sign_in_provider;return{claims:i,token:r,authTime:Cc(ab(i.auth_time)),issuedAtTime:Cc(ab(i.iat)),expirationTime:Cc(ab(i.exp)),signInProvider:o||null,signInSecondFactor:s?.sign_in_second_factor||null}})).apply(this,arguments)}function ab(n){return 1e3*Number(n)}function _p(n){var e;const[t,r,i]=n.split(".");if(void 0===t||void 0===r||void 0===i)return yp("JWT malformed, contained fewer than 3 sections"),null;try{const s=function(n){try{return qw.decodeString(n,!0)}catch(e){console.error("base64Decode failed: ",e)}return null}(r);return s?JSON.parse(s):(yp("Failed to decode base64 JWT payload"),null)}catch(s){return yp("Caught error parsing JWT payload as JSON",null===(e=s)||void 0===e?void 0:e.toString()),null}}function Bi(n,e){return ub.apply(this,arguments)}function ub(){return(ub=y(function*(n,e,t=!1){if(t)return e;try{return yield e}catch(r){throw r instanceof Br&&tre(r)&&n.auth.currentUser===n&&(yield n.auth.signOut()),r}})).apply(this,arguments)}function tre({code:n}){return"auth/user-disabled"===n||"auth/user-token-expired"===n}class nre{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){!this.isRunning||(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}getInterval(e){var t;if(e){const r=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),r}{this.errorBackoff=3e4;const i=(null!==(t=this.user.stsTokenManager.expirationTime)&&void 0!==t?t:0)-Date.now()-3e5;return Math.max(0,i)}}schedule(e=!1){var t=this;if(!this.isRunning)return;const r=this.getInterval(e);this.timerId=setTimeout(y(function*(){yield t.iteration()}),r)}iteration(){var e=this;return y(function*(){var t;try{yield e.user.getIdToken(!0)}catch(r){return void("auth/network-request-failed"===(null===(t=r)||void 0===t?void 0:t.code)&&e.schedule(!0))}e.schedule()})()}}class iV{constructor(e,t){this.createdAt=e,this.lastLoginAt=t,this._initializeTime()}_initializeTime(){this.lastSignInTime=Cc(this.lastLoginAt),this.creationTime=Cc(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}function Dc(n){return lb.apply(this,arguments)}function lb(){return(lb=y(function*(n){var e;const t=n.auth,r=yield n.getIdToken(),i=yield Bi(n,Zne(t,{idToken:r}));N(i?.users.length,t,"internal-error");const s=i.users[0];n._notifyReloadListener(s);const o=null!==(e=s.providerUserInfo)&&void 0!==e&&e.length?sre(s.providerUserInfo):[],a=ire(n.providerData,o),c=!!n.isAnonymous&&!(n.email&&s.passwordHash||a?.length),d={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:a,metadata:new iV(s.createdAt,s.lastLoginAt),isAnonymous:c};Object.assign(n,d)})).apply(this,arguments)}function cb(){return(cb=y(function*(n){const e=Er(n);yield Dc(e),yield e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)})).apply(this,arguments)}function ire(n,e){return[...n.filter(r=>!e.some(i=>i.providerId===r.providerId)),...e]}function sre(n){return n.map(e=>{var{providerId:t}=e,r=HS(e,["providerId"]);return{providerId:t,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}function db(){return(db=y(function*(n,e){const t=yield nV(n,{},y(function*(){const r=LF({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:i,apiKey:s}=n.config,o=rV(n,i,"/v1/token",`key=${s}`),a=yield n._getAdditionalHeaders();return a["Content-Type"]="application/x-www-form-urlencoded",tV.fetch()(o,{method:"POST",headers:a,body:r})}));return{accessToken:t.access_token,expiresIn:t.expires_in,refreshToken:t.refresh_token}})).apply(this,arguments)}class Sc{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){N(e.idToken,"internal-error"),N(typeof e.idToken<"u","internal-error"),N(typeof e.refreshToken<"u","internal-error");const t="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):function ere(n){const e=_p(n);return N(e,"internal-error"),N(typeof e.exp<"u","internal-error"),N(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,t)}getToken(e,t=!1){var r=this;return y(function*(){return N(!r.accessToken||r.refreshToken,e,"user-token-expired"),t||!r.accessToken||r.isExpired?r.refreshToken?(yield r.refresh(e,r.refreshToken),r.accessToken):null:r.accessToken})()}clearRefreshToken(){this.refreshToken=null}refresh(e,t){var r=this;return y(function*(){const{accessToken:i,refreshToken:s,expiresIn:o}=yield function ore(n,e){return db.apply(this,arguments)}(e,t);r.updateTokensAndExpiration(i,s,Number(o))})()}updateTokensAndExpiration(e,t,r){this.refreshToken=t||null,this.accessToken=e||null,this.expirationTime=Date.now()+1e3*r}static fromJSON(e,t){const{refreshToken:r,accessToken:i,expirationTime:s}=t,o=new Sc;return r&&(N("string"==typeof r,"internal-error",{appName:e}),o.refreshToken=r),i&&(N("string"==typeof i,"internal-error",{appName:e}),o.accessToken=i),s&&(N("number"==typeof s,"internal-error",{appName:e}),o.expirationTime=s),o}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new Sc,this.toJSON())}_performRefresh(){return ri("not implemented")}}function _s(n,e){N("string"==typeof n||typeof n>"u","internal-error",{appName:e})}class Eo{constructor(e){var{uid:t,auth:r,stsTokenManager:i}=e,s=HS(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new nre(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=t,this.auth=r,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=s.displayName||null,this.email=s.email||null,this.emailVerified=s.emailVerified||!1,this.phoneNumber=s.phoneNumber||null,this.photoURL=s.photoURL||null,this.isAnonymous=s.isAnonymous||!1,this.tenantId=s.tenantId||null,this.providerData=s.providerData?[...s.providerData]:[],this.metadata=new iV(s.createdAt||void 0,s.lastLoginAt||void 0)}getIdToken(e){var t=this;return y(function*(){const r=yield Bi(t,t.stsTokenManager.getToken(t.auth,e));return N(r,t.auth,"internal-error"),t.accessToken!==r&&(t.accessToken=r,yield t.auth._persistUserIfCurrent(t),t.auth._notifyListenersIfCurrent(t)),r})()}getIdTokenResult(e){return function Xne(n){return ob.apply(this,arguments)}(this,e)}reload(){return function rre(n){return cb.apply(this,arguments)}(this)}_assign(e){this!==e&&(N(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(t=>Object.assign({},t)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){return new Eo(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}))}_onReload(e){N(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(e,t=!1){var r=this;return y(function*(){let i=!1;e.idToken&&e.idToken!==r.stsTokenManager.accessToken&&(r.stsTokenManager.updateFromServerResponse(e),i=!0),t&&(yield Dc(r)),yield r.auth._persistUserIfCurrent(r),i&&r.auth._notifyListenersIfCurrent(r)})()}delete(){var e=this;return y(function*(){const t=yield e.getIdToken();return yield Bi(e,function Yne(n,e){return rb.apply(this,arguments)}(e.auth,{idToken:t})),e.stsTokenManager.clearRefreshToken(),e.auth.signOut()})()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,t){var r,i,s,o,a,u,l,c;const d=null!==(r=t.displayName)&&void 0!==r?r:void 0,h=null!==(i=t.email)&&void 0!==i?i:void 0,f=null!==(s=t.phoneNumber)&&void 0!==s?s:void 0,p=null!==(o=t.photoURL)&&void 0!==o?o:void 0,g=null!==(a=t.tenantId)&&void 0!==a?a:void 0,m=null!==(u=t._redirectEventId)&&void 0!==u?u:void 0,_=null!==(l=t.createdAt)&&void 0!==l?l:void 0,I=null!==(c=t.lastLoginAt)&&void 0!==c?c:void 0,{uid:v,emailVerified:C,isAnonymous:x,providerData:F,stsTokenManager:ae}=t;N(v&&ae,e,"internal-error");const ut=Sc.fromJSON(this.name,ae);N("string"==typeof v,e,"internal-error"),_s(d,e.name),_s(h,e.name),N("boolean"==typeof C,e,"internal-error"),N("boolean"==typeof x,e,"internal-error"),_s(f,e.name),_s(p,e.name),_s(g,e.name),_s(m,e.name),_s(_,e.name),_s(I,e.name);const Xt=new Eo({uid:v,auth:e,email:h,emailVerified:C,displayName:d,isAnonymous:x,photoURL:p,phoneNumber:f,tenantId:g,stsTokenManager:ut,createdAt:_,lastLoginAt:I});return F&&Array.isArray(F)&&(Xt.providerData=F.map(Sn=>Object.assign({},Sn))),m&&(Xt._redirectEventId=m),Xt}static _fromIdTokenResponse(e,t,r=!1){return y(function*(){const i=new Sc;i.updateFromServerResponse(t);const s=new Eo({uid:t.localId,auth:e,stsTokenManager:i,isAnonymous:r});return yield Dc(s),s})()}}const sV=(()=>{class n{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return y(function*(){return!0})()}_set(t,r){var i=this;return y(function*(){i.storage[t]=r})()}_get(t){var r=this;return y(function*(){const i=r.storage[t];return void 0===i?null:i})()}_remove(t){var r=this;return y(function*(){delete r.storage[t]})()}_addListener(t,r){}_removeListener(t,r){}}return n.type="NONE",n})();function vp(n,e,t){return`firebase:${n}:${e}:${t}`}class cu{constructor(e,t,r){this.persistence=e,this.auth=t,this.userKey=r;const{config:i,name:s}=this.auth;this.fullUserKey=vp(this.userKey,i.apiKey,s),this.fullPersistenceKey=vp("persistence",i.apiKey,s),this.boundEventHandler=t._onStorageEvent.bind(t),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}getCurrentUser(){var e=this;return y(function*(){const t=yield e.persistence._get(e.fullUserKey);return t?Eo._fromJSON(e.auth,t):null})()}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(e){var t=this;return y(function*(){if(t.persistence===e)return;const r=yield t.getCurrentUser();return yield t.removeCurrentUser(),t.persistence=e,r?t.setCurrentUser(r):void 0})()}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(e,t,r="authUser"){return y(function*(){if(!t.length)return new cu(Vi(sV),e,r);const i=(yield Promise.all(t.map(function(){var l=y(function*(c){if(yield c._isAvailable())return c});return function(c){return l.apply(this,arguments)}}()))).filter(l=>l);let s=i[0]||Vi(sV);const o=vp(r,e.config.apiKey,e.name);let a=null;for(const l of t)try{const c=yield l._get(o);if(c){const d=Eo._fromJSON(e,c);l!==s&&(a=d),s=l;break}}catch{}const u=i.filter(l=>l._shouldAllowMigration);return s._shouldAllowMigration&&u.length?(s=u[0],a&&(yield s._set(o,a.toJSON())),yield Promise.all(t.map(function(){var l=y(function*(c){if(c!==s)try{yield c._remove(o)}catch{}});return function(c){return l.apply(this,arguments)}}())),new cu(s,e,r)):new cu(s,e,r)})()}}function oV(n){const e=n.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(function lV(n=ir()){return/iemobile/i.test(n)}(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(function aV(n=ir()){return/firefox\//i.test(n)}(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(function dV(n=ir()){return/blackberry/i.test(n)}(e))return"Blackberry";if(function hV(n=ir()){return/webos/i.test(n)}(e))return"Webos";if(function hb(n=ir()){const e=n.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}(e))return"Safari";if((e.includes("chrome/")||function uV(n=ir()){return/crios\//i.test(n)}(e))&&!e.includes("edge/"))return"Chrome";if(function cV(n=ir()){return/android/i.test(n)}(e))return"Android";{const r=n.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/);if(2===r?.length)return r[1]}return"Other"}function fV(n,e=[]){let t;switch(n){case"Browser":t=oV(ir());break;case"Worker":t=`${oV(ir())}-${n}`;break;default:t=n}const r=e.length?e.join(","):"FirebaseCore-web";return`${t}/JsCore/${dp}/${r}`}class lre{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,t){const r=s=>new Promise((o,a)=>{try{o(e(s))}catch(u){a(u)}});r.onAbort=t,this.queue.push(r);const i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}runMiddleware(e){var t=this;return y(function*(){var r;if(t.auth.currentUser===e)return;const i=[];try{for(const s of t.queue)yield s(e),s.onAbort&&i.push(s.onAbort)}catch(s){i.reverse();for(const o of i)try{o()}catch{}throw t.auth._errorFactory.create("login-blocked",{originalMessage:null===(r=s)||void 0===r?void 0:r.message})}})()}}class cre{constructor(e,t,r){this.app=e,this.heartbeatServiceProvider=t,this.config=r,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new pV(this),this.idTokenSubscription=new pV(this),this.beforeStateQueue=new lre(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=YL,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=r.sdkClientVersion}_initializeWithPersistence(e,t){var r=this;return t&&(this._popupRedirectResolver=Vi(t)),this._initializationPromise=this.queue(y(function*(){var i,s;if(!r._deleted&&(r.persistenceManager=yield cu.create(r,e),!r._deleted)){if(null!==(i=r._popupRedirectResolver)&&void 0!==i&&i._shouldInitProactively)try{yield r._popupRedirectResolver._initialize(r)}catch{}yield r.initializeCurrentUser(t),r.lastNotifiedUid=(null===(s=r.currentUser)||void 0===s?void 0:s.uid)||null,!r._deleted&&(r._isInitialized=!0)}})),this._initializationPromise}_onStorageEvent(){var e=this;return y(function*(){if(e._deleted)return;const t=yield e.assertedPersistence.getCurrentUser();if(e.currentUser||t){if(e.currentUser&&t&&e.currentUser.uid===t.uid)return e._currentUser._assign(t),void(yield e.currentUser.getIdToken());yield e._updateCurrentUser(t,!0)}})()}initializeCurrentUser(e){var t=this;return y(function*(){var r;const i=yield t.assertedPersistence.getCurrentUser();let s=i,o=!1;if(e&&t.config.authDomain){yield t.getOrInitRedirectPersistenceManager();const a=null===(r=t.redirectUser)||void 0===r?void 0:r._redirectEventId,u=s?._redirectEventId,l=yield t.tryRedirectSignIn(e);(!a||a===u)&&l?.user&&(s=l.user,o=!0)}if(!s)return t.directlySetCurrentUser(null);if(!s._redirectEventId){if(o)try{yield t.beforeStateQueue.runMiddleware(s)}catch(a){s=i,t._popupRedirectResolver._overrideRedirectResult(t,()=>Promise.reject(a))}return s?t.reloadAndSetCurrentUserOrClear(s):t.directlySetCurrentUser(null)}return N(t._popupRedirectResolver,t,"argument-error"),yield t.getOrInitRedirectPersistenceManager(),t.redirectUser&&t.redirectUser._redirectEventId===s._redirectEventId?t.directlySetCurrentUser(s):t.reloadAndSetCurrentUserOrClear(s)})()}tryRedirectSignIn(e){var t=this;return y(function*(){let r=null;try{r=yield t._popupRedirectResolver._completeRedirectFn(t,e,!0)}catch{yield t._setRedirectUser(null)}return r})()}reloadAndSetCurrentUserOrClear(e){var t=this;return y(function*(){var r;try{yield Dc(e)}catch(i){if("auth/network-request-failed"!==(null===(r=i)||void 0===r?void 0:r.code))return t.directlySetCurrentUser(null)}return t.directlySetCurrentUser(e)})()}useDeviceLanguage(){this.languageCode=function zne(){if(typeof navigator>"u")return null;const n=navigator;return n.languages&&n.languages[0]||n.language||null}()}_delete(){var e=this;return y(function*(){e._deleted=!0})()}updateCurrentUser(e){var t=this;return y(function*(){const r=e?Er(e):null;return r&&N(r.auth.config.apiKey===t.config.apiKey,t,"invalid-user-token"),t._updateCurrentUser(r&&r._clone(t))})()}_updateCurrentUser(e,t=!1){var r=this;return y(function*(){if(!r._deleted)return e&&N(r.tenantId===e.tenantId,r,"tenant-id-mismatch"),t||(yield r.beforeStateQueue.runMiddleware(e)),r.queue(y(function*(){yield r.directlySetCurrentUser(e),r.notifyAuthListeners()}))})()}signOut(){var e=this;return y(function*(){return yield e.beforeStateQueue.runMiddleware(null),(e.redirectPersistenceManager||e._popupRedirectResolver)&&(yield e._setRedirectUser(null)),e._updateCurrentUser(null,!0)})()}setPersistence(e){var t=this;return this.queue(y(function*(){yield t.assertedPersistence.setPersistence(Vi(e))}))}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new ti("auth","Firebase",e())}onAuthStateChanged(e,t,r){return this.registerStateListener(this.authStateSubscription,e,t,r)}beforeAuthStateChanged(e,t){return this.beforeStateQueue.pushCallback(e,t)}onIdTokenChanged(e,t,r){return this.registerStateListener(this.idTokenSubscription,e,t,r)}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(e=this._currentUser)||void 0===e?void 0:e.toJSON()}}_setRedirectUser(e,t){var r=this;return y(function*(){const i=yield r.getOrInitRedirectPersistenceManager(t);return null===e?i.removeCurrentUser():i.setCurrentUser(e)})()}getOrInitRedirectPersistenceManager(e){var t=this;return y(function*(){if(!t.redirectPersistenceManager){const r=e&&Vi(e)||t._popupRedirectResolver;N(r,t,"argument-error"),t.redirectPersistenceManager=yield cu.create(t,[Vi(r._redirectPersistence)],"redirectUser"),t.redirectUser=yield t.redirectPersistenceManager.getCurrentUser()}return t.redirectPersistenceManager})()}_redirectUserForId(e){var t=this;return y(function*(){var r,i;return t._isInitialized&&(yield t.queue(y(function*(){}))),(null===(r=t._currentUser)||void 0===r?void 0:r._redirectEventId)===e?t._currentUser:(null===(i=t.redirectUser)||void 0===i?void 0:i._redirectEventId)===e?t.redirectUser:null})()}_persistUserIfCurrent(e){var t=this;return y(function*(){if(e===t.currentUser)return t.queue(y(function*(){return t.directlySetCurrentUser(e)}))})()}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,t;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const r=null!==(t=null===(e=this.currentUser)||void 0===e?void 0:e.uid)&&void 0!==t?t:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,t,r,i){if(this._deleted)return()=>{};const s="function"==typeof t?t:t.next.bind(t),o=this._isInitialized?Promise.resolve():this._initializationPromise;return N(o,this,"internal-error"),o.then(()=>s(this.currentUser)),"function"==typeof t?e.addObserver(t,r,i):e.addObserver(t)}directlySetCurrentUser(e){var t=this;return y(function*(){t.currentUser&&t.currentUser!==e&&t._currentUser._stopProactiveRefresh(),e&&t.isProactiveRefreshEnabled&&e._startProactiveRefresh(),t.currentUser=e,e?yield t.assertedPersistence.setCurrentUser(e):yield t.assertedPersistence.removeCurrentUser()})()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return N(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=fV(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getAdditionalHeaders(){var e=this;return y(function*(){var t;const r={"X-Client-Version":e.clientVersion};e.app.options.appId&&(r["X-Firebase-gmpid"]=e.app.options.appId);const i=yield null===(t=e.heartbeatServiceProvider.getImmediate({optional:!0}))||void 0===t?void 0:t.getHeartbeatsHeader();return i&&(r["X-Firebase-Client"]=i),r})()}}class pV{constructor(e){this.auth=e,this.observer=null,this.addObserver=function LZ(n,e){const t=new VZ(n,e);return t.subscribe.bind(t)}(t=>this.observer=t)}get next(){return N(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}(function RV(n){return`__${n}${Math.floor(1e6*Math.random())}`})("rcb"),new bc(3e4,6e4),new bc(2e3,1e4),new bc(3e4,6e4),new bc(5e3,15e3);var qV="@firebase/auth";class Xie{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),(null===(e=this.auth.currentUser)||void 0===e?void 0:e.uid)||null}getToken(e){var t=this;return y(function*(){return t.assertAuthConfigured(),yield t.auth._initializationPromise,t.auth.currentUser?{accessToken:yield t.auth.currentUser.getIdToken(e)}:null})()}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const t=this.auth.onIdTokenChanged(r=>{var i;e((null===(i=r)||void 0===i?void 0:i.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,t),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const t=this.internalListeners.get(e);!t||(this.internalListeners.delete(e),t(),this.updateProactiveRefresh())}assertAuthConfigured(){N(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}!function tse(n){bn(new un("auth",(e,{options:t})=>{const r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),{apiKey:s,authDomain:o}=r.options;return((a,u)=>{N(s&&!s.includes(":"),"invalid-api-key",{appName:a.name}),N(!o?.includes(":"),"argument-error",{appName:a.name});const l={apiKey:s,authDomain:o,clientPlatform:n,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:fV(n)},c=new cre(a,u,l);return function Gne(n,e){const t=e?.persistence||[],r=(Array.isArray(t)?t:[t]).map(Vi);e?.errorMap&&n._updateErrorMap(e.errorMap),n._initializeWithPersistence(r,e?.popupRedirectResolver)}(c,t),c})(r,i)},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,t,r)=>{e.getProvider("auth-internal").initialize()})),bn(new un("auth-internal",e=>{const t=function Fn(n){return Er(n)}(e.getProvider("auth").getImmediate());return new Xie(t)},"PRIVATE").setInstantiationMode("EXPLICIT")),it(qV,"0.20.7",function ese(n){switch(n){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";default:return}}(n)),it(qV,"0.20.7","esm2017")}("Browser");class KV{constructor(){return QI("auth")}}const QV=new Map,sse={activated:!1,tokenObservers:[]},ose={initialized:!1,enabled:!1};function Ft(n){return QV.get(n)||sse}function $r(n,e){QV.set(n,e)}function Np(){return ose}class dse{constructor(e,t,r,i,s){if(this.operation=e,this.retryPolicy=t,this.getWaitDuration=r,this.lowerBound=i,this.upperBound=s,this.pending=null,this.nextErrorWaitInterval=i,i>s)throw new Error("Proactive refresh lower bound greater than upper bound!")}start(){this.nextErrorWaitInterval=this.lowerBound,this.process(!0).catch(()=>{})}stop(){this.pending&&(this.pending.reject("cancelled"),this.pending=null)}isRunning(){return!!this.pending}process(e){var t=this;return y(function*(){t.stop();try{t.pending=new op,yield function hse(n){return new Promise(e=>{setTimeout(e,n)})}(t.getNextRun(e)),t.pending.resolve(),yield t.pending.promise,t.pending=new op,yield t.operation(),t.pending.resolve(),yield t.pending.promise,t.process(!0).catch(()=>{})}catch(r){t.retryPolicy(r)?t.process(!1).catch(()=>{}):t.stop()}})()}getNextRun(e){if(e)return this.nextErrorWaitInterval=this.lowerBound,this.getWaitDuration();{const t=this.nextErrorWaitInterval;return this.nextErrorWaitInterval*=2,this.nextErrorWaitInterval>this.upperBound&&(this.nextErrorWaitInterval=this.upperBound),t}}}const Tn=new ti("appCheck","AppCheck",{"already-initialized":"You have already called initializeAppCheck() for FirebaseApp {$appName} with different options. To avoid this error, call initializeAppCheck() with the same options as when it was originally called. This will return the already initialized instance.","use-before-activation":"App Check is being used before initializeAppCheck() is called for FirebaseApp {$appName}. Call initializeAppCheck() before instantiating other Firebase services.","fetch-network-error":"Fetch failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-parse-error":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status-error":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","recaptcha-error":"ReCAPTCHA error.",throttled:"Requests throttled due to {$httpStatus} error. Attempts allowed again after {$time}"});function JV(n){if(!Ft(n).activated)throw Tn.create("use-before-activation",{appName:n.name})}function YT(n,e){return JT.apply(this,arguments)}function JT(){return(JT=y(function*({url:n,body:e},t){var r,i;const s={"Content-Type":"application/json"},o=t.getImmediate({optional:!0});if(o){const f=yield o.getHeartbeatsHeader();f&&(s["X-Firebase-Client"]=f)}const a={method:"POST",body:JSON.stringify(e),headers:s};let u,l;try{u=yield fetch(n,a)}catch(f){throw Tn.create("fetch-network-error",{originalErrorMessage:null===(r=f)||void 0===r?void 0:r.message})}if(200!==u.status)throw Tn.create("fetch-status-error",{httpStatus:u.status});try{l=yield u.json()}catch(f){throw Tn.create("fetch-parse-error",{originalErrorMessage:null===(i=f)||void 0===i?void 0:i.message})}const c=l.ttl.match(/^([\d.]+)(s)$/);if(!c||!c[2]||isNaN(Number(c[1])))throw Tn.create("fetch-parse-error",{originalErrorMessage:`ttl field (timeToLive) is not in standard Protobuf Duration format: ${l.ttl}`});const d=1e3*Number(c[1]),h=Date.now();return{token:l.token,expireTimeMillis:h+d,issuedAtTimeMillis:h}})).apply(this,arguments)}function mse(n,e){const{projectId:t,appId:r,apiKey:i}=n.options;return{url:`https://content-firebaseappcheck.googleapis.com/v1/projects/${t}/apps/${r}:exchangeDebugToken?key=${i}`,body:{debug_token:e}}}const kc="firebase-app-check-store";let Pp=null;function XV(){return Pp||(Pp=new Promise((n,e)=>{var t;try{const r=indexedDB.open("firebase-app-check-database",1);r.onsuccess=i=>{n(i.target.result)},r.onerror=i=>{var s;e(Tn.create("storage-open",{originalErrorMessage:null===(s=i.target.error)||void 0===s?void 0:s.message}))},r.onupgradeneeded=i=>{0===i.oldVersion&&i.target.result.createObjectStore(kc,{keyPath:"compositeKey"})}}catch(r){e(Tn.create("storage-open",{originalErrorMessage:null===(t=r)||void 0===t?void 0:t.message}))}}),Pp)}function ZT(){return(ZT=y(function*(n,e){const r=(yield XV()).transaction(kc,"readwrite"),s=r.objectStore(kc).put({compositeKey:n,value:e});return new Promise((o,a)=>{s.onsuccess=u=>{o()},r.onerror=u=>{var l;a(Tn.create("storage-set",{originalErrorMessage:null===(l=u.target.error)||void 0===l?void 0:l.message}))}})})).apply(this,arguments)}const Rc=new ru("@firebase/app-check");function rU(n,e){return co()?function wse(n,e){return function eU(n,e){return ZT.apply(this,arguments)}(function nU(n){return`${n.options.appId}-${n.name}`}(n),e)}(n,e).catch(t=>{Rc.warn(`Failed to write token to IndexedDB. Error: ${t}`)}):Promise.resolve()}function iU(){return Np().enabled}function sU(){return nC.apply(this,arguments)}function nC(){return(nC=y(function*(){const n=Np();if(n.enabled&&n.token)return n.token.promise;throw Error("\n            Can't get debug token in production mode.\n        ")})).apply(this,arguments)}const Dse={error:"UNKNOWN_ERROR"};function Sse(n){return qw.encodeString(JSON.stringify(n),!1)}function Op(n){return rC.apply(this,arguments)}function rC(){return(rC=y(function*(n,e=!1){const t=n.app;JV(t);const r=Ft(t);let s,i=r.token;if(!i){const u=yield r.cachedTokenPromise;u&&Fp(u)&&(i=u)}if(!e&&i&&Fp(i))return{token:i.token};let a,o=!1;if(iU()){r.exchangeTokenPromise||(r.exchangeTokenPromise=YT(mse(t,yield sU()),n.heartbeatServiceProvider).then(l=>(r.exchangeTokenPromise=void 0,l)),o=!0);const u=yield r.exchangeTokenPromise;return yield rU(t,u),$r(t,Object.assign(Object.assign({},r),{token:u})),{token:u.token}}try{r.exchangeTokenPromise||(r.exchangeTokenPromise=r.provider.getToken().then(u=>(r.exchangeTokenPromise=void 0,u)),o=!0),i=yield r.exchangeTokenPromise}catch(u){"appCheck/throttled"===u.code?Rc.warn(u.message):Rc.error(u),s=u}return i?(a={token:i.token},$r(t,Object.assign(Object.assign({},r),{token:i})),yield rU(t,i)):a=Mse(s),o&&aU(t,a),a})).apply(this,arguments)}function sC(n,e){const t=Ft(n),r=t.tokenObservers.filter(i=>i.next!==e);0===r.length&&t.tokenRefresher&&t.tokenRefresher.isRunning()&&t.tokenRefresher.stop(),$r(n,Object.assign(Object.assign({},t),{tokenObservers:r}))}function oU(n){const{app:e}=n,t=Ft(e);let r=t.tokenRefresher;r||(r=function Ase(n){const{app:e}=n;return new dse(y(function*(){let r;if(r=Ft(e).token?yield Op(n,!0):yield Op(n),r.error)throw r.error}),()=>!0,()=>{const t=Ft(e);if(t.token){let r=t.token.issuedAtTimeMillis+.5*(t.token.expireTimeMillis-t.token.issuedAtTimeMillis)+3e5;return r=Math.min(r,t.token.expireTimeMillis-3e5),Math.max(0,r-Date.now())}return 0},3e4,96e4)}(n),$r(e,Object.assign(Object.assign({},t),{tokenRefresher:r}))),!r.isRunning()&&t.isTokenAutoRefreshEnabled&&r.start()}function aU(n,e){const t=Ft(n).tokenObservers;for(const r of t)try{"EXTERNAL"===r.type&&null!=e.error?r.error(e.error):r.next(e)}catch{}}function Fp(n){return n.expireTimeMillis-Date.now()>0}function Mse(n){return{token:Sse(Dse),error:n}}class xse{constructor(e,t){this.app=e,this.heartbeatServiceProvider=t}_delete(){const{tokenObservers:e}=Ft(this.app);for(const t of e)sC(this.app,t.next);return Promise.resolve()}}const gU="app-check-internal";!function Gse(){bn(new un("app-check",n=>function Nse(n,e){return new xse(n,e)}(n.getProvider("app").getImmediate(),n.getProvider("heartbeat")),"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((n,e,t)=>{n.getProvider(gU).initialize()})),bn(new un(gU,n=>function kse(n){return{getToken:e=>Op(n,e),addTokenListener:e=>function iC(n,e,t,r){const{app:i}=n,s=Ft(i),o={next:t,error:r,type:e};if($r(i,Object.assign(Object.assign({},s),{tokenObservers:[...s.tokenObservers,o]})),s.token&&Fp(s.token)){const a=s.token;Promise.resolve().then(()=>{t({token:a.token}),oU(n)}).catch(()=>{})}s.cachedTokenPromise.then(()=>oU(n))}(n,"INTERNAL",e),removeTokenListener:e=>sC(n.app,e)}}(n.getProvider("app-check").getImmediate()),"PUBLIC").setInstantiationMode("EXPLICIT")),it("@firebase/app-check","0.5.12")}();class yU{constructor(){return QI("app-check")}}typeof window<"u"&&window;var H,Qse=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},ji={},cC=cC||{},re=Qse||self;function Vp(){}function Up(n){var e=typeof n;return"array"==(e="object"!=e?e:n?Array.isArray(n)?"array":e:"null")||"object"==e&&"number"==typeof n.length}function Pc(n){var e=typeof n;return"object"==e&&null!=n||"function"==e}var dC="closure_uid_"+(1e9*Math.random()>>>0),Jse=0;function Zse(n,e,t){return n.call.apply(n.bind,arguments)}function Xse(n,e,t){if(!n)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var i=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(i,r),n.apply(e,i)}}return function(){return n.apply(e,arguments)}}function ln(n,e,t){return(ln=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?Zse:Xse).apply(null,arguments)}function Bp(n,e){var t=Array.prototype.slice.call(arguments,1);return function(){var r=t.slice();return r.push.apply(r,arguments),n.apply(this,r)}}function Kt(n,e){function t(){}t.prototype=e.prototype,n.X=e.prototype,n.prototype=new t,n.prototype.constructor=n,n.Vb=function(r,i,s){for(var o=Array(arguments.length-2),a=2;a<arguments.length;a++)o[a-2]=arguments[a];return e.prototype[i].apply(r,o)}}function vs(){this.s=this.s,this.o=this.o}var toe={};vs.prototype.s=!1,vs.prototype.na=function(){if(!this.s&&(this.s=!0,this.M(),0)){var n=function Yse(n){return Object.prototype.hasOwnProperty.call(n,dC)&&n[dC]||(n[dC]=++Jse)}(this);delete toe[n]}},vs.prototype.M=function(){if(this.o)for(;this.o.length;)this.o.shift()()};const _U=Array.prototype.indexOf?function(n,e){return Array.prototype.indexOf.call(n,e,void 0)}:function(n,e){if("string"==typeof n)return"string"!=typeof e||1!=e.length?-1:n.indexOf(e,0);for(let t=0;t<n.length;t++)if(t in n&&n[t]===e)return t;return-1};function hC(n){const e=n.length;if(0<e){const t=Array(e);for(let r=0;r<e;r++)t[r]=n[r];return t}return[]}function vU(n,e){for(let t=1;t<arguments.length;t++){const r=arguments[t];if(Up(r)){const i=n.length||0,s=r.length||0;n.length=i+s;for(let o=0;o<s;o++)n[i+o]=r[o]}else n.push(r)}}function cn(n,e){this.type=n,this.g=this.target=e,this.defaultPrevented=!1}cn.prototype.h=function(){this.defaultPrevented=!0};var noe=function(){if(!re.addEventListener||!Object.defineProperty)return!1;var n=!1,e=Object.defineProperty({},"passive",{get:function(){n=!0}});try{re.addEventListener("test",Vp,e),re.removeEventListener("test",Vp,e)}catch{}return n}();function $p(n){return/^[\s\xa0]*$/.test(n)}var wU=String.prototype.trim?function(n){return n.trim()}:function(n){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(n)[1]};function fC(n,e){return n<e?-1:n>e?1:0}function jp(){var n=re.navigator;return n&&(n=n.userAgent)?n:""}function ii(n){return-1!=jp().indexOf(n)}function pC(n){return pC[" "](n),n}pC[" "]=Vp;var Hp,n,ioe=ii("Opera"),du=ii("Trident")||ii("MSIE"),EU=ii("Edge"),gC=EU||du,IU=ii("Gecko")&&!(-1!=jp().toLowerCase().indexOf("webkit")&&!ii("Edge"))&&!(ii("Trident")||ii("MSIE"))&&!ii("Edge"),soe=-1!=jp().toLowerCase().indexOf("webkit")&&!ii("Edge");function bU(){var n=re.document;return n?n.documentMode:void 0}e:{var mC="",yC=(n=jp(),IU?/rv:([^\);]+)(\)|;)/.exec(n):EU?/Edge\/([\d\.]+)/.exec(n):du?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(n):soe?/WebKit\/(\S+)/.exec(n):ioe?/(?:Version)[ \/]?(\S+)/.exec(n):void 0);if(yC&&(mC=yC?yC[1]:""),du){var _C=bU();if(null!=_C&&_C>parseFloat(mC)){Hp=String(_C);break e}}Hp=mC}var ooe={};var uoe=re.document&&du&&(bU()||parseInt(Hp,10))||void 0;function Oc(n,e){if(cn.call(this,n?n.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,n){var t=this.type=n.type,r=n.changedTouches&&n.changedTouches.length?n.changedTouches[0]:null;if(this.target=n.target||n.srcElement,this.g=e,e=n.relatedTarget){if(IU){e:{try{pC(e.nodeName);var i=!0;break e}catch{}i=!1}i||(e=null)}}else"mouseover"==t?e=n.fromElement:"mouseout"==t&&(e=n.toElement);this.relatedTarget=e,r?(this.clientX=void 0!==r.clientX?r.clientX:r.pageX,this.clientY=void 0!==r.clientY?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=void 0!==n.clientX?n.clientX:n.pageX,this.clientY=void 0!==n.clientY?n.clientY:n.pageY,this.screenX=n.screenX||0,this.screenY=n.screenY||0),this.button=n.button,this.key=n.key||"",this.ctrlKey=n.ctrlKey,this.altKey=n.altKey,this.shiftKey=n.shiftKey,this.metaKey=n.metaKey,this.pointerId=n.pointerId||0,this.pointerType="string"==typeof n.pointerType?n.pointerType:loe[n.pointerType]||"",this.state=n.state,this.i=n,n.defaultPrevented&&Oc.X.h.call(this)}}Kt(Oc,cn);var loe={2:"touch",3:"pen",4:"mouse"};Oc.prototype.h=function(){Oc.X.h.call(this);var n=this.i;n.preventDefault?n.preventDefault():n.returnValue=!1};var Fc="closure_listenable_"+(1e6*Math.random()|0),coe=0;function doe(n,e,t,r,i){this.listener=n,this.proxy=null,this.src=e,this.type=t,this.capture=!!r,this.ha=i,this.key=++coe,this.ba=this.ea=!1}function Gp(n){n.ba=!0,n.listener=null,n.proxy=null,n.src=null,n.ha=null}function wC(n,e,t){for(const r in n)e.call(t,n[r],r,n)}function CU(n){const e={};for(const t in n)e[t]=n[t];return e}const DU="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function SU(n,e){let t,r;for(let i=1;i<arguments.length;i++){for(t in r=arguments[i],r)n[t]=r[t];for(let s=0;s<DU.length;s++)t=DU[s],Object.prototype.hasOwnProperty.call(r,t)&&(n[t]=r[t])}}function qp(n){this.src=n,this.g={},this.h=0}function EC(n,e){var t=e.type;if(t in n.g){var s,r=n.g[t],i=_U(r,e);(s=0<=i)&&Array.prototype.splice.call(r,i,1),s&&(Gp(e),0==n.g[t].length&&(delete n.g[t],n.h--))}}function IC(n,e,t,r){for(var i=0;i<n.length;++i){var s=n[i];if(!s.ba&&s.listener==e&&s.capture==!!t&&s.ha==r)return i}return-1}qp.prototype.add=function(n,e,t,r,i){var s=n.toString();(n=this.g[s])||(n=this.g[s]=[],this.h++);var o=IC(n,e,r,i);return-1<o?(e=n[o],t||(e.ea=!1)):((e=new doe(e,this.src,s,!!r,i)).ea=t,n.push(e)),e};var bC="closure_lm_"+(1e6*Math.random()|0),TC={};function AU(n,e,t,r,i){if(r&&r.once)return xU(n,e,t,r,i);if(Array.isArray(e)){for(var s=0;s<e.length;s++)AU(n,e[s],t,r,i);return null}return t=AC(t),n&&n[Fc]?n.N(e,t,Pc(r)?!!r.capture:!!r,i):MU(n,e,t,!1,r,i)}function MU(n,e,t,r,i,s){if(!e)throw Error("Invalid event type");var o=Pc(i)?!!i.capture:!!i,a=DC(n);if(a||(n[bC]=a=new qp(n)),(t=a.add(e,t,r,o,s)).proxy)return t;if(r=function hoe(){const e=foe;return function n(t){return e.call(n.src,n.listener,t)}}(),t.proxy=r,r.src=n,r.listener=t,n.addEventListener)noe||(i=o),void 0===i&&(i=!1),n.addEventListener(e.toString(),r,i);else if(n.attachEvent)n.attachEvent(kU(e.toString()),r);else{if(!n.addListener||!n.removeListener)throw Error("addEventListener and attachEvent are unavailable.");n.addListener(r)}return t}function xU(n,e,t,r,i){if(Array.isArray(e)){for(var s=0;s<e.length;s++)xU(n,e[s],t,r,i);return null}return t=AC(t),n&&n[Fc]?n.O(e,t,Pc(r)?!!r.capture:!!r,i):MU(n,e,t,!0,r,i)}function NU(n,e,t,r,i){if(Array.isArray(e))for(var s=0;s<e.length;s++)NU(n,e[s],t,r,i);else r=Pc(r)?!!r.capture:!!r,t=AC(t),n&&n[Fc]?(n=n.i,(e=String(e).toString())in n.g&&-1<(t=IC(s=n.g[e],t,r,i))&&(Gp(s[t]),Array.prototype.splice.call(s,t,1),0==s.length&&(delete n.g[e],n.h--))):n&&(n=DC(n))&&(e=n.g[e.toString()],n=-1,e&&(n=IC(e,t,r,i)),(t=-1<n?e[n]:null)&&CC(t))}function CC(n){if("number"!=typeof n&&n&&!n.ba){var e=n.src;if(e&&e[Fc])EC(e.i,n);else{var t=n.type,r=n.proxy;e.removeEventListener?e.removeEventListener(t,r,n.capture):e.detachEvent?e.detachEvent(kU(t),r):e.addListener&&e.removeListener&&e.removeListener(r),(t=DC(e))?(EC(t,n),0==t.h&&(t.src=null,e[bC]=null)):Gp(n)}}}function kU(n){return n in TC?TC[n]:TC[n]="on"+n}function foe(n,e){if(n.ba)n=!0;else{e=new Oc(e,this);var t=n.listener,r=n.ha||n.src;n.ea&&CC(n),n=t.call(r,e)}return n}function DC(n){return(n=n[bC])instanceof qp?n:null}var SC="__closure_events_fn_"+(1e9*Math.random()>>>0);function AC(n){return"function"==typeof n?n:(n[SC]||(n[SC]=function(e){return n.handleEvent(e)}),n[SC])}function Lt(){vs.call(this),this.i=new qp(this),this.P=this,this.I=null}function Qt(n,e){var t,r=n.I;if(r)for(t=[];r;r=r.I)t.push(r);if(n=n.P,r=e.type||e,"string"==typeof e)e=new cn(e,n);else if(e instanceof cn)e.target=e.target||n;else{var i=e;SU(e=new cn(r,n),i)}if(i=!0,t)for(var s=t.length-1;0<=s;s--){var o=e.g=t[s];i=zp(o,r,!0,e)&&i}if(i=zp(o=e.g=n,r,!0,e)&&i,i=zp(o,r,!1,e)&&i,t)for(s=0;s<t.length;s++)i=zp(o=e.g=t[s],r,!1,e)&&i}function zp(n,e,t,r){if(!(e=n.i.g[String(e)]))return!0;e=e.concat();for(var i=!0,s=0;s<e.length;++s){var o=e[s];if(o&&!o.ba&&o.capture==t){var a=o.listener,u=o.ha||o.src;o.ea&&EC(n.i,o),i=!1!==a.call(u,r)&&i}}return i&&!r.defaultPrevented}Kt(Lt,vs),Lt.prototype[Fc]=!0,Lt.prototype.removeEventListener=function(n,e,t,r){NU(this,n,e,t,r)},Lt.prototype.M=function(){if(Lt.X.M.call(this),this.i){var e,n=this.i;for(e in n.g){for(var t=n.g[e],r=0;r<t.length;r++)Gp(t[r]);delete n.g[e],n.h--}}this.I=null},Lt.prototype.N=function(n,e,t,r){return this.i.add(String(n),e,!1,t,r)},Lt.prototype.O=function(n,e,t,r){return this.i.add(String(n),e,!0,t,r)};var MC=re.JSON.stringify;function poe(){var n=OU;let e=null;return n.g&&(e=n.g,n.g=n.g.next,n.g||(n.h=null),e.next=null),e}var xC,RU=new class{constructor(n,e){this.i=n,this.j=e,this.h=0,this.g=null}get(){let n;return 0<this.h?(this.h--,n=this.g,this.g=n.next,n.next=null):n=this.i(),n}}(()=>new moe,n=>n.reset());class moe{constructor(){this.next=this.g=this.h=null}set(e,t){this.h=e,this.g=t,this.next=null}reset(){this.next=this.g=this.h=null}}function yoe(n){re.setTimeout(()=>{throw n},0)}function PU(n,e){xC||function _oe(){var n=re.Promise.resolve(void 0);xC=function(){n.then(voe)}}(),NC||(xC(),NC=!0),OU.add(n,e)}var NC=!1,OU=new class goe{constructor(){this.h=this.g=null}add(e,t){const r=RU.get();r.set(e,t),this.h?this.h.next=r:this.g=r,this.h=r}};function voe(){for(var n;n=poe();){try{n.h.call(n.g)}catch(t){yoe(t)}var e=RU;e.j(n),100>e.h&&(e.h++,n.next=e.g,e.g=n)}NC=!1}function Wp(n,e){Lt.call(this),this.h=n||1,this.g=e||re,this.j=ln(this.kb,this),this.l=Date.now()}function kC(n){n.ca=!1,n.R&&(n.g.clearTimeout(n.R),n.R=null)}function RC(n,e,t){if("function"==typeof n)t&&(n=ln(n,t));else{if(!n||"function"!=typeof n.handleEvent)throw Error("Invalid listener argument");n=ln(n.handleEvent,n)}return 2147483647<Number(e)?-1:re.setTimeout(n,e||0)}function FU(n){n.g=RC(()=>{n.g=null,n.i&&(n.i=!1,FU(n))},n.j);const e=n.h;n.h=null,n.m.apply(null,e)}Kt(Wp,Lt),(H=Wp.prototype).ca=!1,H.R=null,H.kb=function(){if(this.ca){var n=Date.now()-this.l;0<n&&n<.8*this.h?this.R=this.g.setTimeout(this.j,this.h-n):(this.R&&(this.g.clearTimeout(this.R),this.R=null),Qt(this,"tick"),this.ca&&(kC(this),this.start()))}},H.start=function(){this.ca=!0,this.R||(this.R=this.g.setTimeout(this.j,this.h),this.l=Date.now())},H.M=function(){Wp.X.M.call(this),kC(this),delete this.g};class woe extends vs{constructor(e,t){super(),this.m=e,this.j=t,this.h=null,this.i=!1,this.g=null}l(e){this.h=arguments,this.g?this.i=!0:FU(this)}M(){super.M(),this.g&&(re.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Lc(n){vs.call(this),this.h=n,this.g={}}Kt(Lc,vs);var LU=[];function VU(n,e,t,r){Array.isArray(t)||(t&&(LU[0]=t.toString()),t=LU);for(var i=0;i<t.length;i++){var s=AU(e,t[i],r||n.handleEvent,!1,n.h||n);if(!s)break;n.g[s.key]=s}}function UU(n){wC(n.g,function(e,t){this.g.hasOwnProperty(t)&&CC(e)},n),n.g={}}function Kp(){this.g=!0}function hu(n,e,t,r){n.info(function(){return"XMLHTTP TEXT ("+e+"): "+function Toe(n,e){if(!n.g)return e;if(!e)return null;try{var t=JSON.parse(e);if(t)for(n=0;n<t.length;n++)if(Array.isArray(t[n])){var r=t[n];if(!(2>r.length)){var i=r[1];if(Array.isArray(i)&&!(1>i.length)){var s=i[0];if("noop"!=s&&"stop"!=s&&"close"!=s)for(var o=1;o<i.length;o++)i[o]=""}}}return MC(t)}catch{return e}}(n,t)+(r?" "+r:"")})}Lc.prototype.M=function(){Lc.X.M.call(this),UU(this)},Lc.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},Kp.prototype.Aa=function(){this.g=!1},Kp.prototype.info=function(){};var Co={},BU=null;function Qp(){return BU=BU||new Lt}function $U(n){cn.call(this,Co.Oa,n)}function Vc(n){const e=Qp();Qt(e,new $U(e,n))}function jU(n,e){cn.call(this,Co.STAT_EVENT,n),this.stat=e}function Cn(n){const e=Qp();Qt(e,new jU(e,n))}function HU(n,e){cn.call(this,Co.Pa,n),this.size=e}function Uc(n,e){if("function"!=typeof n)throw Error("Fn must not be null and must be a function");return re.setTimeout(function(){n()},e)}Co.Oa="serverreachability",Kt($U,cn),Co.STAT_EVENT="statevent",Kt(jU,cn),Co.Pa="timingevent",Kt(HU,cn);var Yp={NO_ERROR:0,lb:1,yb:2,xb:3,sb:4,wb:5,zb:6,La:7,TIMEOUT:8,Cb:9},GU={qb:"complete",Mb:"success",Ma:"error",La:"abort",Eb:"ready",Fb:"readystatechange",TIMEOUT:"timeout",Ab:"incrementaldata",Db:"progress",tb:"downloadprogress",Ub:"uploadprogress"};function PC(){}function zU(){}PC.prototype.h=null;var LC,Bc={OPEN:"a",pb:"b",Ma:"c",Bb:"d"};function OC(){cn.call(this,"d")}function FC(){cn.call(this,"c")}function Jp(){}function $c(n,e,t,r){this.l=n,this.j=e,this.m=t,this.U=r||1,this.S=new Lc(this),this.O=Coe,this.T=new Wp(n=gC?125:void 0),this.H=null,this.i=!1,this.s=this.A=this.v=this.K=this.F=this.V=this.B=null,this.D=[],this.g=null,this.C=0,this.o=this.u=null,this.Y=-1,this.I=!1,this.N=0,this.L=null,this.$=this.J=this.Z=this.P=!1,this.h=new WU}function WU(){this.i=null,this.g="",this.h=!1}Kt(OC,cn),Kt(FC,cn),Kt(Jp,PC),Jp.prototype.g=function(){return new XMLHttpRequest},Jp.prototype.i=function(){return{}},LC=new Jp;var Coe=45e3,VC={},Zp={};function UC(n,e,t){n.K=1,n.v=ng(Hi(e)),n.s=t,n.P=!0,KU(n,null)}function KU(n,e){n.F=Date.now(),jc(n),n.A=Hi(n.v);var t=n.A,r=n.U;Array.isArray(r)||(r=[String(r)]),i2(t.i,"t",r),n.C=0,t=n.l.H,n.h=new WU,n.g=A2(n.l,t?e:null,!n.s),0<n.N&&(n.L=new woe(ln(n.Ka,n,n.g),n.N)),VU(n.S,n.g,"readystatechange",n.hb),e=n.H?CU(n.H):{},n.s?(n.u||(n.u="POST"),e["Content-Type"]="application/x-www-form-urlencoded",n.g.da(n.A,n.u,n.s,e)):(n.u="GET",n.g.da(n.A,n.u,null,e)),Vc(1),function Eoe(n,e,t,r,i,s){n.info(function(){if(n.g)if(s)for(var o="",a=s.split("&"),u=0;u<a.length;u++){var l=a[u].split("=");if(1<l.length){var c=l[0];l=l[1];var d=c.split("_");o=2<=d.length&&"type"==d[1]?o+(c+"=")+l+"&":o+(c+"=redacted&")}}else o=null;else o=s;return"XMLHTTP REQ ("+r+") [attempt "+i+"]: "+e+"\n"+t+"\n"+o})}(n.j,n.u,n.A,n.m,n.U,n.s)}function QU(n){return!!n.g&&"GET"==n.u&&2!=n.K&&n.l.Da}function YU(n,e,t){let i,r=!0;for(;!n.I&&n.C<t.length;){if(i=Doe(n,t),i==Zp){4==e&&(n.o=4,Cn(14),r=!1),hu(n.j,n.m,null,"[Incomplete Response]");break}if(i==VC){n.o=4,Cn(15),hu(n.j,n.m,t,"[Invalid Chunk]"),r=!1;break}hu(n.j,n.m,i,null),BC(n,i)}QU(n)&&i!=Zp&&i!=VC&&(n.h.g="",n.C=0),4!=e||0!=t.length||n.h.h||(n.o=1,Cn(16),r=!1),n.i=n.i&&r,r?0<t.length&&!n.$&&(n.$=!0,(e=n.l).g==n&&e.$&&!e.K&&(e.j.info("Great, no buffering proxy detected. Bytes received: "+t.length),KC(e),e.K=!0,Cn(11))):(hu(n.j,n.m,t,"[Invalid Chunked Response]"),Do(n),Hc(n))}function Doe(n,e){var t=n.C,r=e.indexOf("\n",t);return-1==r?Zp:(t=Number(e.substring(t,r)),isNaN(t)?VC:(r+=1)+t>e.length?Zp:(e=e.substr(r,t),n.C=r+t,e))}function jc(n){n.V=Date.now()+n.O,JU(n,n.O)}function JU(n,e){if(null!=n.B)throw Error("WatchDog timer not null");n.B=Uc(ln(n.fb,n),e)}function Xp(n){n.B&&(re.clearTimeout(n.B),n.B=null)}function Hc(n){0==n.l.G||n.I||T2(n.l,n)}function Do(n){Xp(n);var e=n.L;e&&"function"==typeof e.na&&e.na(),n.L=null,kC(n.T),UU(n.S),n.g&&(e=n.g,n.g=null,e.abort(),e.na())}function BC(n,e){try{var t=n.l;if(0!=t.G&&(t.g==n||$C(t.h,n)))if(!n.J&&$C(t.h,n)&&3==t.G){try{var r=t.Fa.g.parse(e)}catch{r=null}if(Array.isArray(r)&&3==r.length){var i=r;if(0==i[0]){e:if(!t.u){if(t.g){if(!(t.g.F+3e3<n.F))break e;ug(t),og(t)}WC(t),Cn(18)}}else t.Ba=i[1],0<t.Ba-t.T&&37500>i[2]&&t.L&&0==t.A&&!t.v&&(t.v=Uc(ln(t.bb,t),6e3));if(1>=a2(t.h)&&t.ja){try{t.ja()}catch{}t.ja=void 0}}else Ao(t,11)}else if((n.J||t.g==n)&&ug(t),!$p(e))for(i=t.Fa.g.parse(e),e=0;e<i.length;e++){let l=i[e];if(t.T=l[0],l=l[1],2==t.G)if("c"==l[0]){t.I=l[1],t.ka=l[2];const c=l[3];null!=c&&(t.ma=c,t.j.info("VER="+t.ma));const d=l[4];null!=d&&(t.Ca=d,t.j.info("SVER="+t.Ca));const h=l[5];null!=h&&"number"==typeof h&&0<h&&(t.J=r=1.5*h,t.j.info("backChannelRequestTimeoutMs_="+r)),r=t;const f=n.g;if(f){const p=f.g?f.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(p){var s=r.h;s.g||-1==p.indexOf("spdy")&&-1==p.indexOf("quic")&&-1==p.indexOf("h2")||(s.j=s.l,s.g=new Set,s.h&&(jC(s,s.h),s.h=null))}if(r.D){const g=f.g?f.g.getResponseHeader("X-HTTP-Session-Id"):null;g&&(r.za=g,$e(r.F,r.D,g))}}t.G=3,t.l&&t.l.xa(),t.$&&(t.P=Date.now()-n.F,t.j.info("Handshake RTT: "+t.P+"ms"));var o=n;if((r=t).sa=S2(r,r.H?r.ka:null,r.V),o.J){u2(r.h,o);var a=o,u=r.J;u&&a.setTimeout(u),a.B&&(Xp(a),jc(a)),r.g=o}else I2(r);0<t.i.length&&ag(t)}else"stop"!=l[0]&&"close"!=l[0]||Ao(t,7);else 3==t.G&&("stop"==l[0]||"close"==l[0]?"stop"==l[0]?Ao(t,7):zC(t):"noop"!=l[0]&&t.l&&t.l.wa(l),t.A=0)}Vc(4)}catch{}}function ZU(n,e){if(n.forEach&&"function"==typeof n.forEach)n.forEach(e,void 0);else if(Up(n)||"string"==typeof n)Array.prototype.forEach.call(n,e,void 0);else for(var t=function Aoe(n){if(n.oa&&"function"==typeof n.oa)return n.oa();if(!n.W||"function"!=typeof n.W){if(typeof Map<"u"&&n instanceof Map)return Array.from(n.keys());if(!(typeof Set<"u"&&n instanceof Set)){if(Up(n)||"string"==typeof n){var e=[];n=n.length;for(var t=0;t<n;t++)e.push(t);return e}e=[],t=0;for(const r in n)e[t++]=r;return e}}}(n),r=function Soe(n){if(n.W&&"function"==typeof n.W)return n.W();if(typeof Map<"u"&&n instanceof Map||typeof Set<"u"&&n instanceof Set)return Array.from(n.values());if("string"==typeof n)return n.split("");if(Up(n)){for(var e=[],t=n.length,r=0;r<t;r++)e.push(n[r]);return e}for(r in e=[],t=0,n)e[t++]=n[r];return e}(n),i=r.length,s=0;s<i;s++)e.call(void 0,r[s],t&&t[s],n)}(H=$c.prototype).setTimeout=function(n){this.O=n},H.hb=function(n){n=n.target;const e=this.L;e&&3==Gi(n)?e.l():this.Ka(n)},H.Ka=function(n){try{if(n==this.g)e:{const c=Gi(this.g);var e=this.g.Ea();const d=this.g.aa();if(!(3>c)&&(3!=c||gC||this.g&&(this.h.h||this.g.fa()||m2(this.g)))){this.I||4!=c||7==e||Vc(8==e||0>=d?3:2),Xp(this);var t=this.g.aa();this.Y=t;t:if(QU(this)){var r=m2(this.g);n="";var i=r.length,s=4==Gi(this.g);if(!this.h.i){if(typeof TextDecoder>"u"){Do(this),Hc(this);var o="";break t}this.h.i=new re.TextDecoder}for(e=0;e<i;e++)this.h.h=!0,n+=this.h.i.decode(r[e],{stream:s&&e==i-1});r.splice(0,i),this.h.g+=n,this.C=0,o=this.h.g}else o=this.g.fa();if(this.i=200==t,function Ioe(n,e,t,r,i,s,o){n.info(function(){return"XMLHTTP RESP ("+r+") [ attempt "+i+"]: "+e+"\n"+t+"\n"+s+" "+o})}(this.j,this.u,this.A,this.m,this.U,c,t),this.i){if(this.Z&&!this.J){t:{if(this.g){var a,u=this.g;if((a=u.g?u.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!$p(a)){var l=a;break t}}l=null}if(!(t=l)){this.i=!1,this.o=3,Cn(12),Do(this),Hc(this);break e}hu(this.j,this.m,t,"Initial handshake response via X-HTTP-Initial-Response"),this.J=!0,BC(this,t)}this.P?(YU(this,c,o),gC&&this.i&&3==c&&(VU(this.S,this.T,"tick",this.gb),this.T.start())):(hu(this.j,this.m,o,null),BC(this,o)),4==c&&Do(this),this.i&&!this.I&&(4==c?T2(this.l,this):(this.i=!1,jc(this)))}else 400==t&&0<o.indexOf("Unknown SID")?(this.o=3,Cn(12)):(this.o=0,Cn(13)),Do(this),Hc(this)}}}catch{}},H.gb=function(){if(this.g){var n=Gi(this.g),e=this.g.fa();this.C<e.length&&(Xp(this),YU(this,n,e),this.i&&4!=n&&jc(this))}},H.cancel=function(){this.I=!0,Do(this)},H.fb=function(){this.B=null;const n=Date.now();0<=n-this.V?(function boe(n,e){n.info(function(){return"TIMEOUT: "+e})}(this.j,this.A),2!=this.K&&(Vc(3),Cn(17)),Do(this),this.o=2,Hc(this)):JU(this,this.V-n)};var XU=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function So(n,e){if(this.g=this.s=this.j="",this.m=null,this.o=this.l="",this.h=!1,n instanceof So){this.h=void 0!==e?e:n.h,eg(this,n.j),this.s=n.s,this.g=n.g,tg(this,n.m),this.l=n.l,e=n.i;var t=new zc;t.i=e.i,e.g&&(t.g=new Map(e.g),t.h=e.h),e2(this,t),this.o=n.o}else n&&(t=String(n).match(XU))?(this.h=!!e,eg(this,t[1]||"",!0),this.s=Gc(t[2]||""),this.g=Gc(t[3]||"",!0),tg(this,t[4]),this.l=Gc(t[5]||"",!0),e2(this,t[6]||"",!0),this.o=Gc(t[7]||"")):(this.h=!!e,this.i=new zc(null,this.h))}function Hi(n){return new So(n)}function eg(n,e,t){n.j=t?Gc(e,!0):e,n.j&&(n.j=n.j.replace(/:$/,""))}function tg(n,e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);n.m=e}else n.m=null}function e2(n,e,t){e instanceof zc?(n.i=e,function Ooe(n,e){e&&!n.j&&(ws(n),n.i=null,n.g.forEach(function(t,r){var i=r.toLowerCase();r!=i&&(n2(this,r),i2(this,i,t))},n)),n.j=e}(n.i,n.h)):(t||(e=qc(e,Roe)),n.i=new zc(e,n.h))}function $e(n,e,t){n.i.set(e,t)}function ng(n){return $e(n,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),n}function Gc(n,e){return n?e?decodeURI(n.replace(/%25/g,"%2525")):decodeURIComponent(n):""}function qc(n,e,t){return"string"==typeof n?(n=encodeURI(n).replace(e,xoe),t&&(n=n.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),n):null}function xoe(n){return"%"+((n=n.charCodeAt(0))>>4&15).toString(16)+(15&n).toString(16)}So.prototype.toString=function(){var n=[],e=this.j;e&&n.push(qc(e,t2,!0),":");var t=this.g;return(t||"file"==e)&&(n.push("//"),(e=this.s)&&n.push(qc(e,t2,!0),"@"),n.push(encodeURIComponent(String(t)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(t=this.m)&&n.push(":",String(t))),(t=this.l)&&(this.g&&"/"!=t.charAt(0)&&n.push("/"),n.push(qc(t,"/"==t.charAt(0)?koe:Noe,!0))),(t=this.i.toString())&&n.push("?",t),(t=this.o)&&n.push("#",qc(t,Poe)),n.join("")};var t2=/[#\/\?@]/g,Noe=/[#\?:]/g,koe=/[#\?]/g,Roe=/[#\?@]/g,Poe=/#/g;function zc(n,e){this.h=this.g=null,this.i=n||null,this.j=!!e}function ws(n){n.g||(n.g=new Map,n.h=0,n.i&&function Moe(n,e){if(n){n=n.split("&");for(var t=0;t<n.length;t++){var r=n[t].indexOf("="),i=null;if(0<=r){var s=n[t].substring(0,r);i=n[t].substring(r+1)}else s=n[t];e(s,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}(n.i,function(e,t){n.add(decodeURIComponent(e.replace(/\+/g," ")),t)}))}function n2(n,e){ws(n),e=fu(n,e),n.g.has(e)&&(n.i=null,n.h-=n.g.get(e).length,n.g.delete(e))}function r2(n,e){return ws(n),e=fu(n,e),n.g.has(e)}function i2(n,e,t){n2(n,e),0<t.length&&(n.i=null,n.g.set(fu(n,e),hC(t)),n.h+=t.length)}function fu(n,e){return e=String(e),n.j&&(e=e.toLowerCase()),e}function s2(n){this.l=n||Loe,n=re.PerformanceNavigationTiming?0<(n=re.performance.getEntriesByType("navigation")).length&&("hq"==n[0].nextHopProtocol||"h2"==n[0].nextHopProtocol):!!(re.g&&re.g.Ga&&re.g.Ga()&&re.g.Ga().Zb),this.j=n?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}(H=zc.prototype).add=function(n,e){ws(this),this.i=null,n=fu(this,n);var t=this.g.get(n);return t||this.g.set(n,t=[]),t.push(e),this.h+=1,this},H.forEach=function(n,e){ws(this),this.g.forEach(function(t,r){t.forEach(function(i){n.call(e,i,r,this)},this)},this)},H.oa=function(){ws(this);const n=Array.from(this.g.values()),e=Array.from(this.g.keys()),t=[];for(let r=0;r<e.length;r++){const i=n[r];for(let s=0;s<i.length;s++)t.push(e[r])}return t},H.W=function(n){ws(this);let e=[];if("string"==typeof n)r2(this,n)&&(e=e.concat(this.g.get(fu(this,n))));else{n=Array.from(this.g.values());for(let t=0;t<n.length;t++)e=e.concat(n[t])}return e},H.set=function(n,e){return ws(this),this.i=null,r2(this,n=fu(this,n))&&(this.h-=this.g.get(n).length),this.g.set(n,[e]),this.h+=1,this},H.get=function(n,e){return n&&0<(n=this.W(n)).length?String(n[0]):e},H.toString=function(){if(this.i)return this.i;if(!this.g)return"";const n=[],e=Array.from(this.g.keys());for(var t=0;t<e.length;t++){var r=e[t];const s=encodeURIComponent(String(r)),o=this.W(r);for(r=0;r<o.length;r++){var i=s;""!==o[r]&&(i+="="+encodeURIComponent(String(o[r]))),n.push(i)}}return this.i=n.join("&")};var Loe=10;function o2(n){return!!n.h||!!n.g&&n.g.size>=n.j}function a2(n){return n.h?1:n.g?n.g.size:0}function $C(n,e){return n.h?n.h==e:!!n.g&&n.g.has(e)}function jC(n,e){n.g?n.g.add(e):n.h=e}function u2(n,e){n.h&&n.h==e?n.h=null:n.g&&n.g.has(e)&&n.g.delete(e)}function l2(n){if(null!=n.h)return n.i.concat(n.h.D);if(null!=n.g&&0!==n.g.size){let e=n.i;for(const t of n.g.values())e=e.concat(t.D);return e}return hC(n.i)}function HC(){}function Voe(){this.g=new HC}function Uoe(n,e,t){const r=t||"";try{ZU(n,function(i,s){let o=i;Pc(i)&&(o=MC(i)),e.push(r+s+"="+encodeURIComponent(o))})}catch(i){throw e.push(r+"type="+encodeURIComponent("_badmap")),i}}function rg(n,e,t,r,i){try{e.onload=null,e.onerror=null,e.onabort=null,e.ontimeout=null,i(r)}catch{}}function Wc(n){this.l=n.$b||null,this.j=n.ib||!1}function ig(n,e){Lt.call(this),this.D=n,this.u=e,this.m=void 0,this.readyState=GC,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}s2.prototype.cancel=function(){if(this.i=l2(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){for(const n of this.g.values())n.cancel();this.g.clear()}},HC.prototype.stringify=function(n){return re.JSON.stringify(n,void 0)},HC.prototype.parse=function(n){return re.JSON.parse(n,void 0)},Kt(Wc,PC),Wc.prototype.g=function(){return new ig(this.l,this.j)},Wc.prototype.i=function(n){return function(){return n}}({}),Kt(ig,Lt);var GC=0;function c2(n){n.j.read().then(n.Sa.bind(n)).catch(n.ga.bind(n))}function Kc(n){n.readyState=4,n.l=null,n.j=null,n.A=null,Qc(n)}function Qc(n){n.onreadystatechange&&n.onreadystatechange.call(n)}(H=ig.prototype).open=function(n,e){if(this.readyState!=GC)throw this.abort(),Error("Error reopening a connection");this.C=n,this.B=e,this.readyState=1,Qc(this)},H.send=function(n){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;const e={headers:this.v,method:this.C,credentials:this.m,cache:void 0};n&&(e.body=n),(this.D||re).fetch(new Request(this.B,e)).then(this.Va.bind(this),this.ga.bind(this))},H.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,Kc(this)),this.readyState=GC},H.Va=function(n){if(this.g&&(this.l=n,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=n.headers,this.readyState=2,Qc(this)),this.g&&(this.readyState=3,Qc(this),this.g)))if("arraybuffer"===this.responseType)n.arrayBuffer().then(this.Ta.bind(this),this.ga.bind(this));else if(typeof re.ReadableStream<"u"&&"body"in n){if(this.j=n.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;c2(this)}else n.text().then(this.Ua.bind(this),this.ga.bind(this))},H.Sa=function(n){if(this.g){if(this.u&&n.value)this.response.push(n.value);else if(!this.u){var e=n.value?n.value:new Uint8Array(0);(e=this.A.decode(e,{stream:!n.done}))&&(this.response=this.responseText+=e)}n.done?Kc(this):Qc(this),3==this.readyState&&c2(this)}},H.Ua=function(n){this.g&&(this.response=this.responseText=n,Kc(this))},H.Ta=function(n){this.g&&(this.response=n,Kc(this))},H.ga=function(){this.g&&Kc(this)},H.setRequestHeader=function(n,e){this.v.append(n,e)},H.getResponseHeader=function(n){return this.h&&this.h.get(n.toLowerCase())||""},H.getAllResponseHeaders=function(){if(!this.h)return"";const n=[],e=this.h.entries();for(var t=e.next();!t.done;)n.push((t=t.value)[0]+": "+t[1]),t=e.next();return n.join("\r\n")},Object.defineProperty(ig.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(n){this.m=n?"include":"same-origin"}});var $oe=re.JSON.parse;function gt(n){Lt.call(this),this.headers=new Map,this.u=n||null,this.h=!1,this.C=this.g=null,this.H="",this.m=0,this.j="",this.l=this.F=this.v=this.D=!1,this.B=0,this.A=null,this.J=d2,this.K=this.L=!1}Kt(gt,Lt);var d2="",joe=/^https?$/i,Hoe=["POST","PUT"];function h2(n,e){n.h=!1,n.g&&(n.l=!0,n.g.abort(),n.l=!1),n.j=e,n.m=5,f2(n),sg(n)}function f2(n){n.D||(n.D=!0,Qt(n,"complete"),Qt(n,"error"))}function p2(n){if(n.h&&typeof cC<"u"&&(!n.C[1]||4!=Gi(n)||2!=n.aa()))if(n.v&&4==Gi(n))RC(n.Ha,0,n);else if(Qt(n,"readystatechange"),4==Gi(n)){n.h=!1;try{const a=n.aa();e:switch(a){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var e=!0;break e;default:e=!1}var t;if(!(t=e)){var r;if(r=0===a){var i=String(n.H).match(XU)[1]||null;if(!i&&re.self&&re.self.location){var s=re.self.location.protocol;i=s.substr(0,s.length-1)}r=!joe.test(i?i.toLowerCase():"")}t=r}if(t)Qt(n,"complete"),Qt(n,"success");else{n.m=6;try{var o=2<Gi(n)?n.g.statusText:""}catch{o=""}n.j=o+" ["+n.aa()+"]",f2(n)}}finally{sg(n)}}}function sg(n,e){if(n.g){g2(n);const t=n.g,r=n.C[0]?Vp:null;n.g=null,n.C=null,e||Qt(n,"ready");try{t.onreadystatechange=r}catch{}}}function g2(n){n.g&&n.K&&(n.g.ontimeout=null),n.A&&(re.clearTimeout(n.A),n.A=null)}function Gi(n){return n.g?n.g.readyState:0}function m2(n){try{if(!n.g)return null;if("response"in n.g)return n.g.response;switch(n.J){case d2:case"text":return n.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in n.g)return n.g.mozResponseArrayBuffer}return null}catch{return null}}function y2(n){let e="";return wC(n,function(t,r){e+=r,e+=":",e+=t,e+="\r\n"}),e}function qC(n,e,t){e:{for(r in t){var r=!1;break e}r=!0}r||(t=y2(t),"string"==typeof n?null!=t&&encodeURIComponent(String(t)):$e(n,e,t))}function Yc(n,e,t){return t&&t.internalChannelParams&&t.internalChannelParams[n]||e}function _2(n){this.Ca=0,this.i=[],this.j=new Kp,this.ka=this.sa=this.F=this.V=this.g=this.za=this.D=this.ia=this.o=this.S=this.s=null,this.$a=this.U=0,this.Ya=Yc("failFast",!1,n),this.L=this.v=this.u=this.m=this.l=null,this.Y=!0,this.pa=this.Ba=this.T=-1,this.Z=this.A=this.C=0,this.Wa=Yc("baseRetryDelayMs",5e3,n),this.ab=Yc("retryDelaySeedMs",1e4,n),this.Za=Yc("forwardChannelMaxRetries",2,n),this.ta=Yc("forwardChannelRequestTimeoutMs",2e4,n),this.ra=n&&n.xmlHttpFactory||void 0,this.Da=n&&n.Yb||!1,this.J=void 0,this.H=n&&n.supportsCrossDomainXhr||!1,this.I="",this.h=new s2(n&&n.concurrentRequestLimit),this.Fa=new Voe,this.O=n&&n.fastHandshake||!1,this.N=n&&n.encodeInitMessageHeaders||!1,this.O&&this.N&&(this.N=!1),this.Xa=n&&n.Wb||!1,n&&n.Aa&&this.j.Aa(),n&&n.forceLongPolling&&(this.Y=!1),this.$=!this.O&&this.Y&&n&&n.detectBufferingProxy||!1,this.ja=void 0,this.P=0,this.K=!1,this.la=this.B=null}function zC(n){if(v2(n),3==n.G){var e=n.U++,t=Hi(n.F);$e(t,"SID",n.I),$e(t,"RID",e),$e(t,"TYPE","terminate"),Jc(n,t),(e=new $c(n,n.j,e,void 0)).K=2,e.v=ng(Hi(t)),t=!1,re.navigator&&re.navigator.sendBeacon&&(t=re.navigator.sendBeacon(e.v.toString(),"")),!t&&re.Image&&((new Image).src=e.v,t=!0),t||(e.g=A2(e.l,null),e.g.da(e.v)),e.F=Date.now(),jc(e)}D2(n)}function og(n){n.g&&(KC(n),n.g.cancel(),n.g=null)}function v2(n){og(n),n.u&&(re.clearTimeout(n.u),n.u=null),ug(n),n.h.cancel(),n.m&&("number"==typeof n.m&&re.clearTimeout(n.m),n.m=null)}function ag(n){o2(n.h)||n.m||(n.m=!0,PU(n.Ja,n),n.C=0)}function w2(n,e){var t;t=e?e.m:n.U++;const r=Hi(n.F);$e(r,"SID",n.I),$e(r,"RID",t),$e(r,"AID",n.T),Jc(n,r),n.o&&n.s&&qC(r,n.o,n.s),t=new $c(n,n.j,t,n.C+1),null===n.o&&(t.H=n.s),e&&(n.i=e.D.concat(n.i)),e=E2(n,t,1e3),t.setTimeout(Math.round(.5*n.ta)+Math.round(.5*n.ta*Math.random())),jC(n.h,t),UC(t,r,e)}function Jc(n,e){n.ia&&wC(n.ia,function(t,r){$e(e,r,t)}),n.l&&ZU({},function(t,r){$e(e,r,t)})}function E2(n,e,t){t=Math.min(n.i.length,t);var r=n.l?ln(n.l.Qa,n.l,n):null;e:{var i=n.i;let s=-1;for(;;){const o=["count="+t];-1==s?0<t?(s=i[0].h,o.push("ofs="+s)):s=0:o.push("ofs="+s);let a=!0;for(let u=0;u<t;u++){let l=i[u].h;const c=i[u].g;if(l-=s,0>l)s=Math.max(0,i[u].h-100),a=!1;else try{Uoe(c,o,"req"+l+"_")}catch{r&&r(c)}}if(a){r=o.join("&");break e}}}return n=n.i.splice(0,t),e.D=n,r}function I2(n){n.g||n.u||(n.Z=1,PU(n.Ia,n),n.A=0)}function WC(n){return!(n.g||n.u||3<=n.A||(n.Z++,n.u=Uc(ln(n.Ia,n),C2(n,n.A)),n.A++,0))}function KC(n){null!=n.B&&(re.clearTimeout(n.B),n.B=null)}function b2(n){n.g=new $c(n,n.j,"rpc",n.Z),null===n.o&&(n.g.H=n.s),n.g.N=0;var e=Hi(n.sa);$e(e,"RID","rpc"),$e(e,"SID",n.I),$e(e,"CI",n.L?"0":"1"),$e(e,"AID",n.T),$e(e,"TYPE","xmlhttp"),Jc(n,e),n.o&&n.s&&qC(e,n.o,n.s),n.J&&n.g.setTimeout(n.J);var t=n.g;n=n.ka,t.K=1,t.v=ng(Hi(e)),t.s=null,t.P=!0,KU(t,n)}function ug(n){null!=n.v&&(re.clearTimeout(n.v),n.v=null)}function T2(n,e){var t=null;if(n.g==e){ug(n),KC(n),n.g=null;var r=2}else{if(!$C(n.h,e))return;t=e.D,u2(n.h,e),r=1}if(0!=n.G)if(n.pa=e.Y,e.i)if(1==r){t=e.s?e.s.length:0,e=Date.now()-e.F;var i=n.C;Qt(r=Qp(),new HU(r,t,e,i)),ag(n)}else I2(n);else if(3==(i=e.o)||0==i&&0<n.pa||!(1==r&&function qoe(n,e){return!(a2(n.h)>=n.h.j-(n.m?1:0)||(n.m?(n.i=e.D.concat(n.i),0):1==n.G||2==n.G||n.C>=(n.Ya?0:n.Za)||(n.m=Uc(ln(n.Ja,n,e),C2(n,n.C)),n.C++,0)))}(n,e)||2==r&&WC(n)))switch(t&&0<t.length&&(e=n.h,e.i=e.i.concat(t)),i){case 1:Ao(n,5);break;case 4:Ao(n,10);break;case 3:Ao(n,6);break;default:Ao(n,2)}}function C2(n,e){let t=n.Wa+Math.floor(Math.random()*n.ab);return n.l||(t*=2),t*e}function Ao(n,e){if(n.j.info("Error code "+e),2==e){var t=null;n.l&&(t=null);var r=ln(n.jb,n);t||(t=new So("//www.google.com/images/cleardot.gif"),re.location&&"http"==re.location.protocol||eg(t,"https"),ng(t)),function Boe(n,e){const t=new Kp;if(re.Image){const r=new Image;r.onload=Bp(rg,t,r,"TestLoadImage: loaded",!0,e),r.onerror=Bp(rg,t,r,"TestLoadImage: error",!1,e),r.onabort=Bp(rg,t,r,"TestLoadImage: abort",!1,e),r.ontimeout=Bp(rg,t,r,"TestLoadImage: timeout",!1,e),re.setTimeout(function(){r.ontimeout&&r.ontimeout()},1e4),r.src=n}else e(!1)}(t.toString(),r)}else Cn(2);n.G=0,n.l&&n.l.va(e),D2(n),v2(n)}function D2(n){if(n.G=0,n.la=[],n.l){const e=l2(n.h);(0!=e.length||0!=n.i.length)&&(vU(n.la,e),vU(n.la,n.i),n.h.i.length=0,hC(n.i),n.i.length=0),n.l.ua()}}function S2(n,e,t){var r=t instanceof So?Hi(t):new So(t,void 0);if(""!=r.g)e&&(r.g=e+"."+r.g),tg(r,r.m);else{var i=re.location;r=i.protocol,e=e?e+"."+i.hostname:i.hostname,i=+i.port;var s=new So(null,void 0);r&&eg(s,r),e&&(s.g=e),i&&tg(s,i),t&&(s.l=t),r=s}return e=n.za,(t=n.D)&&e&&$e(r,t,e),$e(r,"VER",n.ma),Jc(n,r),r}function A2(n,e,t){if(e&&!n.H)throw Error("Can't create secondary domain capable XhrIo object.");return(e=new gt(t&&n.Da&&!n.ra?new Wc({ib:!0}):n.ra)).L=n.H,e}function M2(){}function lg(){if(du&&!(10<=Number(uoe)))throw Error("Environmental error: no available transport.")}function or(n,e){Lt.call(this),this.g=new _2(e),this.l=n,this.h=e&&e.messageUrlParams||null,n=e&&e.messageHeaders||null,e&&e.clientProtocolHeaderRequired&&(n?n["X-Client-Protocol"]="webchannel":n={"X-Client-Protocol":"webchannel"}),this.g.s=n,n=e&&e.initMessageHeaders||null,e&&e.messageContentType&&(n?n["X-WebChannel-Content-Type"]=e.messageContentType:n={"X-WebChannel-Content-Type":e.messageContentType}),e&&e.ya&&(n?n["X-WebChannel-Client-Profile"]=e.ya:n={"X-WebChannel-Client-Profile":e.ya}),this.g.S=n,(n=e&&e.Xb)&&!$p(n)&&(this.g.o=n),this.A=e&&e.supportsCrossDomainXhr||!1,this.v=e&&e.sendRawJson||!1,(e=e&&e.httpSessionIdParam)&&!$p(e)&&(this.g.D=e,null!==(n=this.h)&&e in n&&e in(n=this.h)&&delete n[e]),this.j=new pu(this)}function x2(n){OC.call(this);var e=n.__sm__;if(e){e:{for(const t in e){n=t;break e}n=void 0}(this.i=n)&&(n=this.i,e=null!==e&&n in e?e[n]:void 0),this.data=e}else this.data=n}function N2(){FC.call(this),this.status=1}function pu(n){this.g=n}(H=gt.prototype).da=function(n,e,t,r){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.H+"; newUri="+n);e=e?e.toUpperCase():"GET",this.H=n,this.j="",this.m=0,this.D=!1,this.h=!0,this.g=this.u?this.u.g():LC.g(),this.C=function qU(n){return n.h||(n.h=n.i())}(this.u?this.u:LC),this.g.onreadystatechange=ln(this.Ha,this);try{this.F=!0,this.g.open(e,String(n),!0),this.F=!1}catch(s){return void h2(this,s)}if(n=t||"",t=new Map(this.headers),r)if(Object.getPrototypeOf(r)===Object.prototype)for(var i in r)t.set(i,r[i]);else{if("function"!=typeof r.keys||"function"!=typeof r.get)throw Error("Unknown input type for opt_headers: "+String(r));for(const s of r.keys())t.set(s,r.get(s))}r=Array.from(t.keys()).find(s=>"content-type"==s.toLowerCase()),i=re.FormData&&n instanceof re.FormData,!(0<=_U(Hoe,e))||r||i||t.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[s,o]of t)this.g.setRequestHeader(s,o);this.J&&(this.g.responseType=this.J),"withCredentials"in this.g&&this.g.withCredentials!==this.L&&(this.g.withCredentials=this.L);try{g2(this),0<this.B&&((this.K=function Goe(n){return du&&function aoe(){return function roe(n){var e=ooe;return Object.prototype.hasOwnProperty.call(e,9)?e[9]:e[9]=n(9)}(function(){let n=0;const e=wU(String(Hp)).split("."),t=wU("9").split("."),r=Math.max(e.length,t.length);for(let o=0;0==n&&o<r;o++){var i=e[o]||"",s=t[o]||"";do{if(i=/(\d*)(\D*)(.*)/.exec(i)||["","","",""],s=/(\d*)(\D*)(.*)/.exec(s)||["","","",""],0==i[0].length&&0==s[0].length)break;n=fC(0==i[1].length?0:parseInt(i[1],10),0==s[1].length?0:parseInt(s[1],10))||fC(0==i[2].length,0==s[2].length)||fC(i[2],s[2]),i=i[3],s=s[3]}while(0==n)}return 0<=n})}()&&"number"==typeof n.timeout&&void 0!==n.ontimeout}(this.g))?(this.g.timeout=this.B,this.g.ontimeout=ln(this.qa,this)):this.A=RC(this.qa,this.B,this)),this.v=!0,this.g.send(n),this.v=!1}catch(s){h2(this,s)}},H.qa=function(){typeof cC<"u"&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,Qt(this,"timeout"),this.abort(8))},H.abort=function(n){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=n||7,Qt(this,"complete"),Qt(this,"abort"),sg(this))},H.M=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),sg(this,!0)),gt.X.M.call(this)},H.Ha=function(){this.s||(this.F||this.v||this.l?p2(this):this.eb())},H.eb=function(){p2(this)},H.aa=function(){try{return 2<Gi(this)?this.g.status:-1}catch{return-1}},H.fa=function(){try{return this.g?this.g.responseText:""}catch{return""}},H.Ra=function(n){if(this.g){var e=this.g.responseText;return n&&0==e.indexOf(n)&&(e=e.substring(n.length)),$oe(e)}},H.Ea=function(){return this.m},H.Na=function(){return"string"==typeof this.j?this.j:String(this.j)},(H=_2.prototype).ma=8,H.G=1,H.Ja=function(n){if(this.m)if(this.m=null,1==this.G){if(!n){this.U=Math.floor(1e5*Math.random()),n=this.U++;const i=new $c(this,this.j,n,void 0);let s=this.s;if(this.S&&(s?(s=CU(s),SU(s,this.S)):s=this.S),null!==this.o||this.N||(i.H=s,s=null),this.O)e:{for(var e=0,t=0;t<this.i.length;t++){var r=this.i[t];if(void 0===(r="__data__"in r.g&&"string"==typeof(r=r.g.__data__)?r.length:void 0))break;if(4096<(e+=r)){e=t;break e}if(4096===e||t===this.i.length-1){e=t+1;break e}}e=1e3}else e=1e3;e=E2(this,i,e),$e(t=Hi(this.F),"RID",n),$e(t,"CVER",22),this.D&&$e(t,"X-HTTP-Session-Id",this.D),Jc(this,t),s&&(this.N?e="headers="+encodeURIComponent(String(y2(s)))+"&"+e:this.o&&qC(t,this.o,s)),jC(this.h,i),this.Xa&&$e(t,"TYPE","init"),this.O?($e(t,"$req",e),$e(t,"SID","null"),i.Z=!0,UC(i,t,null)):UC(i,t,e),this.G=2}}else 3==this.G&&(n?w2(this,n):0==this.i.length||o2(this.h)||w2(this))},H.Ia=function(){if(this.u=null,b2(this),this.$&&!(this.K||null==this.g||0>=this.P)){var n=2*this.P;this.j.info("BP detection timer enabled: "+n),this.B=Uc(ln(this.cb,this),n)}},H.cb=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.L=!1,this.K=!0,Cn(10),og(this),b2(this))},H.bb=function(){null!=this.v&&(this.v=null,og(this),WC(this),Cn(19))},H.jb=function(n){n?(this.j.info("Successfully pinged google.com"),Cn(2)):(this.j.info("Failed to ping google.com"),Cn(1))},(H=M2.prototype).xa=function(){},H.wa=function(){},H.va=function(){},H.ua=function(){},H.Qa=function(){},lg.prototype.g=function(n,e){return new or(n,e)},Kt(or,Lt),or.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.H=!0);var n=this.g,e=this.l,t=this.h||void 0;Cn(0),n.V=e,n.ia=t||{},n.L=n.Y,n.F=S2(n,null,n.V),ag(n)},or.prototype.close=function(){zC(this.g)},or.prototype.u=function(n){var e=this.g;if("string"==typeof n){var t={};t.__data__=n,n=t}else this.v&&((t={}).__data__=MC(n),n=t);e.i.push(new class{constructor(n,e){this.h=n,this.g=e}}(e.$a++,n)),3==e.G&&ag(e)},or.prototype.M=function(){this.g.l=null,delete this.j,zC(this.g),delete this.g,or.X.M.call(this)},Kt(x2,OC),Kt(N2,FC),Kt(pu,M2),pu.prototype.xa=function(){Qt(this.g,"a")},pu.prototype.wa=function(n){Qt(this.g,new x2(n))},pu.prototype.va=function(n){Qt(this.g,new N2(n))},pu.prototype.ua=function(){Qt(this.g,"b")},lg.prototype.createWebChannel=lg.prototype.g,or.prototype.send=or.prototype.u,or.prototype.open=or.prototype.m,or.prototype.close=or.prototype.close,Yp.NO_ERROR=0,Yp.TIMEOUT=8,Yp.HTTP_ERROR=6,GU.COMPLETE="complete",zU.EventType=Bc,Bc.OPEN="a",Bc.CLOSE="b",Bc.ERROR="c",Bc.MESSAGE="d",Lt.prototype.listen=Lt.prototype.N,gt.prototype.listenOnce=gt.prototype.O,gt.prototype.getLastError=gt.prototype.Na,gt.prototype.getLastErrorCode=gt.prototype.Ea,gt.prototype.getStatus=gt.prototype.aa,gt.prototype.getResponseJson=gt.prototype.Ra,gt.prototype.getResponseText=gt.prototype.fa,gt.prototype.send=gt.prototype.da;var zoe=ji.createWebChannelTransport=function(){return new lg},Woe=ji.getStatEventTarget=function(){return Qp()},QC=ji.ErrorCode=Yp,Koe=ji.EventType=GU,Qoe=ji.Event=Co,k2=ji.Stat={rb:0,ub:1,vb:2,Ob:3,Tb:4,Qb:5,Rb:6,Pb:7,Nb:8,Sb:9,PROXY:10,NOPROXY:11,Lb:12,Hb:13,Ib:14,Gb:15,Jb:16,Kb:17,nb:18,mb:19,ob:20},Yoe=ji.FetchXmlHttpFactory=Wc,cg=ji.WebChannel=zU,Joe=ji.XhrIo=gt;const R2="@firebase/firestore";class Vt{constructor(e){this.uid=e}isAuthenticated(){return null!=this.uid}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Vt.UNAUTHENTICATED=new Vt(null),Vt.GOOGLE_CREDENTIALS=new Vt("google-credentials-uid"),Vt.FIRST_PARTY=new Vt("first-party-uid"),Vt.MOCK_USER=new Vt("mock-user");let gu="9.10.0";const Es=new ru("@firebase/firestore");function YC(){return Es.logLevel}function A(n,...e){if(Es.logLevel<=_e.DEBUG){const t=e.map(JC);Es.debug(`Firestore (${gu}): ${n}`,...t)}}function st(n,...e){if(Es.logLevel<=_e.ERROR){const t=e.map(JC);Es.error(`Firestore (${gu}): ${n}`,...t)}}function mu(n,...e){if(Es.logLevel<=_e.WARN){const t=e.map(JC);Es.warn(`Firestore (${gu}): ${n}`,...t)}}function JC(n){if("string"==typeof n)return n;try{return JSON.stringify(n)}catch{return n}}function B(n="Unexpected state"){const e=`FIRESTORE (${gu}) INTERNAL ASSERTION FAILED: `+n;throw st(e),new Error(e)}function te(n,e){n||B()}function R(n,e){return n}const E={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class S extends Br{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class Ut{constructor(){this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}}class P2{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class Zoe{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable(()=>t(Vt.UNAUTHENTICATED))}shutdown(){}}class eae{constructor(e){this.t=e,this.currentUser=Vt.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){var r=this;let i=this.i;const s=l=>this.i!==i?(i=this.i,t(l)):Promise.resolve();let o=new Ut;this.o=()=>{this.i++,this.currentUser=this.u(),o.resolve(),o=new Ut,e.enqueueRetryable(()=>s(this.currentUser))};const a=()=>{const l=o;e.enqueueRetryable(y(function*(){yield l.promise,yield s(r.currentUser)}))},u=l=>{A("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=l,this.auth.addAuthTokenListener(this.o),a()};this.t.onInit(l=>u(l)),setTimeout(()=>{if(!this.auth){const l=this.t.getImmediate({optional:!0});l?u(l):(A("FirebaseAuthCredentialsProvider","Auth not yet detected"),o.resolve(),o=new Ut)}},0),a()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then(r=>this.i!==e?(A("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(te("string"==typeof r.accessToken),new P2(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const e=this.auth&&this.auth.getUid();return te(null===e||"string"==typeof e),new Vt(e)}}class tae{constructor(e,t,r,i){this.h=e,this.l=t,this.m=r,this.g=i,this.type="FirstParty",this.user=Vt.FIRST_PARTY,this.p=new Map}I(){return this.g?this.g():(te(!("object"!=typeof this.h||null===this.h||!this.h.auth||!this.h.auth.getAuthHeaderValueForFirstParty)),this.h.auth.getAuthHeaderValueForFirstParty([]))}get headers(){this.p.set("X-Goog-AuthUser",this.l);const e=this.I();return e&&this.p.set("Authorization",e),this.m&&this.p.set("X-Goog-Iam-Authorization-Token",this.m),this.p}}class nae{constructor(e,t,r,i){this.h=e,this.l=t,this.m=r,this.g=i}getToken(){return Promise.resolve(new tae(this.h,this.l,this.m,this.g))}start(e,t){e.enqueueRetryable(()=>t(Vt.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class O2{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class rae{constructor(e){this.T=e,this.forceRefresh=!1,this.appCheck=null,this.A=null}start(e,t){const r=s=>{null!=s.error&&A("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${s.error.message}`);const o=s.token!==this.A;return this.A=s.token,A("FirebaseAppCheckTokenProvider",`Received ${o?"new":"existing"} token.`),o?t(s.token):Promise.resolve()};this.o=s=>{e.enqueueRetryable(()=>r(s))};const i=s=>{A("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=s,this.appCheck.addTokenListener(this.o)};this.T.onInit(s=>i(s)),setTimeout(()=>{if(!this.appCheck){const s=this.T.getImmediate({optional:!0});s?i(s):A("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(t=>t?(te("string"==typeof t.token),this.A=t.token,new O2(t.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}function iae(n){const e=typeof self<"u"&&(self.crypto||self.msCrypto),t=new Uint8Array(n);if(e&&"function"==typeof e.getRandomValues)e.getRandomValues(t);else for(let r=0;r<n;r++)t[r]=Math.floor(256*Math.random());return t}class F2{static R(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=Math.floor(256/e.length)*e.length;let r="";for(;r.length<20;){const i=iae(40);for(let s=0;s<i.length;++s)r.length<20&&i[s]<t&&(r+=e.charAt(i[s]%e.length))}return r}}function ie(n,e){return n<e?-1:n>e?1:0}function yu(n,e,t){return n.length===e.length&&n.every((r,i)=>t(r,e[i]))}class qe{constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new S(E.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new S(E.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<-62135596800)throw new S(E.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new S(E.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return qe.fromMillis(Date.now())}static fromDate(e){return qe.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),r=Math.floor(1e6*(e-1e3*t));return new qe(t,r)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?ie(this.nanoseconds,e.nanoseconds):ie(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){return String(this.seconds- -62135596800).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}class Q{constructor(e){this.timestamp=e}static fromTimestamp(e){return new Q(e)}static min(){return new Q(new qe(0,0))}static max(){return new Q(new qe(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}class Zc{constructor(e,t,r){void 0===t?t=0:t>e.length&&B(),void 0===r?r=e.length-t:r>e.length-t&&B(),this.segments=e,this.offset=t,this.len=r}get length(){return this.len}isEqual(e){return 0===Zc.comparator(this,e)}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof Zc?e.forEach(r=>{t.push(r)}):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return this.construct(this.segments,this.offset+(e=void 0===e?1:e),this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return 0===this.length}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,r=this.limit();t<r;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const r=Math.min(e.length,t.length);for(let i=0;i<r;i++){const s=e.get(i),o=t.get(i);if(s<o)return-1;if(s>o)return 1}return e.length<t.length?-1:e.length>t.length?1:0}}class ve extends Zc{construct(e,t,r){return new ve(e,t,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}static fromString(...e){const t=[];for(const r of e){if(r.indexOf("//")>=0)throw new S(E.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);t.push(...r.split("/").filter(i=>i.length>0))}return new ve(t)}static emptyPath(){return new ve([])}}const sae=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class ot extends Zc{construct(e,t,r){return new ot(e,t,r)}static isValidIdentifier(e){return sae.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),ot.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return 1===this.length&&"__name__"===this.get(0)}static keyField(){return new ot(["__name__"])}static fromServerFormat(e){const t=[];let r="",i=0;const s=()=>{if(0===r.length)throw new S(E.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(r),r=""};let o=!1;for(;i<e.length;){const a=e[i];if("\\"===a){if(i+1===e.length)throw new S(E.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const u=e[i+1];if("\\"!==u&&"."!==u&&"`"!==u)throw new S(E.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=u,i+=2}else"`"===a?(o=!o,i++):"."!==a||o?(r+=a,i++):(s(),i++)}if(s(),o)throw new S(E.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new ot(t)}static emptyPath(){return new ot([])}}class k{constructor(e){this.path=e}static fromPath(e){return new k(ve.fromString(e))}static fromName(e){return new k(ve.fromString(e).popFirst(5))}static empty(){return new k(ve.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return null!==e&&0===ve.comparator(this.path,e.path)}toString(){return this.path.toString()}static comparator(e,t){return ve.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new k(new ve(e.slice()))}}function U2(n){return new ar(n.readTime,n.key,-1)}class ar{constructor(e,t,r){this.readTime=e,this.documentKey=t,this.largestBatchId=r}static min(){return new ar(Q.min(),k.empty(),-1)}static max(){return new ar(Q.max(),k.empty(),-1)}}function XC(n,e){let t=n.readTime.compareTo(e.readTime);return 0!==t?t:(t=k.comparator(n.documentKey,e.documentKey),0!==t?t:ie(n.largestBatchId,e.largestBatchId))}const B2="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";function Is(n){return eD.apply(this,arguments)}function eD(){return eD=y(function*(n){if(n.code!==E.FAILED_PRECONDITION||n.message!==B2)throw n;A("LocalStore","Unexpectedly lost primary lease")}),eD.apply(this,arguments)}class w{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(t=>{this.isDone=!0,this.result=t,this.nextCallback&&this.nextCallback(t)},t=>{this.isDone=!0,this.error=t,this.catchCallback&&this.catchCallback(t)})}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&B(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new w((r,i)=>{this.nextCallback=s=>{this.wrapSuccess(e,s).next(r,i)},this.catchCallback=s=>{this.wrapFailure(t,s).next(r,i)}})}toPromise(){return new Promise((e,t)=>{this.next(e,t)})}wrapUserFunction(e){try{const t=e();return t instanceof w?t:w.resolve(t)}catch(t){return w.reject(t)}}wrapSuccess(e,t){return e?this.wrapUserFunction(()=>e(t)):w.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction(()=>e(t)):w.reject(t)}static resolve(e){return new w((t,r)=>{t(e)})}static reject(e){return new w((t,r)=>{r(e)})}static waitFor(e){return new w((t,r)=>{let i=0,s=0,o=!1;e.forEach(a=>{++i,a.next(()=>{++s,o&&s===i&&t()},u=>r(u))}),o=!0,s===i&&t()})}static or(e){let t=w.resolve(!1);for(const r of e)t=t.next(i=>i?w.resolve(i):r());return t}static forEach(e,t){const r=[];return e.forEach((i,s)=>{r.push(t.call(this,i,s))}),this.waitFor(r)}static mapArray(e,t){return new w((r,i)=>{const s=e.length,o=new Array(s);let a=0;for(let u=0;u<s;u++){const l=u;t(e[l]).next(c=>{o[l]=c,++a,a===s&&r(o)},c=>i(c))}})}static doWhile(e,t){return new w((r,i)=>{const s=()=>{!0===e()?t().next(()=>{s()},i):r()};s()})}}function bs(n){return"IndexedDbTransactionError"===n.name}class Ln{constructor(e,t){this.previousValue=e,t&&(t.sequenceNumberHandler=r=>this.ut(r),this.ct=r=>t.writeSequenceNumber(r))}ut(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ct&&this.ct(e),e}}function j2(n){let e=0;for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e++;return e}function No(n,e){for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e(t,n[t])}function H2(n){for(const e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}Ln.at=-1;class Je{constructor(e,t){this.comparator=e,this.root=t||Yt.EMPTY}insert(e,t){return new Je(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,Yt.BLACK,null,null))}remove(e){return new Je(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Yt.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const r=this.comparator(e,t.key);if(0===r)return t.value;r<0?t=t.left:r>0&&(t=t.right)}return null}indexOf(e){let t=0,r=this.root;for(;!r.isEmpty();){const i=this.comparator(e,r.key);if(0===i)return t+r.left.size;i<0?r=r.left:(t+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((t,r)=>(e(t,r),!1))}toString(){const e=[];return this.inorderTraversal((t,r)=>(e.push(`${t}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new pg(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new pg(this.root,e,this.comparator,!1)}getReverseIterator(){return new pg(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new pg(this.root,e,this.comparator,!0)}}class pg{constructor(e,t,r,i){this.isReverse=i,this.nodeStack=[];let s=1;for(;!e.isEmpty();)if(s=t?r(e.key,t):1,t&&i&&(s*=-1),s<0)e=this.isReverse?e.left:e.right;else{if(0===s){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(0===this.nodeStack.length)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Yt{constructor(e,t,r,i,s){this.key=e,this.value=t,this.color=r??Yt.RED,this.left=i??Yt.EMPTY,this.right=s??Yt.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,r,i,s){return new Yt(e??this.key,t??this.value,r??this.color,i??this.left,s??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,r){let i=this;const s=r(e,i.key);return i=s<0?i.copy(null,null,null,i.left.insert(e,t,r),null):0===s?i.copy(null,t,null,null,null):i.copy(null,null,null,null,i.right.insert(e,t,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return Yt.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let r,i=this;if(t(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,t),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),0===t(e,i.key)){if(i.right.isEmpty())return Yt.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,t))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Yt.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Yt.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw B();const e=this.left.check();if(e!==this.right.check())throw B();return e+(this.isRed()?0:1)}}Yt.EMPTY=null,Yt.RED=!0,Yt.BLACK=!1,Yt.EMPTY=new class{constructor(){this.size=0}get key(){throw B()}get value(){throw B()}get color(){throw B()}get left(){throw B()}get right(){throw B()}copy(n,e,t,r,i){return this}insert(n,e,t){return new Yt(n,e)}remove(n,e){return this}isEmpty(){return!0}inorderTraversal(n){return!1}reverseTraversal(n){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class Me{constructor(e){this.comparator=e,this.data=new Je(this.comparator)}has(e){return null!==this.data.get(e)}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((t,r)=>(e(t),!1))}forEachInRange(e,t){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const i=r.getNext();if(this.comparator(i.key,e[1])>=0)return;t(i.key)}}forEachWhile(e,t){let r;for(r=void 0!==t?this.data.getIteratorFrom(t):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new G2(this.data.getIterator())}getIteratorFrom(e){return new G2(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach(r=>{t=t.add(r)}),t}isEqual(e){if(!(e instanceof Me)||this.size!==e.size)return!1;const t=this.data.getIterator(),r=e.data.getIterator();for(;t.hasNext();){const i=t.getNext().key,s=r.getNext().key;if(0!==this.comparator(i,s))return!1}return!0}toArray(){const e=[];return this.forEach(t=>{e.push(t)}),e}toString(){const e=[];return this.forEach(t=>e.push(t)),"SortedSet("+e.toString()+")"}copy(e){const t=new Me(this.comparator);return t.data=e,t}}class G2{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}class ur{constructor(e){this.fields=e,e.sort(ot.comparator)}static empty(){return new ur([])}unionWith(e){let t=new Me(ot.comparator);for(const r of this.fields)t=t.add(r);for(const r of e)t=t.add(r);return new ur(t.toArray())}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return yu(this.fields,e.fields,(t,r)=>t.isEqual(r))}}class Mt{constructor(e){this.binaryString=e}static fromBase64String(e){const t=atob(e);return new Mt(t)}static fromUint8Array(e){const t=function(r){let i="";for(let s=0;s<r.length;++s)i+=String.fromCharCode(r[s]);return i}(e);return new Mt(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return btoa(this.binaryString)}toUint8Array(){return function(e){const t=new Uint8Array(e.length);for(let r=0;r<e.length;r++)t[r]=e.charCodeAt(r);return t}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return ie(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Mt.EMPTY_BYTE_STRING=new Mt("");const fae=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Ts(n){if(te(!!n),"string"==typeof n){let e=0;const t=fae.exec(n);if(te(!!t),t[1]){let i=t[1];i=(i+"000000000").substr(0,9),e=Number(i)}const r=new Date(n);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:Ze(n.seconds),nanos:Ze(n.nanos)}}function Ze(n){return"number"==typeof n?n:"string"==typeof n?Number(n):0}function ko(n){return"string"==typeof n?Mt.fromBase64String(n):Mt.fromUint8Array(n)}function nD(n){var e,t;return"server_timestamp"===(null===(t=((null===(e=n?.mapValue)||void 0===e?void 0:e.fields)||{}).__type__)||void 0===t?void 0:t.stringValue)}function q2(n){const e=n.mapValue.fields.__previous_value__;return nD(e)?q2(e):e}function td(n){const e=Ts(n.mapValue.fields.__local_write_time__.timestampValue);return new qe(e.seconds,e.nanos)}class pae{constructor(e,t,r,i,s,o,a,u){this.databaseId=e,this.appId=t,this.persistenceKey=r,this.host=i,this.ssl=s,this.forceLongPolling=o,this.autoDetectLongPolling=a,this.useFetchStreams=u}}class Ro{constructor(e,t){this.projectId=e,this.database=t||"(default)"}static empty(){return new Ro("","")}get isDefaultDatabase(){return"(default)"===this.database}isEqual(e){return e instanceof Ro&&e.projectId===this.projectId&&e.database===this.database}}function nd(n){return null==n}function rd(n){return 0===n&&1/n==-1/0}const Cs_mapValue={fields:{__type__:{stringValue:"__max__"}}};function Po(n){return"nullValue"in n?0:"booleanValue"in n?1:"integerValue"in n||"doubleValue"in n?2:"timestampValue"in n?3:"stringValue"in n?5:"bytesValue"in n?6:"referenceValue"in n?7:"geoPointValue"in n?8:"arrayValue"in n?9:"mapValue"in n?nD(n)?4:Y2(n)?9007199254740991:10:B()}function si(n,e){if(n===e)return!0;const t=Po(n);if(t!==Po(e))return!1;switch(t){case 0:case 9007199254740991:return!0;case 1:return n.booleanValue===e.booleanValue;case 4:return td(n).isEqual(td(e));case 3:return function(r,i){if("string"==typeof r.timestampValue&&"string"==typeof i.timestampValue&&r.timestampValue.length===i.timestampValue.length)return r.timestampValue===i.timestampValue;const s=Ts(r.timestampValue),o=Ts(i.timestampValue);return s.seconds===o.seconds&&s.nanos===o.nanos}(n,e);case 5:return n.stringValue===e.stringValue;case 6:return i=e,ko(n.bytesValue).isEqual(ko(i.bytesValue));case 7:return n.referenceValue===e.referenceValue;case 8:return function(r,i){return Ze(r.geoPointValue.latitude)===Ze(i.geoPointValue.latitude)&&Ze(r.geoPointValue.longitude)===Ze(i.geoPointValue.longitude)}(n,e);case 2:return function(r,i){if("integerValue"in r&&"integerValue"in i)return Ze(r.integerValue)===Ze(i.integerValue);if("doubleValue"in r&&"doubleValue"in i){const s=Ze(r.doubleValue),o=Ze(i.doubleValue);return s===o?rd(s)===rd(o):isNaN(s)&&isNaN(o)}return!1}(n,e);case 9:return yu(n.arrayValue.values||[],e.arrayValue.values||[],si);case 10:return function(r,i){const s=r.mapValue.fields||{},o=i.mapValue.fields||{};if(j2(s)!==j2(o))return!1;for(const a in s)if(s.hasOwnProperty(a)&&(void 0===o[a]||!si(s[a],o[a])))return!1;return!0}(n,e);default:return B()}var i}function id(n,e){return void 0!==(n.values||[]).find(t=>si(t,e))}function Ds(n,e){if(n===e)return 0;const t=Po(n),r=Po(e);if(t!==r)return ie(t,r);switch(t){case 0:case 9007199254740991:return 0;case 1:return ie(n.booleanValue,e.booleanValue);case 2:return function(i,s){const o=Ze(i.integerValue||i.doubleValue),a=Ze(s.integerValue||s.doubleValue);return o<a?-1:o>a?1:o===a?0:isNaN(o)?isNaN(a)?0:-1:1}(n,e);case 3:return W2(n.timestampValue,e.timestampValue);case 4:return W2(td(n),td(e));case 5:return ie(n.stringValue,e.stringValue);case 6:return function(i,s){const o=ko(i),a=ko(s);return o.compareTo(a)}(n.bytesValue,e.bytesValue);case 7:return function(i,s){const o=i.split("/"),a=s.split("/");for(let u=0;u<o.length&&u<a.length;u++){const l=ie(o[u],a[u]);if(0!==l)return l}return ie(o.length,a.length)}(n.referenceValue,e.referenceValue);case 8:return function(i,s){const o=ie(Ze(i.latitude),Ze(s.latitude));return 0!==o?o:ie(Ze(i.longitude),Ze(s.longitude))}(n.geoPointValue,e.geoPointValue);case 9:return function(i,s){const o=i.values||[],a=s.values||[];for(let u=0;u<o.length&&u<a.length;++u){const l=Ds(o[u],a[u]);if(l)return l}return ie(o.length,a.length)}(n.arrayValue,e.arrayValue);case 10:return function(i,s){if(i===Cs_mapValue&&s===Cs_mapValue)return 0;if(i===Cs_mapValue)return 1;if(s===Cs_mapValue)return-1;const o=i.fields||{},a=Object.keys(o),u=s.fields||{},l=Object.keys(u);a.sort(),l.sort();for(let c=0;c<a.length&&c<l.length;++c){const d=ie(a[c],l[c]);if(0!==d)return d;const h=Ds(o[a[c]],u[l[c]]);if(0!==h)return h}return ie(a.length,l.length)}(n.mapValue,e.mapValue);default:throw B()}}function W2(n,e){if("string"==typeof n&&"string"==typeof e&&n.length===e.length)return ie(n,e);const t=Ts(n),r=Ts(e),i=ie(t.seconds,r.seconds);return 0!==i?i:ie(t.nanos,r.nanos)}function vu(n){return rD(n)}function rD(n){return"nullValue"in n?"null":"booleanValue"in n?""+n.booleanValue:"integerValue"in n?""+n.integerValue:"doubleValue"in n?""+n.doubleValue:"timestampValue"in n?function(r){const i=Ts(r);return`time(${i.seconds},${i.nanos})`}(n.timestampValue):"stringValue"in n?n.stringValue:"bytesValue"in n?ko(n.bytesValue).toBase64():"referenceValue"in n?k.fromName(n.referenceValue).toString():"geoPointValue"in n?`geo(${(e=n.geoPointValue).latitude},${e.longitude})`:"arrayValue"in n?function(r){let i="[",s=!0;for(const o of r.values||[])s?s=!1:i+=",",i+=rD(o);return i+"]"}(n.arrayValue):"mapValue"in n?function(r){const i=Object.keys(r.fields||{}).sort();let s="{",o=!0;for(const a of i)o?o=!1:s+=",",s+=`${a}:${rD(r.fields[a])}`;return s+"}"}(n.mapValue):B();var e}function iD(n){return!!n&&"integerValue"in n}function sd(n){return!!n&&"arrayValue"in n}function K2(n){return!!n&&"nullValue"in n}function Q2(n){return!!n&&"doubleValue"in n&&isNaN(Number(n.doubleValue))}function mg(n){return!!n&&"mapValue"in n}function od(n){if(n.geoPointValue)return{geoPointValue:Object.assign({},n.geoPointValue)};if(n.timestampValue&&"object"==typeof n.timestampValue)return{timestampValue:Object.assign({},n.timestampValue)};if(n.mapValue){const e={mapValue:{fields:{}}};return No(n.mapValue.fields,(t,r)=>e.mapValue.fields[t]=od(r)),e}if(n.arrayValue){const e={arrayValue:{values:[]}};for(let t=0;t<(n.arrayValue.values||[]).length;++t)e.arrayValue.values[t]=od(n.arrayValue.values[t]);return e}return Object.assign({},n)}function Y2(n){return"__max__"===(((n.mapValue||{}).fields||{}).__type__||{}).stringValue}class Jt{constructor(e){this.value=e}static empty(){return new Jt({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let r=0;r<e.length-1;++r)if(t=(t.mapValue.fields||{})[e.get(r)],!mg(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=od(t)}setAll(e){let t=ot.emptyPath(),r={},i=[];e.forEach((o,a)=>{if(!t.isImmediateParentOf(a)){const u=this.getFieldsMap(t);this.applyChanges(u,r,i),r={},i=[],t=a.popLast()}o?r[a.lastSegment()]=od(o):i.push(a.lastSegment())});const s=this.getFieldsMap(t);this.applyChanges(s,r,i)}delete(e){const t=this.field(e.popLast());mg(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return si(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let r=0;r<e.length;++r){let i=t.mapValue.fields[e.get(r)];mg(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},t.mapValue.fields[e.get(r)]=i),t=i}return t.mapValue.fields}applyChanges(e,t,r){No(t,(i,s)=>e[i]=s);for(const i of r)delete e[i]}clone(){return new Jt(od(this.value))}}function X2(n){const e=[];return No(n.fields,(t,r)=>{const i=new ot([t]);if(mg(r)){const s=X2(r.mapValue).fields;if(0===s.length)e.push(i);else for(const o of s)e.push(i.child(o))}else e.push(i)}),new ur(e)}class Ve{constructor(e,t,r,i,s,o){this.key=e,this.documentType=t,this.version=r,this.readTime=i,this.data=s,this.documentState=o}static newInvalidDocument(e){return new Ve(e,0,Q.min(),Q.min(),Jt.empty(),0)}static newFoundDocument(e,t,r){return new Ve(e,1,t,Q.min(),r,0)}static newNoDocument(e,t){return new Ve(e,2,t,Q.min(),Jt.empty(),0)}static newUnknownDocument(e,t){return new Ve(e,3,t,Q.min(),Jt.empty(),2)}convertToFoundDocument(e,t){return this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Jt.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Jt.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Q.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return 1===this.documentState}get hasCommittedMutations(){return 2===this.documentState}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return 0!==this.documentType}isFoundDocument(){return 1===this.documentType}isNoDocument(){return 2===this.documentType}isUnknownDocument(){return 3===this.documentType}isEqual(e){return e instanceof Ve&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Ve(this.key,this.documentType,this.version,this.readTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class yae{constructor(e,t=null,r=[],i=[],s=null,o=null,a=null){this.path=e,this.collectionGroup=t,this.orderBy=r,this.filters=i,this.limit=s,this.startAt=o,this.endAt=a,this.ht=null}}function eB(n,e=null,t=[],r=[],i=null,s=null,o=null){return new yae(n,e,t,r,i,s,o)}function Fo(n){const e=R(n);if(null===e.ht){let t=e.path.canonicalString();null!==e.collectionGroup&&(t+="|cg:"+e.collectionGroup),t+="|f:",t+=e.filters.map(r=>{return(i=r).field.canonicalString()+i.op.toString()+vu(i.value);var i}).join(","),t+="|ob:",t+=e.orderBy.map(r=>{return(i=r).field.canonicalString()+i.dir;var i}).join(","),nd(e.limit)||(t+="|l:",t+=e.limit),e.startAt&&(t+="|lb:",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map(r=>vu(r)).join(",")),e.endAt&&(t+="|ub:",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map(r=>vu(r)).join(",")),e.ht=t}return e.ht}function ad(n,e){if(n.limit!==e.limit||n.orderBy.length!==e.orderBy.length)return!1;for(let i=0;i<n.orderBy.length;i++)if(!Dae(n.orderBy[i],e.orderBy[i]))return!1;if(n.filters.length!==e.filters.length)return!1;for(let i=0;i<n.filters.length;i++)if((t=n.filters[i]).op!==(r=e.filters[i]).op||!t.field.isEqual(r.field)||!si(t.value,r.value))return!1;var t,r;return n.collectionGroup===e.collectionGroup&&!!n.path.isEqual(e.path)&&!!sB(n.startAt,e.startAt)&&sB(n.endAt,e.endAt)}function yg(n){return k.isDocumentKey(n.path)&&null===n.collectionGroup&&0===n.filters.length}class Zt extends class{}{constructor(e,t,r){super(),this.field=e,this.op=t,this.value=r}static create(e,t,r){return e.isKeyField()?"in"===t||"not-in"===t?this.lt(e,t,r):new vae(e,t,r):"array-contains"===t?new Iae(e,r):"in"===t?new bae(e,r):"not-in"===t?new Tae(e,r):"array-contains-any"===t?new Cae(e,r):new Zt(e,t,r)}static lt(e,t,r){return"in"===t?new wae(e,r):new Eae(e,r)}matches(e){const t=e.data.field(this.field);return"!="===this.op?null!==t&&this.ft(Ds(t,this.value)):null!==t&&Po(this.value)===Po(t)&&this.ft(Ds(t,this.value))}ft(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return 0===e;case"!=":return 0!==e;case">":return e>0;case">=":return e>=0;default:return B()}}dt(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}}class vae extends Zt{constructor(e,t,r){super(e,t,r),this.key=k.fromName(r.referenceValue)}matches(e){const t=k.comparator(e.key,this.key);return this.ft(t)}}class wae extends Zt{constructor(e,t){super(e,"in",t),this.keys=rB(0,t)}matches(e){return this.keys.some(t=>t.isEqual(e.key))}}class Eae extends Zt{constructor(e,t){super(e,"not-in",t),this.keys=rB(0,t)}matches(e){return!this.keys.some(t=>t.isEqual(e.key))}}function rB(n,e){var t;return((null===(t=e.arrayValue)||void 0===t?void 0:t.values)||[]).map(r=>k.fromName(r.referenceValue))}class Iae extends Zt{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return sd(t)&&id(t.arrayValue,this.value)}}class bae extends Zt{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return null!==t&&id(this.value.arrayValue,t)}}class Tae extends Zt{constructor(e,t){super(e,"not-in",t)}matches(e){if(id(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return null!==t&&!id(this.value.arrayValue,t)}}class Cae extends Zt{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!sd(t)||!t.arrayValue.values)&&t.arrayValue.values.some(r=>id(this.value.arrayValue,r))}}class Ss{constructor(e,t){this.position=e,this.inclusive=t}}class wu{constructor(e,t="asc"){this.field=e,this.dir=t}}function Dae(n,e){return n.dir===e.dir&&n.field.isEqual(e.field)}function iB(n,e,t){let r=0;for(let i=0;i<n.position.length;i++){const s=e[i],o=n.position[i];if(r=s.field.isKeyField()?k.comparator(k.fromName(o.referenceValue),t.key):Ds(o,t.data.field(s.field)),"desc"===s.dir&&(r*=-1),0!==r)break}return r}function sB(n,e){if(null===n)return null===e;if(null===e||n.inclusive!==e.inclusive||n.position.length!==e.position.length)return!1;for(let t=0;t<n.position.length;t++)if(!si(n.position[t],e.position[t]))return!1;return!0}class qi{constructor(e,t=null,r=[],i=[],s=null,o="F",a=null,u=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=r,this.filters=i,this.limit=s,this.limitType=o,this.startAt=a,this.endAt=u,this._t=null,this.wt=null}}function Eu(n){return new qi(n)}function aB(n){return 0===n.filters.length&&null===n.limit&&null==n.startAt&&null==n.endAt&&(0===n.explicitOrderBy.length||1===n.explicitOrderBy.length&&n.explicitOrderBy[0].field.isKeyField())}function Iu(n){const e=R(n);if(null===e._t){e._t=[];const t=function oD(n){for(const e of n.filters)if(e.dt())return e.field;return null}(e),r=function sD(n){return n.explicitOrderBy.length>0?n.explicitOrderBy[0].field:null}(e);if(null!==t&&null===r)t.isKeyField()||e._t.push(new wu(t)),e._t.push(new wu(ot.keyField(),"asc"));else{let i=!1;for(const s of e.explicitOrderBy)e._t.push(s),s.field.isKeyField()&&(i=!0);if(!i){const s=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";e._t.push(new wu(ot.keyField(),s))}}}return e._t}function Vn(n){const e=R(n);if(!e.wt)if("F"===e.limitType)e.wt=eB(e.path,e.collectionGroup,Iu(e),e.filters,e.limit,e.startAt,e.endAt);else{const t=[];for(const s of Iu(e))t.push(new wu(s.field,"desc"===s.dir?"asc":"desc"));const r=e.endAt?new Ss(e.endAt.position,e.endAt.inclusive):null,i=e.startAt?new Ss(e.startAt.position,e.startAt.inclusive):null;e.wt=eB(e.path,e.collectionGroup,t,e.filters,e.limit,r,i)}return e.wt}function vg(n,e,t){return new qi(n.path,n.collectionGroup,n.explicitOrderBy.slice(),n.filters.slice(),e,t,n.startAt,n.endAt)}function ud(n,e){return ad(Vn(n),Vn(e))&&n.limitType===e.limitType}function uB(n){return`${Fo(Vn(n))}|lt:${n.limitType}`}function uD(n){return`Query(target=${function _ae(n){let e=n.path.canonicalString();return null!==n.collectionGroup&&(e+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(e+=`, filters: [${n.filters.map(t=>{return`${(r=t).field.canonicalString()} ${r.op} ${vu(r.value)}`;var r}).join(", ")}]`),nd(n.limit)||(e+=", limit: "+n.limit),n.orderBy.length>0&&(e+=`, orderBy: [${n.orderBy.map(t=>{return`${(r=t).field.canonicalString()} (${r.dir})`;var r}).join(", ")}]`),n.startAt&&(e+=", startAt: ",e+=n.startAt.inclusive?"b:":"a:",e+=n.startAt.position.map(t=>vu(t)).join(",")),n.endAt&&(e+=", endAt: ",e+=n.endAt.inclusive?"a:":"b:",e+=n.endAt.position.map(t=>vu(t)).join(",")),`Target(${e})`}(Vn(n))}; limitType=${n.limitType})`}function lD(n,e){return e.isFoundDocument()&&function(t,r){const i=r.key.path;return null!==t.collectionGroup?r.key.hasCollectionId(t.collectionGroup)&&t.path.isPrefixOf(i):k.isDocumentKey(t.path)?t.path.isEqual(i):t.path.isImmediateParentOf(i)}(n,e)&&function(t,r){for(const i of t.explicitOrderBy)if(!i.field.isKeyField()&&null===r.data.field(i.field))return!1;return!0}(n,e)&&function(t,r){for(const i of t.filters)if(!i.matches(r))return!1;return!0}(n,e)&&(r=e,!((t=n).startAt&&!function(i,s,o){const a=iB(i,s,o);return i.inclusive?a<=0:a<0}(t.startAt,Iu(t),r)||t.endAt&&!function(i,s,o){const a=iB(i,s,o);return i.inclusive?a>=0:a>0}(t.endAt,Iu(t),r)));var t,r}function cB(n){return(e,t)=>{let r=!1;for(const i of Iu(n)){const s=Sae(i,e,t);if(0!==s)return s;r=r||i.field.isKeyField()}return 0}}function Sae(n,e,t){const r=n.field.isKeyField()?k.comparator(e.key,t.key):function(i,s,o){const a=s.data.field(i),u=o.data.field(i);return null!==a&&null!==u?Ds(a,u):B()}(n.field,e,t);switch(n.dir){case"asc":return r;case"desc":return-1*r;default:return B()}}function dB(n,e){if(n.gt){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:rd(e)?"-0":e}}function hB(n){return{integerValue:""+n}}function fB(n,e){return function z2(n){return"number"==typeof n&&Number.isInteger(n)&&!rd(n)&&n<=Number.MAX_SAFE_INTEGER&&n>=Number.MIN_SAFE_INTEGER}(e)?hB(e):dB(n,e)}class wg{constructor(){this._=void 0}}function Aae(n,e,t){return n instanceof bu?function(r,i){const s={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:r.seconds,nanos:r.nanoseconds}}}};return i&&(s.fields.__previous_value__=i),{mapValue:s}}(t,e):n instanceof Lo?gB(n,e):n instanceof Vo?mB(n,e):function(r,i){const s=pB(r,i),o=yB(s)+yB(r.yt);return iD(s)&&iD(r.yt)?hB(o):dB(r.It,o)}(n,e)}function Mae(n,e,t){return n instanceof Lo?gB(n,e):n instanceof Vo?mB(n,e):t}function pB(n,e){return n instanceof Tu?iD(t=e)||(r=t)&&"doubleValue"in r?e:{integerValue:0}:null;var r,t}class bu extends wg{}class Lo extends wg{constructor(e){super(),this.elements=e}}function gB(n,e){const t=_B(e);for(const r of n.elements)t.some(i=>si(i,r))||t.push(r);return{arrayValue:{values:t}}}class Vo extends wg{constructor(e){super(),this.elements=e}}function mB(n,e){let t=_B(e);for(const r of n.elements)t=t.filter(i=>!si(i,r));return{arrayValue:{values:t}}}class Tu extends wg{constructor(e,t){super(),this.It=e,this.yt=t}}function yB(n){return Ze(n.integerValue||n.doubleValue)}function _B(n){return sd(n)&&n.arrayValue.values?n.arrayValue.values.slice():[]}class Nae{constructor(e,t){this.version=e,this.transformResults=t}}class je{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new je}static exists(e){return new je(void 0,e)}static updateTime(e){return new je(e)}get isNone(){return void 0===this.updateTime&&void 0===this.exists}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Eg(n,e){return void 0!==n.updateTime?e.isFoundDocument()&&e.version.isEqual(n.updateTime):void 0===n.exists||n.exists===e.isFoundDocument()}class Ig{}function vB(n,e){if(!n.hasLocalMutations||e&&0===e.fields.length)return null;if(null===e)return n.isNoDocument()?new Du(n.key,je.none()):new Cu(n.key,n.data,je.none());{const t=n.data,r=Jt.empty();let i=new Me(ot.comparator);for(let s of e.fields)if(!i.has(s)){let o=t.field(s);null===o&&s.length>1&&(s=s.popLast(),o=t.field(s)),null===o?r.delete(s):r.set(s,o),i=i.add(s)}return new zi(n.key,r,new ur(i.toArray()),je.none())}}function kae(n,e,t){n instanceof Cu?function(r,i,s){const o=r.value.clone(),a=IB(r.fieldTransforms,i,s.transformResults);o.setAll(a),i.convertToFoundDocument(s.version,o).setHasCommittedMutations()}(n,e,t):n instanceof zi?function(r,i,s){if(!Eg(r.precondition,i))return void i.convertToUnknownDocument(s.version);const o=IB(r.fieldTransforms,i,s.transformResults),a=i.data;a.setAll(EB(r)),a.setAll(o),i.convertToFoundDocument(s.version,a).setHasCommittedMutations()}(n,e,t):e.convertToNoDocument(t.version).setHasCommittedMutations()}function cd(n,e,t,r){return n instanceof Cu?function(i,s,o,a){if(!Eg(i.precondition,s))return o;const u=i.value.clone(),l=bB(i.fieldTransforms,a,s);return u.setAll(l),s.convertToFoundDocument(s.version,u).setHasLocalMutations(),null}(n,e,t,r):n instanceof zi?function(i,s,o,a){if(!Eg(i.precondition,s))return o;const u=bB(i.fieldTransforms,a,s),l=s.data;return l.setAll(EB(i)),l.setAll(u),s.convertToFoundDocument(s.version,l).setHasLocalMutations(),null===o?null:o.unionWith(i.fieldMask.fields).unionWith(i.fieldTransforms.map(c=>c.field))}(n,e,t,r):(o=t,Eg(n.precondition,s=e)?(s.convertToNoDocument(s.version).setHasLocalMutations(),null):o);var s,o}function Rae(n,e){let t=null;for(const r of n.fieldTransforms){const i=e.data.field(r.field),s=pB(r.transform,i||null);null!=s&&(null===t&&(t=Jt.empty()),t.set(r.field,s))}return t||null}function wB(n,e){return n.type===e.type&&!!n.key.isEqual(e.key)&&!!n.precondition.isEqual(e.precondition)&&(r=e.fieldTransforms,!!(void 0===(t=n.fieldTransforms)&&void 0===r||t&&r&&yu(t,r,(i,s)=>function xae(n,e){return n.field.isEqual(e.field)&&(r=e.transform,(t=n.transform)instanceof Lo&&r instanceof Lo||t instanceof Vo&&r instanceof Vo?yu(t.elements,r.elements,si):t instanceof Tu&&r instanceof Tu?si(t.yt,r.yt):t instanceof bu&&r instanceof bu);var t,r}(i,s))))&&(0===n.type?n.value.isEqual(e.value):1!==n.type||n.data.isEqual(e.data)&&n.fieldMask.isEqual(e.fieldMask));var t,r}class Cu extends Ig{constructor(e,t,r,i=[]){super(),this.key=e,this.value=t,this.precondition=r,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}}class zi extends Ig{constructor(e,t,r,i,s=[]){super(),this.key=e,this.data=t,this.fieldMask=r,this.precondition=i,this.fieldTransforms=s,this.type=1}getFieldMask(){return this.fieldMask}}function EB(n){const e=new Map;return n.fieldMask.fields.forEach(t=>{if(!t.isEmpty()){const r=n.data.field(t);e.set(t,r)}}),e}function IB(n,e,t){const r=new Map;te(n.length===t.length);for(let i=0;i<t.length;i++){const s=n[i],o=s.transform,a=e.data.field(s.field);r.set(s.field,Mae(o,a,t[i]))}return r}function bB(n,e,t){const r=new Map;for(const i of n){const s=i.transform,o=t.data.field(i.field);r.set(i.field,Aae(s,o,e))}return r}class Du extends Ig{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class cD extends Ig{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class Pae{constructor(e){this.count=e}}var mt,we;function TB(n){switch(n){default:return B();case E.CANCELLED:case E.UNKNOWN:case E.DEADLINE_EXCEEDED:case E.RESOURCE_EXHAUSTED:case E.INTERNAL:case E.UNAVAILABLE:case E.UNAUTHENTICATED:return!1;case E.INVALID_ARGUMENT:case E.NOT_FOUND:case E.ALREADY_EXISTS:case E.PERMISSION_DENIED:case E.FAILED_PRECONDITION:case E.ABORTED:case E.OUT_OF_RANGE:case E.UNIMPLEMENTED:case E.DATA_LOSS:return!0}}function CB(n){if(void 0===n)return st("GRPC error has no .code"),E.UNKNOWN;switch(n){case mt.OK:return E.OK;case mt.CANCELLED:return E.CANCELLED;case mt.UNKNOWN:return E.UNKNOWN;case mt.DEADLINE_EXCEEDED:return E.DEADLINE_EXCEEDED;case mt.RESOURCE_EXHAUSTED:return E.RESOURCE_EXHAUSTED;case mt.INTERNAL:return E.INTERNAL;case mt.UNAVAILABLE:return E.UNAVAILABLE;case mt.UNAUTHENTICATED:return E.UNAUTHENTICATED;case mt.INVALID_ARGUMENT:return E.INVALID_ARGUMENT;case mt.NOT_FOUND:return E.NOT_FOUND;case mt.ALREADY_EXISTS:return E.ALREADY_EXISTS;case mt.PERMISSION_DENIED:return E.PERMISSION_DENIED;case mt.FAILED_PRECONDITION:return E.FAILED_PRECONDITION;case mt.ABORTED:return E.ABORTED;case mt.OUT_OF_RANGE:return E.OUT_OF_RANGE;case mt.UNIMPLEMENTED:return E.UNIMPLEMENTED;case mt.DATA_LOSS:return E.DATA_LOSS;default:return B()}}(we=mt||(mt={}))[we.OK=0]="OK",we[we.CANCELLED=1]="CANCELLED",we[we.UNKNOWN=2]="UNKNOWN",we[we.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",we[we.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",we[we.NOT_FOUND=5]="NOT_FOUND",we[we.ALREADY_EXISTS=6]="ALREADY_EXISTS",we[we.PERMISSION_DENIED=7]="PERMISSION_DENIED",we[we.UNAUTHENTICATED=16]="UNAUTHENTICATED",we[we.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",we[we.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",we[we.ABORTED=10]="ABORTED",we[we.OUT_OF_RANGE=11]="OUT_OF_RANGE",we[we.UNIMPLEMENTED=12]="UNIMPLEMENTED",we[we.INTERNAL=13]="INTERNAL",we[we.UNAVAILABLE=14]="UNAVAILABLE",we[we.DATA_LOSS=15]="DATA_LOSS";class As{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){const t=this.mapKeyFn(e),r=this.inner[t];if(void 0!==r)for(const[i,s]of r)if(this.equalsFn(i,e))return s}has(e){return void 0!==this.get(e)}set(e,t){const r=this.mapKeyFn(e),i=this.inner[r];if(void 0===i)return this.inner[r]=[[e,t]],void this.innerSize++;for(let s=0;s<i.length;s++)if(this.equalsFn(i[s][0],e))return void(i[s]=[e,t]);i.push([e,t]),this.innerSize++}delete(e){const t=this.mapKeyFn(e),r=this.inner[t];if(void 0===r)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return 1===r.length?delete this.inner[t]:r.splice(i,1),this.innerSize--,!0;return!1}forEach(e){No(this.inner,(t,r)=>{for(const[i,s]of r)e(i,s)})}isEmpty(){return H2(this.inner)}size(){return this.innerSize}}const Oae=new Je(k.comparator);function Un(){return Oae}const DB=new Je(k.comparator);function dd(...n){let e=DB;for(const t of n)e=e.insert(t.key,t);return e}function SB(n){let e=DB;return n.forEach((t,r)=>e=e.insert(t,r.overlayedDocument)),e}function oi(){return hd()}function AB(){return hd()}function hd(){return new As(n=>n.toString(),(n,e)=>n.isEqual(e))}const Fae=new Je(k.comparator),Lae=new Me(k.comparator);function le(...n){let e=Lae;for(const t of n)e=e.add(t);return e}const Vae=new Me(ie);function bg(){return Vae}class fd{constructor(e,t,r,i,s){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=s}static createSynthesizedRemoteEventForCurrentChange(e,t){const r=new Map;return r.set(e,pd.createSynthesizedTargetChangeForCurrentChange(e,t)),new fd(Q.min(),r,bg(),Un(),le())}}class pd{constructor(e,t,r,i,s){this.resumeToken=e,this.current=t,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=s}static createSynthesizedTargetChangeForCurrentChange(e,t){return new pd(Mt.EMPTY_BYTE_STRING,t,le(),le(),le())}}class Tg{constructor(e,t,r,i){this.Tt=e,this.removedTargetIds=t,this.key=r,this.Et=i}}class MB{constructor(e,t){this.targetId=e,this.At=t}}class xB{constructor(e,t,r=Mt.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=t,this.resumeToken=r,this.cause=i}}class NB{constructor(){this.Rt=0,this.bt=RB(),this.Pt=Mt.EMPTY_BYTE_STRING,this.vt=!1,this.Vt=!0}get current(){return this.vt}get resumeToken(){return this.Pt}get St(){return 0!==this.Rt}get Dt(){return this.Vt}Ct(e){e.approximateByteSize()>0&&(this.Vt=!0,this.Pt=e)}xt(){let e=le(),t=le(),r=le();return this.bt.forEach((i,s)=>{switch(s){case 0:e=e.add(i);break;case 2:t=t.add(i);break;case 1:r=r.add(i);break;default:B()}}),new pd(this.Pt,this.vt,e,t,r)}Nt(){this.Vt=!1,this.bt=RB()}kt(e,t){this.Vt=!0,this.bt=this.bt.insert(e,t)}Mt(e){this.Vt=!0,this.bt=this.bt.remove(e)}Ot(){this.Rt+=1}Ft(){this.Rt-=1}$t(){this.Vt=!0,this.vt=!0}}class Uae{constructor(e){this.Bt=e,this.Lt=new Map,this.Ut=Un(),this.qt=kB(),this.Kt=new Me(ie)}Gt(e){for(const t of e.Tt)e.Et&&e.Et.isFoundDocument()?this.Qt(t,e.Et):this.jt(t,e.key,e.Et);for(const t of e.removedTargetIds)this.jt(t,e.key,e.Et)}Wt(e){this.forEachTarget(e,t=>{const r=this.zt(t);switch(e.state){case 0:this.Ht(t)&&r.Ct(e.resumeToken);break;case 1:r.Ft(),r.St||r.Nt(),r.Ct(e.resumeToken);break;case 2:r.Ft(),r.St||this.removeTarget(t);break;case 3:this.Ht(t)&&(r.$t(),r.Ct(e.resumeToken));break;case 4:this.Ht(t)&&(this.Jt(t),r.Ct(e.resumeToken));break;default:B()}})}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.Lt.forEach((r,i)=>{this.Ht(i)&&t(i)})}Yt(e){const t=e.targetId,r=e.At.count,i=this.Xt(t);if(i){const s=i.target;if(yg(s))if(0===r){const o=new k(s.path);this.jt(t,o,Ve.newNoDocument(o,Q.min()))}else te(1===r);else this.Zt(t)!==r&&(this.Jt(t),this.Kt=this.Kt.add(t))}}te(e){const t=new Map;this.Lt.forEach((s,o)=>{const a=this.Xt(o);if(a){if(s.current&&yg(a.target)){const u=new k(a.target.path);null!==this.Ut.get(u)||this.ee(o,u)||this.jt(o,u,Ve.newNoDocument(u,e))}s.Dt&&(t.set(o,s.xt()),s.Nt())}});let r=le();this.qt.forEach((s,o)=>{let a=!0;o.forEachWhile(u=>{const l=this.Xt(u);return!l||2===l.purpose||(a=!1,!1)}),a&&(r=r.add(s))}),this.Ut.forEach((s,o)=>o.setReadTime(e));const i=new fd(e,t,this.Kt,this.Ut,r);return this.Ut=Un(),this.qt=kB(),this.Kt=new Me(ie),i}Qt(e,t){if(!this.Ht(e))return;const r=this.ee(e,t.key)?2:0;this.zt(e).kt(t.key,r),this.Ut=this.Ut.insert(t.key,t),this.qt=this.qt.insert(t.key,this.ne(t.key).add(e))}jt(e,t,r){if(!this.Ht(e))return;const i=this.zt(e);this.ee(e,t)?i.kt(t,1):i.Mt(t),this.qt=this.qt.insert(t,this.ne(t).delete(e)),r&&(this.Ut=this.Ut.insert(t,r))}removeTarget(e){this.Lt.delete(e)}Zt(e){const t=this.zt(e).xt();return this.Bt.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}Ot(e){this.zt(e).Ot()}zt(e){let t=this.Lt.get(e);return t||(t=new NB,this.Lt.set(e,t)),t}ne(e){let t=this.qt.get(e);return t||(t=new Me(ie),this.qt=this.qt.insert(e,t)),t}Ht(e){const t=null!==this.Xt(e);return t||A("WatchChangeAggregator","Detected inactive target",e),t}Xt(e){const t=this.Lt.get(e);return t&&t.St?null:this.Bt.se(e)}Jt(e){this.Lt.set(e,new NB),this.Bt.getRemoteKeysForTarget(e).forEach(t=>{this.jt(e,t,null)})}ee(e,t){return this.Bt.getRemoteKeysForTarget(e).has(t)}}function kB(){return new Je(k.comparator)}function RB(){return new Je(k.comparator)}const Bae={asc:"ASCENDING",desc:"DESCENDING"},$ae={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"};class jae{constructor(e,t){this.databaseId=e,this.gt=t}}function gd(n,e){return n.gt?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function PB(n,e){return n.gt?e.toBase64():e.toUint8Array()}function Hae(n,e){return gd(n,e.toTimestamp())}function Bt(n){return te(!!n),Q.fromTimestamp(function(e){const t=Ts(e);return new qe(t.seconds,t.nanos)}(n))}function dD(n,e){return(t=n,new ve(["projects",t.projectId,"databases",t.database])).child("documents").child(e).canonicalString();var t}function OB(n){const e=ve.fromString(n);return te(GB(e)),e}function md(n,e){return dD(n.databaseId,e.path)}function ai(n,e){const t=OB(e);if(t.get(1)!==n.databaseId.projectId)throw new S(E.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+t.get(1)+" vs "+n.databaseId.projectId);if(t.get(3)!==n.databaseId.database)throw new S(E.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+t.get(3)+" vs "+n.databaseId.database);return new k(LB(t))}function hD(n,e){return dD(n.databaseId,e)}function yd(n){return new ve(["projects",n.databaseId.projectId,"databases",n.databaseId.database]).canonicalString()}function LB(n){return te(n.length>4&&"documents"===n.get(4)),n.popFirst(5)}function VB(n,e,t){return{name:md(n,e),fields:t.value.mapValue.fields}}function BB(n,e){return{documents:[hD(n,e.path)]}}function $B(n,e){const t={structuredQuery:{}},r=e.path;null!==e.collectionGroup?(t.parent=hD(n,r),t.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(t.parent=hD(n,r.popLast()),t.structuredQuery.from=[{collectionId:r.lastSegment()}]);const i=function(u){if(0===u.length)return;const l=u.map(c=>function(d){if("=="===d.op){if(Q2(d.value))return{unaryFilter:{field:Su(d.field),op:"IS_NAN"}};if(K2(d.value))return{unaryFilter:{field:Su(d.field),op:"IS_NULL"}}}else if("!="===d.op){if(Q2(d.value))return{unaryFilter:{field:Su(d.field),op:"IS_NOT_NAN"}};if(K2(d.value))return{unaryFilter:{field:Su(d.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Su(d.field),op:Qae(d.op),value:d.value}}}(c));return 1===l.length?l[0]:{compositeFilter:{op:"AND",filters:l}}}(e.filters);i&&(t.structuredQuery.where=i);const s=function(u){if(0!==u.length)return u.map(l=>{return{field:Su((c=l).field),direction:Kae(c.dir)};var c})}(e.orderBy);s&&(t.structuredQuery.orderBy=s);const o=(l=e.limit,n.gt||nd(l)?l:{value:l});var l,a,u;return null!==o&&(t.structuredQuery.limit=o),e.startAt&&(t.structuredQuery.startAt={before:(a=e.startAt).inclusive,values:a.position}),e.endAt&&(t.structuredQuery.endAt={before:!(u=e.endAt).inclusive,values:u.position}),t}function jB(n){let e=function FB(n){const e=OB(n);return 4===e.length?ve.emptyPath():LB(e)}(n.parent);const t=n.structuredQuery,r=t.from?t.from.length:0;let i=null;if(r>0){te(1===r);const c=t.from[0];c.allDescendants?i=c.collectionId:e=e.child(c.collectionId)}let s=[];t.where&&(s=HB(t.where));let o=[];t.orderBy&&(o=t.orderBy.map(c=>{return new wu(Au((d=c).field),function(h){switch(h){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(d.direction));var d}));let a=null;t.limit&&(a=function(c){let d;return d="object"==typeof c?c.value:c,nd(d)?null:d}(t.limit));let u=null;var c;t.startAt&&(u=new Ss((c=t.startAt).values||[],!!c.before));let l=null;return t.endAt&&(l=function(c){return new Ss(c.values||[],!c.before)}(t.endAt)),function oB(n,e,t,r,i,s,o,a){return new qi(n,e,t,r,i,s,o,a)}(e,i,o,s,a,"F",u,l)}function HB(n){return n?void 0!==n.unaryFilter?[Jae(n)]:void 0!==n.fieldFilter?[Yae(n)]:void 0!==n.compositeFilter?n.compositeFilter.filters.map(e=>HB(e)).reduce((e,t)=>e.concat(t)):B():[]}function Kae(n){return Bae[n]}function Qae(n){return $ae[n]}function Su(n){return{fieldPath:n.canonicalString()}}function Au(n){return ot.fromServerFormat(n.fieldPath)}function Yae(n){return Zt.create(Au(n.fieldFilter.field),function(e){switch(e){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return B()}}(n.fieldFilter.op),n.fieldFilter.value)}function Jae(n){switch(n.unaryFilter.op){case"IS_NAN":const e=Au(n.unaryFilter.field);return Zt.create(e,"==",{doubleValue:NaN});case"IS_NULL":const t=Au(n.unaryFilter.field);return Zt.create(t,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const r=Au(n.unaryFilter.field);return Zt.create(r,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const i=Au(n.unaryFilter.field);return Zt.create(i,"!=",{nullValue:"NULL_VALUE"});default:return B()}}function Zae(n){const e=[];return n.fields.forEach(t=>e.push(t.canonicalString())),{fieldPaths:e}}function GB(n){return n.length>=4&&"projects"===n.get(0)&&"databases"===n.get(2)}class gD{constructor(e,t,r,i){this.batchId=e,this.localWriteTime=t,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(e,t){const r=t.mutationResults;for(let i=0;i<this.mutations.length;i++){const s=this.mutations[i];s.key.isEqual(e.key)&&kae(s,e,r[i])}}applyToLocalView(e,t){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(t=cd(r,e,t,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(t=cd(r,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){const r=AB();return this.mutations.forEach(i=>{const s=e.get(i.key),o=s.overlayedDocument;let a=this.applyToLocalView(o,s.mutatedFields);a=t.has(i.key)?null:a;const u=vB(o,a);null!==u&&r.set(i.key,u),o.isValidDocument()||o.convertToNoDocument(Q.min())}),r}keys(){return this.mutations.reduce((e,t)=>e.add(t.key),le())}isEqual(e){return this.batchId===e.batchId&&yu(this.mutations,e.mutations,(t,r)=>wB(t,r))&&yu(this.baseMutations,e.baseMutations,(t,r)=>wB(t,r))}}class mD{constructor(e,t,r,i){this.batch=e,this.commitVersion=t,this.mutationResults=r,this.docVersions=i}static from(e,t,r){te(e.mutations.length===r.length);let i=Fae;const s=e.mutations;for(let o=0;o<s.length;o++)i=i.insert(s[o].key,r[o].version);return new mD(e,t,r,i)}}class yD{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return null!==e&&this.mutation===e.mutation}toString(){return`Overlay{\n      largestBatchId: ${this.largestBatchId},\n      mutation: ${this.mutation.toString()}\n    }`}}class Ms{constructor(e,t,r,i,s=Q.min(),o=Q.min(),a=Mt.EMPTY_BYTE_STRING){this.target=e,this.targetId=t,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=s,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=a}withSequenceNumber(e){return new Ms(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken)}withResumeToken(e,t){return new Ms(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e)}withLastLimboFreeSnapshotVersion(e){return new Ms(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken)}}class JB{constructor(e){this.re=e}}function _D(n){const e=jB({parent:n.parent,structuredQuery:n.structuredQuery});return"LAST"===n.limitType?vg(e,e.limit,"L"):e}class jo{constructor(){}ce(e,t){this.ae(e,t),t.he()}ae(e,t){if("nullValue"in e)this.le(t,5);else if("booleanValue"in e)this.le(t,10),t.fe(e.booleanValue?1:0);else if("integerValue"in e)this.le(t,15),t.fe(Ze(e.integerValue));else if("doubleValue"in e){const r=Ze(e.doubleValue);isNaN(r)?this.le(t,13):(this.le(t,15),rd(r)?t.fe(0):t.fe(r))}else if("timestampValue"in e){const r=e.timestampValue;this.le(t,20),"string"==typeof r?t.de(r):(t.de(`${r.seconds||""}`),t.fe(r.nanos||0))}else if("stringValue"in e)this._e(e.stringValue,t),this.we(t);else if("bytesValue"in e)this.le(t,30),t.me(ko(e.bytesValue)),this.we(t);else if("referenceValue"in e)this.ge(e.referenceValue,t);else if("geoPointValue"in e){const r=e.geoPointValue;this.le(t,45),t.fe(r.latitude||0),t.fe(r.longitude||0)}else"mapValue"in e?Y2(e)?this.le(t,Number.MAX_SAFE_INTEGER):(this.ye(e.mapValue,t),this.we(t)):"arrayValue"in e?(this.pe(e.arrayValue,t),this.we(t)):B()}_e(e,t){this.le(t,25),this.Ie(e,t)}Ie(e,t){t.de(e)}ye(e,t){const r=e.fields||{};this.le(t,55);for(const i of Object.keys(r))this._e(i,t),this.ae(r[i],t)}pe(e,t){const r=e.values||[];this.le(t,50);for(const i of r)this.ae(i,t)}ge(e,t){this.le(t,37),k.fromName(e).path.forEach(r=>{this.le(t,60),this.Ie(r,t)})}le(e,t){e.fe(t)}we(e){e.fe(2)}}jo.Te=new jo;class Tue{constructor(){this.Ye=new wD}addToCollectionParentIndex(e,t){return this.Ye.add(t),w.resolve()}getCollectionParents(e,t){return w.resolve(this.Ye.getEntries(t))}addFieldIndex(e,t){return w.resolve()}deleteFieldIndex(e,t){return w.resolve()}getDocumentsMatchingTarget(e,t){return w.resolve(null)}getIndexType(e,t){return w.resolve(0)}getFieldIndexes(e,t){return w.resolve([])}getNextCollectionGroupToUpdate(e){return w.resolve(null)}getMinOffset(e,t){return w.resolve(ar.min())}getMinOffsetFromCollectionGroup(e,t){return w.resolve(ar.min())}updateCollectionGroup(e,t,r){return w.resolve()}updateIndexEntries(e,t){return w.resolve()}}class wD{constructor(){this.index={}}add(e){const t=e.lastSegment(),r=e.popLast(),i=this.index[t]||new Me(ve.comparator),s=!i.has(r);return this.index[t]=i.add(r),s}has(e){const t=e.lastSegment(),r=e.popLast(),i=this.index[t];return i&&i.has(r)}getEntries(e){return(this.index[e]||new Me(ve.comparator)).toArray()}}new Uint8Array(0);class Bn{constructor(e,t,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=r}static withCacheSize(e){return new Bn(e,Bn.DEFAULT_COLLECTION_PERCENTILE,Bn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}Bn.DEFAULT_COLLECTION_PERCENTILE=10,Bn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Bn.DEFAULT=new Bn(41943040,Bn.DEFAULT_COLLECTION_PERCENTILE,Bn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Bn.DISABLED=new Bn(-1,0,0);class qo{constructor(e){this.bn=e}next(){return this.bn+=2,this.bn}static Pn(){return new qo(0)}static vn(){return new qo(-1)}}class Pue{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}}class _${constructor(e,t,r,i){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=r,this.indexManager=i}getDocument(e,t){let r=null;return this.documentOverlayCache.getOverlay(e,t).next(i=>(r=i,this.getBaseDocument(e,t,r))).next(i=>(null!==r&&cd(r.mutation,i,ur.empty(),qe.now()),i))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next(r=>this.getLocalViewOfDocuments(e,r,le()).next(()=>r))}getLocalViewOfDocuments(e,t,r=le()){const i=oi();return this.populateOverlays(e,i,t).next(()=>this.computeViews(e,t,i,r).next(s=>{let o=dd();return s.forEach((a,u)=>{o=o.insert(a,u.overlayedDocument)}),o}))}getOverlayedDocuments(e,t){const r=oi();return this.populateOverlays(e,r,t).next(()=>this.computeViews(e,t,r,le()))}populateOverlays(e,t,r){const i=[];return r.forEach(s=>{t.has(s)||i.push(s)}),this.documentOverlayCache.getOverlays(e,i).next(s=>{s.forEach((o,a)=>{t.set(o,a)})})}computeViews(e,t,r,i){let s=Un();const o=hd(),a=hd();return t.forEach((u,l)=>{const c=r.get(l.key);i.has(l.key)&&(void 0===c||c.mutation instanceof zi)?s=s.insert(l.key,l):void 0!==c&&(o.set(l.key,c.mutation.getFieldMask()),cd(c.mutation,l,c.mutation.getFieldMask(),qe.now()))}),this.recalculateAndSaveOverlays(e,s).next(u=>(u.forEach((l,c)=>o.set(l,c)),t.forEach((l,c)=>{var d;return a.set(l,new Pue(c,null!==(d=o.get(l))&&void 0!==d?d:null))}),a))}recalculateAndSaveOverlays(e,t){const r=hd();let i=new Je((o,a)=>o-a),s=le();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next(o=>{for(const a of o)a.keys().forEach(u=>{const l=t.get(u);if(null===l)return;let c=r.get(u)||ur.empty();c=a.applyToLocalView(l,c),r.set(u,c);const d=(i.get(a.batchId)||le()).add(u);i=i.insert(a.batchId,d)})}).next(()=>{const o=[],a=i.getReverseIterator();for(;a.hasNext();){const u=a.getNext(),l=u.key,c=u.value,d=AB();c.forEach(h=>{if(!s.has(h)){const f=vB(t.get(h),r.get(h));null!==f&&d.set(h,f),s=s.add(h)}}),o.push(this.documentOverlayCache.saveOverlays(e,l,d))}return w.waitFor(o)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,t,r){return k.isDocumentKey((i=t).path)&&null===i.collectionGroup&&0===i.filters.length?this.getDocumentsMatchingDocumentQuery(e,t.path):function aD(n){return null!==n.collectionGroup}(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,r):this.getDocumentsMatchingCollectionQuery(e,t,r);var i}getNextDocuments(e,t,r,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,r,i).next(s=>{const o=i-s.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,r.largestBatchId,i-s.size):w.resolve(oi());let a=-1,u=s;return o.next(l=>w.forEach(l,(c,d)=>(a<d.largestBatchId&&(a=d.largestBatchId),s.get(c)?w.resolve():this.getBaseDocument(e,c,d).next(h=>{u=u.insert(c,h)}))).next(()=>this.populateOverlays(e,l,s)).next(()=>this.computeViews(e,u,l,le())).next(c=>({batchId:a,changes:SB(c)})))})}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new k(t)).next(r=>{let i=dd();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i})}getDocumentsMatchingCollectionGroupQuery(e,t,r){const i=t.collectionGroup;let s=dd();return this.indexManager.getCollectionParents(e,i).next(o=>w.forEach(o,a=>{const u=(l=t,c=a.child(i),new qi(c,null,l.explicitOrderBy.slice(),l.filters.slice(),l.limit,l.limitType,l.startAt,l.endAt));var l,c;return this.getDocumentsMatchingCollectionQuery(e,u,r).next(l=>{l.forEach((c,d)=>{s=s.insert(c,d)})})}).next(()=>s))}getDocumentsMatchingCollectionQuery(e,t,r){let i;return this.remoteDocumentCache.getAllFromCollection(e,t.path,r).next(s=>(i=s,this.documentOverlayCache.getOverlaysForCollection(e,t.path,r.largestBatchId))).next(s=>{s.forEach((a,u)=>{const l=u.getKey();null===i.get(l)&&(i=i.insert(l,Ve.newInvalidDocument(l)))});let o=dd();return i.forEach((a,u)=>{const l=s.get(a);void 0!==l&&cd(l.mutation,u,ur.empty(),qe.now()),lD(t,u)&&(o=o.insert(a,u))}),o})}getBaseDocument(e,t,r){return null===r||1===r.mutation.type?this.remoteDocumentCache.getEntry(e,t):w.resolve(Ve.newInvalidDocument(t))}}class Oue{constructor(e){this.It=e,this.Zn=new Map,this.ts=new Map}getBundleMetadata(e,t){return w.resolve(this.Zn.get(t))}saveBundleMetadata(e,t){var r;return this.Zn.set(t.id,{id:(r=t).id,version:r.version,createTime:Bt(r.createTime)}),w.resolve()}getNamedQuery(e,t){return w.resolve(this.ts.get(t))}saveNamedQuery(e,t){return this.ts.set(t.name,{name:(r=t).name,query:_D(r.bundledQuery),readTime:Bt(r.readTime)}),w.resolve();var r}}class Fue{constructor(){this.overlays=new Je(k.comparator),this.es=new Map}getOverlay(e,t){return w.resolve(this.overlays.get(t))}getOverlays(e,t){const r=oi();return w.forEach(t,i=>this.getOverlay(e,i).next(s=>{null!==s&&r.set(i,s)})).next(()=>r)}saveOverlays(e,t,r){return r.forEach((i,s)=>{this.ue(e,t,s)}),w.resolve()}removeOverlaysForBatchId(e,t,r){const i=this.es.get(r);return void 0!==i&&(i.forEach(s=>this.overlays=this.overlays.remove(s)),this.es.delete(r)),w.resolve()}getOverlaysForCollection(e,t,r){const i=oi(),s=t.length+1,o=new k(t.child("")),a=this.overlays.getIteratorFrom(o);for(;a.hasNext();){const u=a.getNext().value,l=u.getKey();if(!t.isPrefixOf(l.path))break;l.path.length===s&&u.largestBatchId>r&&i.set(u.getKey(),u)}return w.resolve(i)}getOverlaysForCollectionGroup(e,t,r,i){let s=new Je((l,c)=>l-c);const o=this.overlays.getIterator();for(;o.hasNext();){const l=o.getNext().value;if(l.getKey().getCollectionGroup()===t&&l.largestBatchId>r){let c=s.get(l.largestBatchId);null===c&&(c=oi(),s=s.insert(l.largestBatchId,c)),c.set(l.getKey(),l)}}const a=oi(),u=s.getIterator();for(;u.hasNext()&&(u.getNext().value.forEach((l,c)=>a.set(l,c)),!(a.size()>=i)););return w.resolve(a)}ue(e,t,r){const i=this.overlays.get(r.key);if(null!==i){const o=this.es.get(i.largestBatchId).delete(r.key);this.es.set(i.largestBatchId,o)}this.overlays=this.overlays.insert(r.key,new yD(t,r));let s=this.es.get(t);void 0===s&&(s=le(),this.es.set(t,s)),this.es.set(t,s.add(r.key))}}class ED{constructor(){this.ns=new Me(jt.ss),this.rs=new Me(jt.os)}isEmpty(){return this.ns.isEmpty()}addReference(e,t){const r=new jt(e,t);this.ns=this.ns.add(r),this.rs=this.rs.add(r)}us(e,t){e.forEach(r=>this.addReference(r,t))}removeReference(e,t){this.cs(new jt(e,t))}hs(e,t){e.forEach(r=>this.removeReference(r,t))}ls(e){const t=new k(new ve([])),r=new jt(t,e),i=new jt(t,e+1),s=[];return this.rs.forEachInRange([r,i],o=>{this.cs(o),s.push(o.key)}),s}fs(){this.ns.forEach(e=>this.cs(e))}cs(e){this.ns=this.ns.delete(e),this.rs=this.rs.delete(e)}ds(e){const t=new k(new ve([])),r=new jt(t,e),i=new jt(t,e+1);let s=le();return this.rs.forEachInRange([r,i],o=>{s=s.add(o.key)}),s}containsKey(e){const t=new jt(e,0),r=this.ns.firstAfterOrEqual(t);return null!==r&&e.isEqual(r.key)}}class jt{constructor(e,t){this.key=e,this._s=t}static ss(e,t){return k.comparator(e.key,t.key)||ie(e._s,t._s)}static os(e,t){return ie(e._s,t._s)||k.comparator(e.key,t.key)}}class Lue{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.ws=1,this.gs=new Me(jt.ss)}checkEmpty(e){return w.resolve(0===this.mutationQueue.length)}addMutationBatch(e,t,r,i){const s=this.ws;this.ws++;const o=new gD(s,t,r,i);this.mutationQueue.push(o);for(const a of i)this.gs=this.gs.add(new jt(a.key,s)),this.indexManager.addToCollectionParentIndex(e,a.key.path.popLast());return w.resolve(o)}lookupMutationBatch(e,t){return w.resolve(this.ys(t))}getNextMutationBatchAfterBatchId(e,t){const i=this.ps(t+1),s=i<0?0:i;return w.resolve(this.mutationQueue.length>s?this.mutationQueue[s]:null)}getHighestUnacknowledgedBatchId(){return w.resolve(0===this.mutationQueue.length?-1:this.ws-1)}getAllMutationBatches(e){return w.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const r=new jt(t,0),i=new jt(t,Number.POSITIVE_INFINITY),s=[];return this.gs.forEachInRange([r,i],o=>{const a=this.ys(o._s);s.push(a)}),w.resolve(s)}getAllMutationBatchesAffectingDocumentKeys(e,t){let r=new Me(ie);return t.forEach(i=>{const s=new jt(i,0),o=new jt(i,Number.POSITIVE_INFINITY);this.gs.forEachInRange([s,o],a=>{r=r.add(a._s)})}),w.resolve(this.Is(r))}getAllMutationBatchesAffectingQuery(e,t){const r=t.path,i=r.length+1;let s=r;k.isDocumentKey(s)||(s=s.child(""));const o=new jt(new k(s),0);let a=new Me(ie);return this.gs.forEachWhile(u=>{const l=u.key.path;return!!r.isPrefixOf(l)&&(l.length===i&&(a=a.add(u._s)),!0)},o),w.resolve(this.Is(a))}Is(e){const t=[];return e.forEach(r=>{const i=this.ys(r);null!==i&&t.push(i)}),t}removeMutationBatch(e,t){te(0===this.Ts(t.batchId,"removed")),this.mutationQueue.shift();let r=this.gs;return w.forEach(t.mutations,i=>{const s=new jt(i.key,t.batchId);return r=r.delete(s),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)}).next(()=>{this.gs=r})}An(e){}containsKey(e,t){const r=new jt(t,0),i=this.gs.firstAfterOrEqual(r);return w.resolve(t.isEqual(i&&i.key))}performConsistencyCheck(e){return w.resolve()}Ts(e,t){return this.ps(e)}ps(e){return 0===this.mutationQueue.length?0:e-this.mutationQueue[0].batchId}ys(e){const t=this.ps(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}class Vue{constructor(e){this.Es=e,this.docs=new Je(k.comparator),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){const r=t.key,i=this.docs.get(r),s=i?i.size:0,o=this.Es(t);return this.docs=this.docs.insert(r,{document:t.mutableCopy(),size:o}),this.size+=o-s,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const r=this.docs.get(t);return w.resolve(r?r.document.mutableCopy():Ve.newInvalidDocument(t))}getEntries(e,t){let r=Un();return t.forEach(i=>{const s=this.docs.get(i);r=r.insert(i,s?s.document.mutableCopy():Ve.newInvalidDocument(i))}),w.resolve(r)}getAllFromCollection(e,t,r){let i=Un();const s=new k(t.child("")),o=this.docs.getIteratorFrom(s);for(;o.hasNext();){const{key:a,value:{document:u}}=o.getNext();if(!t.isPrefixOf(a.path))break;a.path.length>t.length+1||XC(U2(u),r)<=0||(i=i.insert(u.key,u.mutableCopy()))}return w.resolve(i)}getAllFromCollectionGroup(e,t,r,i){B()}As(e,t){return w.forEach(this.docs,r=>t(r))}newChangeBuffer(e){return new Uue(this)}getSize(e){return w.resolve(this.size)}}class Uue extends class Nue{constructor(){this.changes=new As(e=>e.toString(),(e,t)=>e.isEqual(t)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,Ve.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();const r=this.changes.get(t);return void 0!==r?w.resolve(r):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}{constructor(e){super(),this.Yn=e}applyChanges(e){const t=[];return this.changes.forEach((r,i)=>{i.isValidDocument()?t.push(this.Yn.addEntry(e,i)):this.Yn.removeEntry(r)}),w.waitFor(t)}getFromCache(e,t){return this.Yn.getEntry(e,t)}getAllFromCache(e,t){return this.Yn.getEntries(e,t)}}class Bue{constructor(e){this.persistence=e,this.Rs=new As(t=>Fo(t),ad),this.lastRemoteSnapshotVersion=Q.min(),this.highestTargetId=0,this.bs=0,this.Ps=new ED,this.targetCount=0,this.vs=qo.Pn()}forEachTarget(e,t){return this.Rs.forEach((r,i)=>t(i)),w.resolve()}getLastRemoteSnapshotVersion(e){return w.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return w.resolve(this.bs)}allocateTargetId(e){return this.highestTargetId=this.vs.next(),w.resolve(this.highestTargetId)}setTargetsMetadata(e,t,r){return r&&(this.lastRemoteSnapshotVersion=r),t>this.bs&&(this.bs=t),w.resolve()}Dn(e){this.Rs.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this.vs=new qo(t),this.highestTargetId=t),e.sequenceNumber>this.bs&&(this.bs=e.sequenceNumber)}addTargetData(e,t){return this.Dn(t),this.targetCount+=1,w.resolve()}updateTargetData(e,t){return this.Dn(t),w.resolve()}removeTargetData(e,t){return this.Rs.delete(t.target),this.Ps.ls(t.targetId),this.targetCount-=1,w.resolve()}removeTargets(e,t,r){let i=0;const s=[];return this.Rs.forEach((o,a)=>{a.sequenceNumber<=t&&null===r.get(a.targetId)&&(this.Rs.delete(o),s.push(this.removeMatchingKeysForTargetId(e,a.targetId)),i++)}),w.waitFor(s).next(()=>i)}getTargetCount(e){return w.resolve(this.targetCount)}getTargetData(e,t){const r=this.Rs.get(t)||null;return w.resolve(r)}addMatchingKeys(e,t,r){return this.Ps.us(t,r),w.resolve()}removeMatchingKeys(e,t,r){this.Ps.hs(t,r);const i=this.persistence.referenceDelegate,s=[];return i&&t.forEach(o=>{s.push(i.markPotentiallyOrphaned(e,o))}),w.waitFor(s)}removeMatchingKeysForTargetId(e,t){return this.Ps.ls(t),w.resolve()}getMatchingKeysForTargetId(e,t){const r=this.Ps.ds(t);return w.resolve(r)}containsKey(e,t){return w.resolve(this.Ps.containsKey(t))}}class v${constructor(e,t){this.Vs={},this.overlays={},this.Ss=new Ln(0),this.Ds=!1,this.Ds=!0,this.referenceDelegate=e(this),this.Cs=new Bue(this),this.indexManager=new Tue,this.remoteDocumentCache=new Vue(r=>this.referenceDelegate.xs(r)),this.It=new JB(t),this.Ns=new Oue(this.It)}start(){return Promise.resolve()}shutdown(){return this.Ds=!1,Promise.resolve()}get started(){return this.Ds}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new Fue,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let r=this.Vs[e.toKey()];return r||(r=new Lue(t,this.referenceDelegate),this.Vs[e.toKey()]=r),r}getTargetCache(){return this.Cs}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ns}runTransaction(e,t,r){A("MemoryPersistence","Starting transaction:",e);const i=new $ue(this.Ss.next());return this.referenceDelegate.ks(),r(i).next(s=>this.referenceDelegate.Ms(i).next(()=>s)).toPromise().then(s=>(i.raiseOnCommittedEvent(),s))}Os(e,t){return w.or(Object.values(this.Vs).map(r=>()=>r.containsKey(e,t)))}}class $ue extends class uae{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}{constructor(e){super(),this.currentSequenceNumber=e}}class Rg{constructor(e){this.persistence=e,this.Fs=new ED,this.$s=null}static Bs(e){return new Rg(e)}get Ls(){if(this.$s)return this.$s;throw B()}addReference(e,t,r){return this.Fs.addReference(r,t),this.Ls.delete(r.toString()),w.resolve()}removeReference(e,t,r){return this.Fs.removeReference(r,t),this.Ls.add(r.toString()),w.resolve()}markPotentiallyOrphaned(e,t){return this.Ls.add(t.toString()),w.resolve()}removeTarget(e,t){this.Fs.ls(t.targetId).forEach(i=>this.Ls.add(i.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,t.targetId).next(i=>{i.forEach(s=>this.Ls.add(s.toString()))}).next(()=>r.removeTargetData(e,t))}ks(){this.$s=new Set}Ms(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return w.forEach(this.Ls,r=>{const i=k.fromPath(r);return this.Us(e,i).next(s=>{s||t.removeEntry(i,Q.min())})}).next(()=>(this.$s=null,t.apply(e)))}updateLimboDocument(e,t){return this.Us(e,t).next(r=>{r?this.Ls.delete(t.toString()):this.Ls.add(t.toString())})}xs(e){return 0}Us(e,t){return w.or([()=>w.resolve(this.Fs.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.Os(e,t)])}}class CD{constructor(e,t,r,i){this.targetId=e,this.fromCache=t,this.Si=r,this.Di=i}static Ci(e,t){let r=le(),i=le();for(const s of t.docChanges)switch(s.type){case 0:r=r.add(s.doc.key);break;case 1:i=i.add(s.doc.key)}return new CD(e,t.fromCache,r,i)}}class E${constructor(){this.xi=!1}initialize(e,t){this.Ni=e,this.indexManager=t,this.xi=!0}getDocumentsMatchingQuery(e,t,r,i){return this.ki(e,t).next(s=>s||this.Mi(e,t,i,r)).next(s=>s||this.Oi(e,t))}ki(e,t){if(aB(t))return w.resolve(null);let r=Vn(t);return this.indexManager.getIndexType(e,r).next(i=>0===i?null:(null!==t.limit&&1===i&&(t=vg(t,null,"F"),r=Vn(t)),this.indexManager.getDocumentsMatchingTarget(e,r).next(s=>{const o=le(...s);return this.Ni.getDocuments(e,o).next(a=>this.indexManager.getMinOffset(e,r).next(u=>{const l=this.Fi(t,a);return this.$i(t,l,o,u.readTime)?this.ki(e,vg(t,null,"F")):this.Bi(e,l,t,u)}))})))}Mi(e,t,r,i){return aB(t)||i.isEqual(Q.min())?this.Oi(e,t):this.Ni.getDocuments(e,r).next(s=>{const o=this.Fi(t,s);return this.$i(t,o,r,i)?this.Oi(e,t):(YC()<=_e.DEBUG&&A("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),uD(t)),this.Bi(e,o,t,function V2(n,e){const t=n.toTimestamp().seconds,r=n.toTimestamp().nanoseconds+1,i=Q.fromTimestamp(1e9===r?new qe(t+1,0):new qe(t,r));return new ar(i,k.empty(),e)}(i,-1)))})}Fi(e,t){let r=new Me(cB(e));return t.forEach((i,s)=>{lD(e,s)&&(r=r.add(s))}),r}$i(e,t,r,i){if(null===e.limit)return!1;if(r.size!==t.size)return!0;const s="F"===e.limitType?t.last():t.first();return!!s&&(s.hasPendingWrites||s.version.compareTo(i)>0)}Oi(e,t){return YC()<=_e.DEBUG&&A("QueryEngine","Using full collection scan to execute query:",uD(t)),this.Ni.getDocumentsMatchingQuery(e,t,ar.min())}Bi(e,t,r,i){return this.Ni.getDocumentsMatchingQuery(e,r,i).next(s=>(t.forEach(o=>{s=s.insert(o.key,o)}),s))}}class Hue{constructor(e,t,r,i){this.persistence=e,this.Li=t,this.It=i,this.Ui=new Je(ie),this.qi=new As(s=>Fo(s),ad),this.Ki=new Map,this.Gi=e.getRemoteDocumentCache(),this.Cs=e.getTargetCache(),this.Ns=e.getBundleCache(),this.Qi(r)}Qi(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new _$(this.Gi,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Gi.setIndexManager(this.indexManager),this.Li.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",t=>e.collect(t,this.Ui))}}function b$(n,e){return DD.apply(this,arguments)}function DD(){return DD=y(function*(n,e){const t=R(n);return yield t.persistence.runTransaction("Handle user change","readonly",r=>{let i;return t.mutationQueue.getAllMutationBatches(r).next(s=>(i=s,t.Qi(e),t.mutationQueue.getAllMutationBatches(r))).next(s=>{const o=[],a=[];let u=le();for(const l of i){o.push(l.batchId);for(const c of l.mutations)u=u.add(c.key)}for(const l of s){a.push(l.batchId);for(const c of l.mutations)u=u.add(c.key)}return t.localDocuments.getDocuments(r,u).next(l=>({ji:l,removedBatchIds:o,addedBatchIds:a}))})})}),DD.apply(this,arguments)}function Gue(n,e){const t=R(n);return t.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const i=e.batch.keys(),s=t.Gi.newChangeBuffer({trackRemovals:!0});return function(o,a,u,l){const c=u.batch,d=c.keys();let h=w.resolve();return d.forEach(f=>{h=h.next(()=>l.getEntry(a,f)).next(p=>{const g=u.docVersions.get(f);te(null!==g),p.version.compareTo(g)<0&&(c.applyToRemoteDocument(p,u),p.isValidDocument()&&(p.setReadTime(u.commitVersion),l.addEntry(p)))})}),h.next(()=>o.mutationQueue.removeMutationBatch(a,c))}(t,r,e,s).next(()=>s.apply(r)).next(()=>t.mutationQueue.performConsistencyCheck(r)).next(()=>t.documentOverlayCache.removeOverlaysForBatchId(r,i,e.batch.batchId)).next(()=>t.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(o){let a=le();for(let u=0;u<o.mutationResults.length;++u)o.mutationResults[u].transformResults.length>0&&(a=a.add(o.batch.mutations[u].key));return a}(e))).next(()=>t.localDocuments.getDocuments(r,i))})}function T$(n){const e=R(n);return e.persistence.runTransaction("Get last remote snapshot version","readonly",t=>e.Cs.getLastRemoteSnapshotVersion(t))}function que(n,e){const t=R(n),r=e.snapshotVersion;let i=t.Ui;return t.persistence.runTransaction("Apply remote event","readwrite-primary",s=>{const o=t.Gi.newChangeBuffer({trackRemovals:!0});i=t.Ui;const a=[];e.targetChanges.forEach((c,d)=>{const h=i.get(d);if(!h)return;a.push(t.Cs.removeMatchingKeys(s,c.removedDocuments,d).next(()=>t.Cs.addMatchingKeys(s,c.addedDocuments,d)));let f=h.withSequenceNumber(s.currentSequenceNumber);var p,g,m;e.targetMismatches.has(d)?f=f.withResumeToken(Mt.EMPTY_BYTE_STRING,Q.min()).withLastLimboFreeSnapshotVersion(Q.min()):c.resumeToken.approximateByteSize()>0&&(f=f.withResumeToken(c.resumeToken,r)),i=i.insert(d,f),g=f,m=c,(0===(p=h).resumeToken.approximateByteSize()||g.snapshotVersion.toMicroseconds()-p.snapshotVersion.toMicroseconds()>=3e8||m.addedDocuments.size+m.modifiedDocuments.size+m.removedDocuments.size>0)&&a.push(t.Cs.updateTargetData(s,f))});let u=Un(),l=le();if(e.documentUpdates.forEach(c=>{e.resolvedLimboDocuments.has(c)&&a.push(t.persistence.referenceDelegate.updateLimboDocument(s,c))}),a.push(function C$(n,e,t){let r=le(),i=le();return t.forEach(s=>r=r.add(s)),e.getEntries(n,r).next(s=>{let o=Un();return t.forEach((a,u)=>{const l=s.get(a);u.isFoundDocument()!==l.isFoundDocument()&&(i=i.add(a)),u.isNoDocument()&&u.version.isEqual(Q.min())?(e.removeEntry(a,u.readTime),o=o.insert(a,u)):!l.isValidDocument()||u.version.compareTo(l.version)>0||0===u.version.compareTo(l.version)&&l.hasPendingWrites?(e.addEntry(u),o=o.insert(a,u)):A("LocalStore","Ignoring outdated watch update for ",a,". Current version:",l.version," Watch version:",u.version)}),{Wi:o,zi:i}})}(s,o,e.documentUpdates).next(c=>{u=c.Wi,l=c.zi})),!r.isEqual(Q.min())){const c=t.Cs.getLastRemoteSnapshotVersion(s).next(d=>t.Cs.setTargetsMetadata(s,s.currentSequenceNumber,r));a.push(c)}return w.waitFor(a).next(()=>o.apply(s)).next(()=>t.localDocuments.getLocalViewOfDocuments(s,u,l)).next(()=>u)}).then(s=>(t.Ui=i,s))}function zue(n,e){const t=R(n);return t.persistence.runTransaction("Get next mutation batch","readonly",r=>(void 0===e&&(e=-1),t.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function Nu(n,e){const t=R(n);return t.persistence.runTransaction("Allocate target","readwrite",r=>{let i;return t.Cs.getTargetData(r,e).next(s=>s?(i=s,w.resolve(i)):t.Cs.allocateTargetId(r).next(o=>(i=new Ms(e,o,0,r.currentSequenceNumber),t.Cs.addTargetData(r,i).next(()=>i))))}).then(r=>{const i=t.Ui.get(r.targetId);return(null===i||r.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(t.Ui=t.Ui.insert(r.targetId,r),t.qi.set(e,r.targetId)),r})}function ku(n,e,t){return SD.apply(this,arguments)}function SD(){return SD=y(function*(n,e,t){const r=R(n),i=r.Ui.get(e),s=t?"readwrite":"readwrite-primary";try{t||(yield r.persistence.runTransaction("Release target",s,o=>r.persistence.referenceDelegate.removeTarget(o,i)))}catch(o){if(!bs(o))throw o;A("LocalStore",`Failed to update sequence numbers for target ${e}: ${o}`)}r.Ui=r.Ui.remove(e),r.qi.delete(i.target)}),SD.apply(this,arguments)}function Og(n,e,t){const r=R(n);let i=Q.min(),s=le();return r.persistence.runTransaction("Execute query","readonly",o=>function(a,u,l){const c=R(a),d=c.qi.get(l);return void 0!==d?w.resolve(c.Ui.get(d)):c.Cs.getTargetData(u,l)}(r,o,Vn(e)).next(a=>{if(a)return i=a.lastLimboFreeSnapshotVersion,r.Cs.getMatchingKeysForTargetId(o,a.targetId).next(u=>{s=u})}).next(()=>r.Li.getDocumentsMatchingQuery(o,e,t?i:Q.min(),t?s:le())).next(a=>(function A$(n,e,t){let r=Q.min();t.forEach((i,s)=>{s.readTime.compareTo(r)>0&&(r=s.readTime)}),n.Ki.set(e,r)}(r,function lB(n){return n.collectionGroup||(n.path.length%2==1?n.path.lastSegment():n.path.get(n.path.length-2))}(e),a),{documents:a,Hi:s})))}class kD{constructor(){this.activeTargetIds=bg()}er(e){this.activeTargetIds=this.activeTargetIds.add(e)}nr(e){this.activeTargetIds=this.activeTargetIds.delete(e)}tr(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class N${constructor(){this.Lr=new kD,this.Ur={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,r){}addLocalQueryTarget(e){return this.Lr.er(e),this.Ur[e]||"not-current"}updateQueryState(e,t,r){this.Ur[e]=t}removeLocalQueryTarget(e){this.Lr.nr(e)}isLocalQueryTarget(e){return this.Lr.activeTargetIds.has(e)}clearQueryState(e){delete this.Ur[e]}getAllActiveQueryTargets(){return this.Lr.activeTargetIds}isActiveQueryTarget(e){return this.Lr.activeTargetIds.has(e)}start(){return this.Lr=new kD,Promise.resolve()}handleUserChange(e,t,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}class Que{qr(e){}shutdown(){}}class k${constructor(){this.Kr=()=>this.Gr(),this.Qr=()=>this.jr(),this.Wr=[],this.zr()}qr(e){this.Wr.push(e)}shutdown(){window.removeEventListener("online",this.Kr),window.removeEventListener("offline",this.Qr)}zr(){window.addEventListener("online",this.Kr),window.addEventListener("offline",this.Qr)}Gr(){A("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.Wr)e(0)}jr(){A("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.Wr)e(1)}static C(){return typeof window<"u"&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}const Yue={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery"};class Jue{constructor(e){this.Hr=e.Hr,this.Jr=e.Jr}Yr(e){this.Xr=e}Zr(e){this.eo=e}onMessage(e){this.no=e}close(){this.Jr()}send(e){this.Hr(e)}so(){this.Xr()}io(e){this.eo(e)}ro(e){this.no(e)}}class Zue extends class{constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId,this.oo=(e.ssl?"https":"http")+"://"+e.host,this.uo="projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database+"/documents"}co(e,t,r,i,s){const o=this.ao(e,t);A("RestConnection","Sending: ",o,r);const a={};return this.ho(a,i,s),this.lo(e,o,a,r).then(u=>(A("RestConnection","Received: ",u),u),u=>{throw mu("RestConnection",`${e} failed with error: `,u,"url: ",o,"request:",r),u})}fo(e,t,r,i,s,o){return this.co(e,t,r,i,s)}ho(e,t,r){e["X-Goog-Api-Client"]="gl-js/ fire/"+gu,e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach((i,s)=>e[s]=i),r&&r.headers.forEach((i,s)=>e[s]=i)}ao(e,t){return`${this.oo}/v1/${t}:${Yue[e]}`}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams}lo(e,t,r,i){return new Promise((s,o)=>{const a=new Joe;a.listenOnce(Koe.COMPLETE,()=>{try{switch(a.getLastErrorCode()){case QC.NO_ERROR:const l=a.getResponseJson();A("Connection","XHR received:",JSON.stringify(l)),s(l);break;case QC.TIMEOUT:A("Connection",'RPC "'+e+'" timed out'),o(new S(E.DEADLINE_EXCEEDED,"Request time out"));break;case QC.HTTP_ERROR:const c=a.getStatus();if(A("Connection",'RPC "'+e+'" failed with status:',c,"response text:",a.getResponseText()),c>0){const d=a.getResponseJson().error;if(d&&d.status&&d.message){const h=function(f){const p=f.toLowerCase().replace(/_/g,"-");return Object.values(E).indexOf(p)>=0?p:E.UNKNOWN}(d.status);o(new S(h,d.message))}else o(new S(E.UNKNOWN,"Server responded with status "+a.getStatus()))}else o(new S(E.UNAVAILABLE,"Connection failed."));break;default:B()}}finally{A("Connection",'RPC "'+e+'" completed.')}});const u=JSON.stringify(i);a.send(t,"POST",u,r,15)})}_o(e,t,r){const i=[this.oo,"/","google.firestore.v1.Firestore","/",e,"/channel"],s=zoe(),o=Woe(),a={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling};this.useFetchStreams&&(a.xmlHttpFactory=new Yoe({})),this.ho(a.initMessageHeaders,t,r),a.encodeInitMessageHeaders=!0;const u=i.join("");A("Connection","Creating WebChannel: "+u,a);const l=s.createWebChannel(u,a);let c=!1,d=!1;const h=new Jue({Hr:p=>{d?A("Connection","Not sending because WebChannel is closed:",p):(c||(A("Connection","Opening WebChannel transport."),l.open(),c=!0),A("Connection","WebChannel sending:",p),l.send(p))},Jr:()=>l.close()}),f=(p,g,m)=>{p.listen(g,_=>{try{m(_)}catch(I){setTimeout(()=>{throw I},0)}})};return f(l,cg.EventType.OPEN,()=>{d||A("Connection","WebChannel transport opened.")}),f(l,cg.EventType.CLOSE,()=>{d||(d=!0,A("Connection","WebChannel transport closed"),h.io())}),f(l,cg.EventType.ERROR,p=>{d||(d=!0,mu("Connection","WebChannel transport errored:",p),h.io(new S(E.UNAVAILABLE,"The operation could not be completed")))}),f(l,cg.EventType.MESSAGE,p=>{var g;if(!d){const m=p.data[0];te(!!m);const _=m,I=_.error||(null===(g=_[0])||void 0===g?void 0:g.error);if(I){A("Connection","WebChannel received error:",I);const v=I.status;let C=function(F){const ae=mt[F];if(void 0!==ae)return CB(ae)}(v),x=I.message;void 0===C&&(C=E.INTERNAL,x="Unknown error status: "+v+" with message "+I.message),d=!0,h.io(new S(C,x)),l.close()}else A("Connection","WebChannel received:",m),h.ro(m)}}),f(o,Qoe.STAT_EVENT,p=>{p.stat===k2.PROXY?A("Connection","Detected buffering proxy"):p.stat===k2.NOPROXY&&A("Connection","Detected no buffering proxy")}),setTimeout(()=>{h.so()},0),h}}function Vg(){return typeof document<"u"?document:null}function Sd(n){return new jae(n,!0)}class PD{constructor(e,t,r=1e3,i=1.5,s=6e4){this.Hs=e,this.timerId=t,this.wo=r,this.mo=i,this.yo=s,this.po=0,this.Io=null,this.To=Date.now(),this.reset()}reset(){this.po=0}Eo(){this.po=this.yo}Ao(e){this.cancel();const t=Math.floor(this.po+this.Ro()),r=Math.max(0,Date.now()-this.To),i=Math.max(0,t-r);i>0&&A("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.po} ms, delay with jitter: ${t} ms, last attempt: ${r} ms ago)`),this.Io=this.Hs.enqueueAfterDelay(this.timerId,i,()=>(this.To=Date.now(),e())),this.po*=this.mo,this.po<this.wo&&(this.po=this.wo),this.po>this.yo&&(this.po=this.yo)}bo(){null!==this.Io&&(this.Io.skipDelay(),this.Io=null)}cancel(){null!==this.Io&&(this.Io.cancel(),this.Io=null)}Ro(){return(Math.random()-.5)*this.po}}class P${constructor(e,t,r,i,s,o,a,u){this.Hs=e,this.Po=r,this.vo=i,this.Vo=s,this.authCredentialsProvider=o,this.appCheckCredentialsProvider=a,this.listener=u,this.state=0,this.So=0,this.Do=null,this.Co=null,this.stream=null,this.xo=new PD(e,t)}No(){return 1===this.state||5===this.state||this.ko()}ko(){return 2===this.state||3===this.state}start(){4!==this.state?this.auth():this.Mo()}stop(){var e=this;return y(function*(){e.No()&&(yield e.close(0))})()}Oo(){this.state=0,this.xo.reset()}Fo(){this.ko()&&null===this.Do&&(this.Do=this.Hs.enqueueAfterDelay(this.Po,6e4,()=>this.$o()))}Bo(e){this.Lo(),this.stream.send(e)}$o(){var e=this;return y(function*(){if(e.ko())return e.close(0)})()}Lo(){this.Do&&(this.Do.cancel(),this.Do=null)}Uo(){this.Co&&(this.Co.cancel(),this.Co=null)}close(e,t){var r=this;return y(function*(){r.Lo(),r.Uo(),r.xo.cancel(),r.So++,4!==e?r.xo.reset():t&&t.code===E.RESOURCE_EXHAUSTED?(st(t.toString()),st("Using maximum backoff delay to prevent overloading the backend."),r.xo.Eo()):t&&t.code===E.UNAUTHENTICATED&&3!==r.state&&(r.authCredentialsProvider.invalidateToken(),r.appCheckCredentialsProvider.invalidateToken()),null!==r.stream&&(r.qo(),r.stream.close(),r.stream=null),r.state=e,yield r.listener.Zr(t)})()}qo(){}auth(){this.state=1;const e=this.Ko(this.So),t=this.So;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,i])=>{this.So===t&&this.Go(r,i)},r=>{e(()=>{const i=new S(E.UNKNOWN,"Fetching auth token failed: "+r.message);return this.Qo(i)})})}Go(e,t){const r=this.Ko(this.So);this.stream=this.jo(e,t),this.stream.Yr(()=>{r(()=>(this.state=2,this.Co=this.Hs.enqueueAfterDelay(this.vo,1e4,()=>(this.ko()&&(this.state=3),Promise.resolve())),this.listener.Yr()))}),this.stream.Zr(i=>{r(()=>this.Qo(i))}),this.stream.onMessage(i=>{r(()=>this.onMessage(i))})}Mo(){var e=this;this.state=5,this.xo.Ao(y(function*(){e.state=0,e.start()}))}Qo(e){return A("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}Ko(e){return t=>{this.Hs.enqueueAndForget(()=>this.So===e?t():(A("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class Xue extends P${constructor(e,t,r,i,s,o){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,r,i,o),this.It=s}jo(e,t){return this.Vo._o("Listen",e,t)}onMessage(e){this.xo.reset();const t=function qae(n,e){let t;if("targetChange"in e){const r="NO_CHANGE"===(u=e.targetChange.targetChangeType||"NO_CHANGE")?0:"ADD"===u?1:"REMOVE"===u?2:"CURRENT"===u?3:"RESET"===u?4:B(),i=e.targetChange.targetIds||[],s=function(u,l){return u.gt?(te(void 0===l||"string"==typeof l),Mt.fromBase64String(l||"")):(te(void 0===l||l instanceof Uint8Array),Mt.fromUint8Array(l||new Uint8Array))}(n,e.targetChange.resumeToken),o=e.targetChange.cause,a=o&&function(u){const l=void 0===u.code?E.UNKNOWN:CB(u.code);return new S(l,u.message||"")}(o);t=new xB(r,i,s,a||null)}else if("documentChange"in e){const r=e.documentChange,i=ai(n,r.document.name),s=Bt(r.document.updateTime),o=new Jt({mapValue:{fields:r.document.fields}}),a=Ve.newFoundDocument(i,s,o);t=new Tg(r.targetIds||[],r.removedTargetIds||[],a.key,a)}else if("documentDelete"in e){const r=e.documentDelete,i=ai(n,r.document),s=r.readTime?Bt(r.readTime):Q.min(),o=Ve.newNoDocument(i,s);t=new Tg([],r.removedTargetIds||[],o.key,o)}else if("documentRemove"in e){const r=e.documentRemove,i=ai(n,r.document);t=new Tg([],r.removedTargetIds||[],i,null)}else{if(!("filter"in e))return B();{const r=e.filter,s=new Pae(r.count||0);t=new MB(r.targetId,s)}}var u;return t}(this.It,e),r=function(i){if(!("targetChange"in i))return Q.min();const s=i.targetChange;return s.targetIds&&s.targetIds.length?Q.min():s.readTime?Bt(s.readTime):Q.min()}(e);return this.listener.Wo(t,r)}zo(e){const t={};t.database=yd(this.It),t.addTarget=function(i,s){let o;const a=s.target;return o=yg(a)?{documents:BB(i,a)}:{query:$B(i,a)},o.targetId=s.targetId,s.resumeToken.approximateByteSize()>0?o.resumeToken=PB(i,s.resumeToken):s.snapshotVersion.compareTo(Q.min())>0&&(o.readTime=gd(i,s.snapshotVersion.toTimestamp())),o}(this.It,e);const r=function Wae(n,e){const t=function(r,i){switch(i){case 0:return null;case 1:return"existence-filter-mismatch";case 2:return"limbo-document";default:return B()}}(0,e.purpose);return null==t?null:{"goog-listen-tags":t}}(0,e);r&&(t.labels=r),this.Bo(t)}Ho(e){const t={};t.database=yd(this.It),t.removeTarget=e,this.Bo(t)}}class ele extends P${constructor(e,t,r,i,s,o){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,r,i,o),this.It=s,this.Jo=!1}get Yo(){return this.Jo}start(){this.Jo=!1,this.lastStreamToken=void 0,super.start()}qo(){this.Jo&&this.Xo([])}jo(e,t){return this.Vo._o("Write",e,t)}onMessage(e){if(te(!!e.streamToken),this.lastStreamToken=e.streamToken,this.Jo){this.xo.reset();const t=function zae(n,e){return n&&n.length>0?(te(void 0!==e),n.map(t=>function(r,i){let s=Bt(r.updateTime?r.updateTime:i);return s.isEqual(Q.min())&&(s=Bt(i)),new Nae(s,r.transformResults||[])}(t,e))):[]}(e.writeResults,e.commitTime),r=Bt(e.commitTime);return this.listener.Zo(r,t)}return te(!e.writeResults||0===e.writeResults.length),this.Jo=!0,this.listener.tu()}eu(){const e={};e.database=yd(this.It),this.Bo(e)}Xo(e){const t={streamToken:this.lastStreamToken,writes:e.map(r=>function _d(n,e){let t;if(e instanceof Cu)t={update:VB(n,e.key,e.value)};else if(e instanceof Du)t={delete:md(n,e.key)};else if(e instanceof zi)t={update:VB(n,e.key,e.data),updateMask:Zae(e.fieldMask)};else{if(!(e instanceof cD))return B();t={verify:md(n,e.key)}}return e.fieldTransforms.length>0&&(t.updateTransforms=e.fieldTransforms.map(r=>function(i,s){const o=s.transform;if(o instanceof bu)return{fieldPath:s.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(o instanceof Lo)return{fieldPath:s.field.canonicalString(),appendMissingElements:{values:o.elements}};if(o instanceof Vo)return{fieldPath:s.field.canonicalString(),removeAllFromArray:{values:o.elements}};if(o instanceof Tu)return{fieldPath:s.field.canonicalString(),increment:o.yt};throw B()}(0,r))),e.precondition.isNone||(t.currentDocument=void 0!==(i=e.precondition).updateTime?{updateTime:Hae(n,i.updateTime)}:void 0!==i.exists?{exists:i.exists}:B()),t;var i}(this.It,r))};this.Bo(t)}}class tle extends class{}{constructor(e,t,r,i){super(),this.authCredentials=e,this.appCheckCredentials=t,this.Vo=r,this.It=i,this.nu=!1}su(){if(this.nu)throw new S(E.FAILED_PRECONDITION,"The client has already been terminated.")}co(e,t,r){return this.su(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([i,s])=>this.Vo.co(e,t,r,i,s)).catch(i=>{throw"FirebaseError"===i.name?(i.code===E.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),i):new S(E.UNKNOWN,i.toString())})}fo(e,t,r,i){return this.su(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([s,o])=>this.Vo.fo(e,t,r,s,o,i)).catch(s=>{throw"FirebaseError"===s.name?(s.code===E.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new S(E.UNKNOWN,s.toString())})}terminate(){this.nu=!0}}class nle{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.iu=0,this.ru=null,this.ou=!0}uu(){0===this.iu&&(this.cu("Unknown"),this.ru=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.ru=null,this.au("Backend didn't respond within 10 seconds."),this.cu("Offline"),Promise.resolve())))}hu(e){"Online"===this.state?this.cu("Unknown"):(this.iu++,this.iu>=1&&(this.lu(),this.au(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.cu("Offline")))}set(e){this.lu(),this.iu=0,"Online"===e&&(this.ou=!1),this.cu(e)}cu(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}au(e){const t=`Could not reach Cloud Firestore backend. ${e}\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.ou?(st(t),this.ou=!1):A("OnlineStateTracker",t)}lu(){null!==this.ru&&(this.ru.cancel(),this.ru=null)}}class rle{constructor(e,t,r,i,s){var o=this;this.localStore=e,this.datastore=t,this.asyncQueue=r,this.remoteSyncer={},this.fu=[],this.du=new Map,this._u=new Set,this.wu=[],this.mu=s,this.mu.qr(a=>{r.enqueueAndForget(y(function*(){var u;ks(o)&&(A("RemoteStore","Restarting streams for network reachability change."),yield(u=y(function*(l){const c=R(l);c._u.add(4),yield Ru(c),c.gu.set("Unknown"),c._u.delete(4),yield Ad(c)}),function(l){return u.apply(this,arguments)})(o))}))}),this.gu=new nle(r,i)}}function Ad(n){return OD.apply(this,arguments)}function OD(){return OD=y(function*(n){if(ks(n))for(const e of n.wu)yield e(!0)}),OD.apply(this,arguments)}function Ru(n){return FD.apply(this,arguments)}function FD(){return FD=y(function*(n){for(const e of n.wu)yield e(!1)}),FD.apply(this,arguments)}function Ug(n,e){const t=R(n);t.du.has(e.targetId)||(t.du.set(e.targetId,e),UD(t)?VD(t):Ou(t).ko()&&LD(t,e))}function Md(n,e){const t=R(n),r=Ou(t);t.du.delete(e),r.ko()&&O$(t,e),0===t.du.size&&(r.ko()?r.Fo():ks(t)&&t.gu.set("Unknown"))}function LD(n,e){n.yu.Ot(e.targetId),Ou(n).zo(e)}function O$(n,e){n.yu.Ot(e),Ou(n).Ho(e)}function VD(n){n.yu=new Uae({getRemoteKeysForTarget:e=>n.remoteSyncer.getRemoteKeysForTarget(e),se:e=>n.du.get(e)||null}),Ou(n).start(),n.gu.uu()}function UD(n){return ks(n)&&!Ou(n).No()&&n.du.size>0}function ks(n){return 0===R(n)._u.size}function F$(n){n.yu=void 0}function ile(n){return BD.apply(this,arguments)}function BD(){return BD=y(function*(n){n.du.forEach((e,t)=>{LD(n,e)})}),BD.apply(this,arguments)}function sle(n,e){return $D.apply(this,arguments)}function $D(){return $D=y(function*(n,e){F$(n),UD(n)?(n.gu.hu(e),VD(n)):n.gu.set("Unknown")}),$D.apply(this,arguments)}function ole(n,e,t){return jD.apply(this,arguments)}function jD(){return jD=y(function*(n,e,t){if(n.gu.set("Online"),e instanceof xB&&2===e.state&&e.cause)try{yield(r=y(function*(i,s){const o=s.cause;for(const a of s.targetIds)i.du.has(a)&&(yield i.remoteSyncer.rejectListen(a,o),i.du.delete(a),i.yu.removeTarget(a))}),function(i,s){return r.apply(this,arguments)})(n,e)}catch(r){A("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),r),yield Bg(n,r)}else if(e instanceof Tg?n.yu.Gt(e):e instanceof MB?n.yu.Yt(e):n.yu.Wt(e),!t.isEqual(Q.min()))try{const r=yield T$(n.localStore);t.compareTo(r)>=0&&(yield function(i,s){const o=i.yu.te(s);return o.targetChanges.forEach((a,u)=>{if(a.resumeToken.approximateByteSize()>0){const l=i.du.get(u);l&&i.du.set(u,l.withResumeToken(a.resumeToken,s))}}),o.targetMismatches.forEach(a=>{const u=i.du.get(a);if(!u)return;i.du.set(a,u.withResumeToken(Mt.EMPTY_BYTE_STRING,u.snapshotVersion)),O$(i,a);const l=new Ms(u.target,a,1,u.sequenceNumber);LD(i,l)}),i.remoteSyncer.applyRemoteEvent(o)}(n,t))}catch(r){A("RemoteStore","Failed to raise snapshot:",r),yield Bg(n,r)}var r}),jD.apply(this,arguments)}function Bg(n,e,t){return HD.apply(this,arguments)}function HD(){return HD=y(function*(n,e,t){if(!bs(e))throw e;n._u.add(1),yield Ru(n),n.gu.set("Offline"),t||(t=()=>T$(n.localStore)),n.asyncQueue.enqueueRetryable(y(function*(){A("RemoteStore","Retrying IndexedDB access"),yield t(),n._u.delete(1),yield Ad(n)}))}),HD.apply(this,arguments)}function L$(n,e){return e().catch(t=>Bg(n,t,e))}function Pu(n){return GD.apply(this,arguments)}function GD(){return GD=y(function*(n){const e=R(n),t=Rs(e);let r=e.fu.length>0?e.fu[e.fu.length-1].batchId:-1;for(;ale(e);)try{const i=yield zue(e.localStore,r);if(null===i){0===e.fu.length&&t.Fo();break}r=i.batchId,ule(e,i)}catch(i){yield Bg(e,i)}V$(e)&&U$(e)}),GD.apply(this,arguments)}function ale(n){return ks(n)&&n.fu.length<10}function ule(n,e){n.fu.push(e);const t=Rs(n);t.ko()&&t.Yo&&t.Xo(e.mutations)}function V$(n){return ks(n)&&!Rs(n).No()&&n.fu.length>0}function U$(n){Rs(n).start()}function lle(n){return qD.apply(this,arguments)}function qD(){return qD=y(function*(n){Rs(n).eu()}),qD.apply(this,arguments)}function cle(n){return zD.apply(this,arguments)}function zD(){return zD=y(function*(n){const e=Rs(n);for(const t of n.fu)e.Xo(t.mutations)}),zD.apply(this,arguments)}function dle(n,e,t){return WD.apply(this,arguments)}function WD(){return WD=y(function*(n,e,t){const r=n.fu.shift(),i=mD.from(r,e,t);yield L$(n,()=>n.remoteSyncer.applySuccessfulWrite(i)),yield Pu(n)}),WD.apply(this,arguments)}function hle(n,e){return KD.apply(this,arguments)}function KD(){return KD=y(function*(n,e){var t;e&&Rs(n).Yo&&(yield(t=y(function*(r,i){if(TB(s=i.code)&&s!==E.ABORTED){const o=r.fu.shift();Rs(r).Oo(),yield L$(r,()=>r.remoteSyncer.rejectFailedWrite(o.batchId,i)),yield Pu(r)}var s}),function(r,i){return t.apply(this,arguments)})(n,e)),V$(n)&&U$(n)}),KD.apply(this,arguments)}function B$(n,e){return QD.apply(this,arguments)}function QD(){return QD=y(function*(n,e){const t=R(n);t.asyncQueue.verifyOperationInProgress(),A("RemoteStore","RemoteStore received new credentials");const r=ks(t);t._u.add(3),yield Ru(t),r&&t.gu.set("Unknown"),yield t.remoteSyncer.handleCredentialChange(e),t._u.delete(3),yield Ad(t)}),QD.apply(this,arguments)}function JD(){return JD=y(function*(n,e){const t=R(n);e?(t._u.delete(2),yield Ad(t)):e||(t._u.add(2),yield Ru(t),t.gu.set("Unknown"))}),JD.apply(this,arguments)}function Ou(n){return n.pu||(n.pu=function(e,t,r){const i=R(e);return i.su(),new Xue(t,i.Vo,i.authCredentials,i.appCheckCredentials,i.It,r)}(n.datastore,n.asyncQueue,{Yr:ile.bind(null,n),Zr:sle.bind(null,n),Wo:ole.bind(null,n)}),n.wu.push(function(){var e=y(function*(t){t?(n.pu.Oo(),UD(n)?VD(n):n.gu.set("Unknown")):(yield n.pu.stop(),F$(n))});return function(t){return e.apply(this,arguments)}}())),n.pu}function Rs(n){return n.Iu||(n.Iu=function(e,t,r){const i=R(e);return i.su(),new ele(t,i.Vo,i.authCredentials,i.appCheckCredentials,i.It,r)}(n.datastore,n.asyncQueue,{Yr:lle.bind(null,n),Zr:hle.bind(null,n),tu:cle.bind(null,n),Zo:dle.bind(null,n)}),n.wu.push(function(){var e=y(function*(t){t?(n.Iu.Oo(),yield Pu(n)):(yield n.Iu.stop(),n.fu.length>0&&(A("RemoteStore",`Stopping write stream with ${n.fu.length} pending writes`),n.fu=[]))});return function(t){return e.apply(this,arguments)}}())),n.Iu}class ZD{constructor(e,t,r,i,s){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=r,this.op=i,this.removalCallback=s,this.deferred=new Ut,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(o=>{})}static createAndSchedule(e,t,r,i,s){const o=Date.now()+r,a=new ZD(e,t,o,i,s);return a.start(r),a}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new S(E.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>null!==this.timerHandle?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Fu(n,e){if(st("AsyncQueue",`${e}: ${n}`),bs(n))return new S(E.UNAVAILABLE,`${e}: ${n}`);throw n}class Lu{constructor(e){this.comparator=e?(t,r)=>e(t,r)||k.comparator(t.key,r.key):(t,r)=>k.comparator(t.key,r.key),this.keyedMap=dd(),this.sortedSet=new Je(this.comparator)}static emptySet(e){return new Lu(e.comparator)}has(e){return null!=this.keyedMap.get(e)}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((t,r)=>(e(t),!1))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof Lu)||this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;t.hasNext();){const i=t.getNext().key,s=r.getNext().key;if(!i.isEqual(s))return!1}return!0}toString(){const e=[];return this.forEach(t=>{e.push(t.toString())}),0===e.length?"DocumentSet ()":"DocumentSet (\n  "+e.join("  \n")+"\n)"}copy(e,t){const r=new Lu;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=t,r}}class $${constructor(){this.Tu=new Je(k.comparator)}track(e){const t=e.doc.key,r=this.Tu.get(t);r?0!==e.type&&3===r.type?this.Tu=this.Tu.insert(t,e):3===e.type&&1!==r.type?this.Tu=this.Tu.insert(t,{type:r.type,doc:e.doc}):2===e.type&&2===r.type?this.Tu=this.Tu.insert(t,{type:2,doc:e.doc}):2===e.type&&0===r.type?this.Tu=this.Tu.insert(t,{type:0,doc:e.doc}):1===e.type&&0===r.type?this.Tu=this.Tu.remove(t):1===e.type&&2===r.type?this.Tu=this.Tu.insert(t,{type:1,doc:r.doc}):0===e.type&&1===r.type?this.Tu=this.Tu.insert(t,{type:2,doc:e.doc}):B():this.Tu=this.Tu.insert(t,e)}Eu(){const e=[];return this.Tu.inorderTraversal((t,r)=>{e.push(r)}),e}}class Vu{constructor(e,t,r,i,s,o,a,u){this.query=e,this.docs=t,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=s,this.fromCache=o,this.syncStateChanged=a,this.excludesMetadataChanges=u}static fromInitialDocuments(e,t,r,i){const s=[];return t.forEach(o=>{s.push({type:0,doc:o})}),new Vu(e,t,Lu.emptySet(t),s,r,i,!0,!1)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&ud(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,r=e.docChanges;if(t.length!==r.length)return!1;for(let i=0;i<t.length;i++)if(t[i].type!==r[i].type||!t[i].doc.isEqual(r[i].doc))return!1;return!0}}class fle{constructor(){this.Au=void 0,this.listeners=[]}}class ple{constructor(){this.queries=new As(e=>uB(e),ud),this.onlineState="Unknown",this.Ru=new Set}}function e0(){return e0=y(function*(n,e){const t=R(n),r=e.query;let i=!1,s=t.queries.get(r);if(s||(i=!0,s=new fle),i)try{s.Au=yield t.onListen(r)}catch(o){const a=Fu(o,`Initialization of query '${uD(e.query)}' failed`);return void e.onError(a)}t.queries.set(r,s),s.listeners.push(e),e.bu(t.onlineState),s.Au&&e.Pu(s.Au)&&r0(t)}),e0.apply(this,arguments)}function n0(){return n0=y(function*(n,e){const t=R(n),r=e.query;let i=!1;const s=t.queries.get(r);if(s){const o=s.listeners.indexOf(e);o>=0&&(s.listeners.splice(o,1),i=0===s.listeners.length)}if(i)return t.queries.delete(r),t.onUnlisten(r)}),n0.apply(this,arguments)}function gle(n,e){const t=R(n);let r=!1;for(const i of e){const o=t.queries.get(i.query);if(o){for(const a of o.listeners)a.Pu(i)&&(r=!0);o.Au=i}}r&&r0(t)}function mle(n,e,t){const r=R(n),i=r.queries.get(e);if(i)for(const s of i.listeners)s.onError(t);r.queries.delete(e)}function r0(n){n.Ru.forEach(e=>{e.next()})}class s0{constructor(e,t,r){this.query=e,this.vu=t,this.Vu=!1,this.Su=null,this.onlineState="Unknown",this.options=r||{}}Pu(e){if(!this.options.includeMetadataChanges){const r=[];for(const i of e.docChanges)3!==i.type&&r.push(i);e=new Vu(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0)}let t=!1;return this.Vu?this.Du(e)&&(this.vu.next(e),t=!0):this.Cu(e,this.onlineState)&&(this.xu(e),t=!0),this.Su=e,t}onError(e){this.vu.error(e)}bu(e){this.onlineState=e;let t=!1;return this.Su&&!this.Vu&&this.Cu(this.Su,e)&&(this.xu(this.Su),t=!0),t}Cu(e,t){return!e.fromCache||!(this.options.Nu&&"Offline"!==t||e.docs.isEmpty()&&"Offline"!==t)}Du(e){return e.docChanges.length>0||!!(e.syncStateChanged||this.Su&&this.Su.hasPendingWrites!==e.hasPendingWrites)&&!0===this.options.includeMetadataChanges}xu(e){e=Vu.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache),this.Vu=!0,this.vu.next(e)}}class G${constructor(e){this.key=e}}class q${constructor(e){this.key=e}}class z${constructor(e,t){this.query=e,this.Lu=t,this.Uu=null,this.current=!1,this.qu=le(),this.mutatedKeys=le(),this.Ku=cB(e),this.Gu=new Lu(this.Ku)}get Qu(){return this.Lu}ju(e,t){const r=t?t.Wu:new $$,i=t?t.Gu:this.Gu;let s=t?t.mutatedKeys:this.mutatedKeys,o=i,a=!1;const u="F"===this.query.limitType&&i.size===this.query.limit?i.last():null,l="L"===this.query.limitType&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((c,d)=>{const h=i.get(c),f=lD(this.query,d)?d:null,p=!!h&&this.mutatedKeys.has(h.key),g=!!f&&(f.hasLocalMutations||this.mutatedKeys.has(f.key)&&f.hasCommittedMutations);let m=!1;h&&f?h.data.isEqual(f.data)?p!==g&&(r.track({type:3,doc:f}),m=!0):this.zu(h,f)||(r.track({type:2,doc:f}),m=!0,(u&&this.Ku(f,u)>0||l&&this.Ku(f,l)<0)&&(a=!0)):!h&&f?(r.track({type:0,doc:f}),m=!0):h&&!f&&(r.track({type:1,doc:h}),m=!0,(u||l)&&(a=!0)),m&&(f?(o=o.add(f),s=g?s.add(c):s.delete(c)):(o=o.delete(c),s=s.delete(c)))}),null!==this.query.limit)for(;o.size>this.query.limit;){const c="F"===this.query.limitType?o.last():o.first();o=o.delete(c.key),s=s.delete(c.key),r.track({type:1,doc:c})}return{Gu:o,Wu:r,$i:a,mutatedKeys:s}}zu(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,r){const i=this.Gu;this.Gu=e.Gu,this.mutatedKeys=e.mutatedKeys;const s=e.Wu.Eu();s.sort((l,c)=>function(d,h){const f=p=>{switch(p){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return B()}};return f(d)-f(h)}(l.type,c.type)||this.Ku(l.doc,c.doc)),this.Hu(r);const o=t?this.Ju():[],a=0===this.qu.size&&this.current?1:0,u=a!==this.Uu;return this.Uu=a,0!==s.length||u?{snapshot:new Vu(this.query,e.Gu,i,s,e.mutatedKeys,0===a,u,!1),Yu:o}:{Yu:o}}bu(e){return this.current&&"Offline"===e?(this.current=!1,this.applyChanges({Gu:this.Gu,Wu:new $$,mutatedKeys:this.mutatedKeys,$i:!1},!1)):{Yu:[]}}Xu(e){return!this.Lu.has(e)&&!!this.Gu.has(e)&&!this.Gu.get(e).hasLocalMutations}Hu(e){e&&(e.addedDocuments.forEach(t=>this.Lu=this.Lu.add(t)),e.modifiedDocuments.forEach(t=>{}),e.removedDocuments.forEach(t=>this.Lu=this.Lu.delete(t)),this.current=e.current)}Ju(){if(!this.current)return[];const e=this.qu;this.qu=le(),this.Gu.forEach(r=>{this.Xu(r.key)&&(this.qu=this.qu.add(r.key))});const t=[];return e.forEach(r=>{this.qu.has(r)||t.push(new q$(r))}),this.qu.forEach(r=>{e.has(r)||t.push(new G$(r))}),t}Zu(e){this.Lu=e.Hi,this.qu=le();const t=this.ju(e.documents);return this.applyChanges(t,!0)}tc(){return Vu.fromInitialDocuments(this.query,this.Gu,this.mutatedKeys,0===this.Uu)}}class vle{constructor(e,t,r){this.query=e,this.targetId=t,this.view=r}}class wle{constructor(e){this.key=e,this.ec=!1}}class Ele{constructor(e,t,r,i,s,o){this.localStore=e,this.remoteStore=t,this.eventManager=r,this.sharedClientState=i,this.currentUser=s,this.maxConcurrentLimboResolutions=o,this.nc={},this.sc=new As(a=>uB(a),ud),this.ic=new Map,this.rc=new Set,this.oc=new Je(k.comparator),this.uc=new Map,this.cc=new ED,this.ac={},this.hc=new Map,this.lc=qo.vn(),this.onlineState="Unknown",this.fc=void 0}get isPrimaryClient(){return!0===this.fc}}function Ile(n,e){return o0.apply(this,arguments)}function o0(){return o0=y(function*(n,e){const t=M0(n);let r,i;const s=t.sc.get(e);if(s)r=s.targetId,t.sharedClientState.addLocalQueryTarget(r),i=s.view.tc();else{const o=yield Nu(t.localStore,Vn(e));t.isPrimaryClient&&Ug(t.remoteStore,o);const a=t.sharedClientState.addLocalQueryTarget(o.targetId);r=o.targetId,i=yield a0(t,e,r,"current"===a)}return i}),o0.apply(this,arguments)}function a0(n,e,t,r){return u0.apply(this,arguments)}function u0(){return u0=y(function*(n,e,t,r){n.dc=(c,d,h)=>{return(f=y(function*(p,g,m,_){let I=g.view.ju(m);I.$i&&(I=yield Og(p.localStore,g.query,!1).then(({documents:x})=>g.view.ju(x,I)));const v=_&&_.targetChanges.get(g.targetId),C=g.view.applyChanges(I,p.isPrimaryClient,v);return _0(p,g.targetId,C.Yu),C.snapshot}),function(p,g,m,_){return f.apply(this,arguments)})(n,c,d,h);var f};const i=yield Og(n.localStore,e,!0),s=new z$(e,i.Hi),o=s.ju(i.documents),a=pd.createSynthesizedTargetChangeForCurrentChange(t,r&&"Offline"!==n.onlineState),u=s.applyChanges(o,n.isPrimaryClient,a);_0(n,t,u.Yu);const l=new vle(e,t,s);return n.sc.set(e,l),n.ic.has(t)?n.ic.get(t).push(e):n.ic.set(t,[e]),u.snapshot}),u0.apply(this,arguments)}function ble(n,e){return l0.apply(this,arguments)}function l0(){return l0=y(function*(n,e){const t=R(n),r=t.sc.get(e),i=t.ic.get(r.targetId);if(i.length>1)return t.ic.set(r.targetId,i.filter(s=>!ud(s,e))),void t.sc.delete(e);t.isPrimaryClient?(t.sharedClientState.removeLocalQueryTarget(r.targetId),t.sharedClientState.isActiveQueryTarget(r.targetId)||(yield ku(t.localStore,r.targetId,!1).then(()=>{t.sharedClientState.clearQueryState(r.targetId),Md(t.remoteStore,r.targetId),Uu(t,r.targetId)}).catch(Is))):(Uu(t,r.targetId),yield ku(t.localStore,r.targetId,!0))}),l0.apply(this,arguments)}function c0(){return c0=y(function*(n,e,t){const r=x0(n);try{const i=yield function(s,o){const a=R(s),u=qe.now(),l=o.reduce((h,f)=>h.add(f.key),le());let c,d;return a.persistence.runTransaction("Locally write mutations","readwrite",h=>{let f=Un(),p=le();return a.Gi.getEntries(h,l).next(g=>{f=g,f.forEach((m,_)=>{_.isValidDocument()||(p=p.add(m))})}).next(()=>a.localDocuments.getOverlayedDocuments(h,f)).next(g=>{c=g;const m=[];for(const _ of o){const I=Rae(_,c.get(_.key).overlayedDocument);null!=I&&m.push(new zi(_.key,I,X2(I.value.mapValue),je.exists(!0)))}return a.mutationQueue.addMutationBatch(h,u,m,o)}).next(g=>{d=g;const m=g.applyToLocalDocumentSet(c,p);return a.documentOverlayCache.saveOverlays(h,g.batchId,m)})}).then(()=>({batchId:d.batchId,changes:SB(c)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(i.batchId),function(s,o,a){let u=s.ac[s.currentUser.toKey()];u||(u=new Je(ie)),u=u.insert(o,a),s.ac[s.currentUser.toKey()]=u}(r,i.batchId,t),yield Wi(r,i.changes),yield Pu(r.remoteStore)}catch(i){const s=Fu(i,"Failed to persist write");t.reject(s)}}),c0.apply(this,arguments)}function W$(n,e){return d0.apply(this,arguments)}function d0(){return d0=y(function*(n,e){const t=R(n);try{const r=yield que(t.localStore,e);e.targetChanges.forEach((i,s)=>{const o=t.uc.get(s);o&&(te(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1),i.addedDocuments.size>0?o.ec=!0:i.modifiedDocuments.size>0?te(o.ec):i.removedDocuments.size>0&&(te(o.ec),o.ec=!1))}),yield Wi(t,r,e)}catch(r){yield Is(r)}}),d0.apply(this,arguments)}function K$(n,e,t){const r=R(n);if(r.isPrimaryClient&&0===t||!r.isPrimaryClient&&1===t){const i=[];r.sc.forEach((s,o)=>{const a=o.view.bu(e);a.snapshot&&i.push(a.snapshot)}),function(s,o){const a=R(s);a.onlineState=o;let u=!1;a.queries.forEach((l,c)=>{for(const d of c.listeners)d.bu(o)&&(u=!0)}),u&&r0(a)}(r.eventManager,e),i.length&&r.nc.Wo(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}function Cle(n,e,t){return h0.apply(this,arguments)}function h0(){return h0=y(function*(n,e,t){const r=R(n);r.sharedClientState.updateQueryState(e,"rejected",t);const i=r.uc.get(e),s=i&&i.key;if(s){let o=new Je(k.comparator);o=o.insert(s,Ve.newNoDocument(s,Q.min()));const a=le().add(s),u=new fd(Q.min(),new Map,new Me(ie),o,a);yield W$(r,u),r.oc=r.oc.remove(s),r.uc.delete(e),v0(r)}else yield ku(r.localStore,e,!1).then(()=>Uu(r,e,t)).catch(Is)}),h0.apply(this,arguments)}function Dle(n,e){return f0.apply(this,arguments)}function f0(){return f0=y(function*(n,e){const t=R(n),r=e.batch.batchId;try{const i=yield Gue(t.localStore,e);y0(t,r,null),m0(t,r),t.sharedClientState.updateMutationState(r,"acknowledged"),yield Wi(t,i)}catch(i){yield Is(i)}}),f0.apply(this,arguments)}function Sle(n,e,t){return p0.apply(this,arguments)}function p0(){return p0=y(function*(n,e,t){const r=R(n);try{const i=yield function(s,o){const a=R(s);return a.persistence.runTransaction("Reject batch","readwrite-primary",u=>{let l;return a.mutationQueue.lookupMutationBatch(u,o).next(c=>(te(null!==c),l=c.keys(),a.mutationQueue.removeMutationBatch(u,c))).next(()=>a.mutationQueue.performConsistencyCheck(u)).next(()=>a.documentOverlayCache.removeOverlaysForBatchId(u,l,o)).next(()=>a.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(u,l)).next(()=>a.localDocuments.getDocuments(u,l))})}(r.localStore,e);y0(r,e,t),m0(r,e),r.sharedClientState.updateMutationState(e,"rejected",t),yield Wi(r,i)}catch(i){yield Is(i)}}),p0.apply(this,arguments)}function m0(n,e){(n.hc.get(e)||[]).forEach(t=>{t.resolve()}),n.hc.delete(e)}function y0(n,e,t){const r=R(n);let i=r.ac[r.currentUser.toKey()];if(i){const s=i.get(e);s&&(t?s.reject(t):s.resolve(),i=i.remove(e)),r.ac[r.currentUser.toKey()]=i}}function Uu(n,e,t=null){n.sharedClientState.removeLocalQueryTarget(e);for(const r of n.ic.get(e))n.sc.delete(r),t&&n.nc._c(r,t);n.ic.delete(e),n.isPrimaryClient&&n.cc.ls(e).forEach(r=>{n.cc.containsKey(r)||Q$(n,r)})}function Q$(n,e){n.rc.delete(e.path.canonicalString());const t=n.oc.get(e);null!==t&&(Md(n.remoteStore,t),n.oc=n.oc.remove(e),n.uc.delete(t),v0(n))}function _0(n,e,t){for(const r of t)r instanceof G$?(n.cc.addReference(r.key,e),Mle(n,r)):r instanceof q$?(A("SyncEngine","Document no longer in limbo: "+r.key),n.cc.removeReference(r.key,e),n.cc.containsKey(r.key)||Q$(n,r.key)):B()}function Mle(n,e){const t=e.key,r=t.path.canonicalString();n.oc.get(t)||n.rc.has(r)||(A("SyncEngine","New document in limbo: "+t),n.rc.add(r),v0(n))}function v0(n){for(;n.rc.size>0&&n.oc.size<n.maxConcurrentLimboResolutions;){const e=n.rc.values().next().value;n.rc.delete(e);const t=new k(ve.fromString(e)),r=n.lc.next();n.uc.set(r,new wle(t)),n.oc=n.oc.insert(t,r),Ug(n.remoteStore,new Ms(Vn(Eu(t.path)),r,2,Ln.at))}}function Wi(n,e,t){return w0.apply(this,arguments)}function w0(){return w0=y(function*(n,e,t){const r=R(n),i=[],s=[],o=[];var a;r.sc.isEmpty()||(r.sc.forEach((a,u)=>{o.push(r.dc(u,e,t).then(l=>{if(l){r.isPrimaryClient&&r.sharedClientState.updateQueryState(u.targetId,l.fromCache?"not-current":"current"),i.push(l);const c=CD.Ci(u.targetId,l);s.push(c)}}))}),yield Promise.all(o),r.nc.Wo(i),yield(a=y(function*(u,l){const c=R(u);try{yield c.persistence.runTransaction("notifyLocalViewChanges","readwrite",d=>w.forEach(l,h=>w.forEach(h.Si,f=>c.persistence.referenceDelegate.addReference(d,h.targetId,f)).next(()=>w.forEach(h.Di,f=>c.persistence.referenceDelegate.removeReference(d,h.targetId,f)))))}catch(d){if(!bs(d))throw d;A("LocalStore","Failed to update sequence numbers: "+d)}for(const d of l){const h=d.targetId;if(!d.fromCache){const f=c.Ui.get(h),g=f.withLastLimboFreeSnapshotVersion(f.snapshotVersion);c.Ui=c.Ui.insert(h,g)}}}),function(u,l){return a.apply(this,arguments)})(r.localStore,s))}),w0.apply(this,arguments)}function xle(n,e){return E0.apply(this,arguments)}function E0(){return E0=y(function*(n,e){const t=R(n);if(!t.currentUser.isEqual(e)){A("SyncEngine","User change. New user:",e.toKey());const r=yield b$(t.localStore,e);t.currentUser=e,(i=t).hc.forEach(o=>{o.forEach(a=>{a.reject(new S(E.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))})}),i.hc.clear(),t.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),yield Wi(t,r.ji)}var i}),E0.apply(this,arguments)}function Nle(n,e){const t=R(n),r=t.uc.get(e);if(r&&r.ec)return le().add(r.key);{let i=le();const s=t.ic.get(e);if(!s)return i;for(const o of s){const a=t.sc.get(o);i=i.unionWith(a.view.Qu)}return i}}function M0(n){const e=R(n);return e.remoteStore.remoteSyncer.applyRemoteEvent=W$.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=Nle.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=Cle.bind(null,e),e.nc.Wo=gle.bind(null,e.eventManager),e.nc._c=mle.bind(null,e.eventManager),e}function x0(n){const e=R(n);return e.remoteStore.remoteSyncer.applySuccessfulWrite=Dle.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=Sle.bind(null,e),e}class Ble{constructor(){this.synchronizeTabs=!1}initialize(e){var t=this;return y(function*(){t.It=Sd(e.databaseInfo.databaseId),t.sharedClientState=t.mc(e),t.persistence=t.gc(e),yield t.persistence.start(),t.localStore=t.yc(e),t.gcScheduler=t.Ic(e,t.localStore),t.indexBackfillerScheduler=t.Tc(e,t.localStore)})()}Ic(e,t){return null}Tc(e,t){return null}yc(e){return function I$(n,e,t,r){return new Hue(n,e,t,r)}(this.persistence,new E$,e.initialUser,this.It)}gc(e){return new v$(Rg.Bs,this.It)}mc(e){return new N$}terminate(){var e=this;return y(function*(){e.gcScheduler&&e.gcScheduler.stop(),yield e.sharedClientState.shutdown(),yield e.persistence.shutdown()})()}}class N0{initialize(e,t){var r=this;return y(function*(){r.localStore||(r.localStore=e.localStore,r.sharedClientState=e.sharedClientState,r.datastore=r.createDatastore(t),r.remoteStore=r.createRemoteStore(t),r.eventManager=r.createEventManager(t),r.syncEngine=r.createSyncEngine(t,!e.synchronizeTabs),r.sharedClientState.onlineStateHandler=i=>K$(r.syncEngine,i,1),r.remoteStore.remoteSyncer.handleCredentialChange=xle.bind(null,r.syncEngine),yield function YD(n,e){return JD.apply(this,arguments)}(r.remoteStore,r.syncEngine.isPrimaryClient))})()}createEventManager(e){return new ple}createDatastore(e){const t=Sd(e.databaseInfo.databaseId),r=new Zue(e.databaseInfo);return new tle(e.authCredentials,e.appCheckCredentials,r,t)}createRemoteStore(e){return t=this.localStore,r=this.datastore,i=e.asyncQueue,s=a=>K$(this.syncEngine,a,0),o=k$.C()?new k$:new Que,new rle(t,r,i,s,o);var t,r,i,s,o}createSyncEngine(e,t){return function(r,i,s,o,a,u,l){const c=new Ele(r,i,s,o,a,u);return l&&(c.fc=!0),c}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}terminate(){return(e=y(function*(t){const r=R(t);A("RemoteStore","RemoteStore shutting down."),r._u.add(5),yield Ru(r),r.mu.shutdown(),r.gu.set("Unknown")}),function(t){return e.apply(this,arguments)})(this.remoteStore);var e}}class $g{constructor(e){this.observer=e,this.muted=!1}next(e){this.observer.next&&this.Ac(this.observer.next,e)}error(e){this.observer.error?this.Ac(this.observer.error,e):st("Uncaught Error in snapshot listener:",e)}Rc(){this.muted=!0}Ac(e,t){this.muted||setTimeout(()=>{this.muted||e(t)},0)}}class zle{constructor(e,t,r,i){var s=this;this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=r,this.databaseInfo=i,this.user=Vt.UNAUTHENTICATED,this.clientId=F2.R(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(r,function(){var o=y(function*(a){A("FirestoreClient","Received user=",a.uid),yield s.authCredentialListener(a),s.user=a});return function(a){return o.apply(this,arguments)}}()),this.appCheckCredentials.start(r,o=>(A("FirestoreClient","Received new app check token=",o),this.appCheckCredentialListener(o,this.user)))}getConfiguration(){var e=this;return y(function*(){return{asyncQueue:e.asyncQueue,databaseInfo:e.databaseInfo,clientId:e.clientId,authCredentials:e.authCredentials,appCheckCredentials:e.appCheckCredentials,initialUser:e.user,maxConcurrentLimboResolutions:100}})()}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new S(E.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){var e=this;this.asyncQueue.enterRestrictedMode();const t=new Ut;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(y(function*(){try{e.onlineComponents&&(yield e.onlineComponents.terminate()),e.offlineComponents&&(yield e.offlineComponents.terminate()),e.authCredentials.shutdown(),e.appCheckCredentials.shutdown(),t.resolve()}catch(r){const i=Fu(r,"Failed to shutdown persistence");t.reject(i)}})),t.promise}}function X$(n,e){return k0.apply(this,arguments)}function k0(){return k0=y(function*(n,e){n.asyncQueue.verifyOperationInProgress(),A("FirestoreClient","Initializing OfflineComponentProvider");const t=yield n.getConfiguration();yield e.initialize(t);let r=t.initialUser;n.setCredentialChangeListener(function(){var i=y(function*(s){r.isEqual(s)||(yield b$(e.localStore,s),r=s)});return function(s){return i.apply(this,arguments)}}()),e.persistence.setDatabaseDeletedListener(()=>n.terminate()),n.offlineComponents=e}),k0.apply(this,arguments)}function ej(n,e){return R0.apply(this,arguments)}function R0(){return R0=y(function*(n,e){n.asyncQueue.verifyOperationInProgress();const t=yield P0(n);A("FirestoreClient","Initializing OnlineComponentProvider");const r=yield n.getConfiguration();yield e.initialize(t,r),n.setCredentialChangeListener(i=>B$(e.remoteStore,i)),n.setAppCheckTokenChangeListener((i,s)=>B$(e.remoteStore,s)),n.onlineComponents=e}),R0.apply(this,arguments)}function P0(n){return O0.apply(this,arguments)}function O0(){return O0=y(function*(n){return n.offlineComponents||(A("FirestoreClient","Using default OfflineComponentProvider"),yield X$(n,new Ble)),n.offlineComponents}),O0.apply(this,arguments)}function jg(n){return F0.apply(this,arguments)}function F0(){return F0=y(function*(n){return n.onlineComponents||(A("FirestoreClient","Using default OnlineComponentProvider"),yield ej(n,new N0)),n.onlineComponents}),F0.apply(this,arguments)}function Bu(n){return V0.apply(this,arguments)}function V0(){return V0=y(function*(n){const e=yield jg(n),t=e.eventManager;return t.onListen=Ile.bind(null,e.syncEngine),t.onUnlisten=ble.bind(null,e.syncEngine),t}),V0.apply(this,arguments)}const sj=new Map;function U0(n,e,t){if(!t)throw new S(E.INVALID_ARGUMENT,`Function ${n}() cannot be called with an empty ${e}.`)}function oj(n){if(!k.isDocumentKey(n))throw new S(E.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${n} has ${n.length}.`)}function aj(n){if(k.isDocumentKey(n))throw new S(E.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${n} has ${n.length}.`)}function Gg(n){if(void 0===n)return"undefined";if(null===n)return"null";if("string"==typeof n)return n.length>20&&(n=`${n.substring(0,20)}...`),JSON.stringify(n);if("number"==typeof n||"boolean"==typeof n)return""+n;if("object"==typeof n){if(n instanceof Array)return"an array";{const e=(t=n).constructor?t.constructor.name:null;return e?`a custom ${e} object`:"an object"}}var t;return"function"==typeof n?"a function":B()}function Ee(n,e){if("_delegate"in n&&(n=n._delegate),!(n instanceof e)){if(e.name===n.constructor.name)throw new S(E.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const t=Gg(n);throw new S(E.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${t}`)}}return n}class lj{constructor(e){var t;if(void 0===e.host){if(void 0!==e.ssl)throw new S(E.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=null===(t=e.ssl)||void 0===t||t;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,void 0===e.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==e.cacheSizeBytes&&e.cacheSizeBytes<1048576)throw new S(E.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.useFetchStreams=!!e.useFetchStreams,function tce(n,e,t,r){if(!0===e&&!0===r)throw new S(E.INVALID_ARGUMENT,`${n} and ${t} cannot be used together.`)}("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling)}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class xd{constructor(e,t,r,i){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new lj({}),this._settingsFrozen=!1}get app(){if(!this._app)throw new S(E.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return void 0!==this._terminateTask}_setSettings(e){if(this._settingsFrozen)throw new S(E.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new lj(e),void 0!==e.credentials&&(this._authCredentials=function(t){if(!t)return new Zoe;switch(t.type){case"gapi":return new nae(t.client,t.sessionIndex||"0",t.iamToken||null,t.authTokenFactory||null);case"provider":return t.client;default:throw new S(E.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(e){const t=sj.get(e);t&&(A("ComponentProvider","Removing Datastore"),sj.delete(e),t.terminate())}(this),Promise.resolve()}}class at{constructor(e,t,r){this.converter=t,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new li(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new at(this.firestore,e,this._key)}}class dn{constructor(e,t,r){this.converter=t,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new dn(this.firestore,e,this._query)}}class li extends dn{constructor(e,t,r){super(e,t,Eu(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new at(this.firestore,null,new k(e))}withConverter(e){return new li(this.firestore,e,this._path)}}function nce(n,e,...t){if(n=Er(n),U0("collection","path",e),n instanceof xd){const r=ve.fromString(e,...t);return aj(r),new li(n,null,r)}{if(!(n instanceof at||n instanceof li))throw new S(E.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=n._path.child(ve.fromString(e,...t));return aj(r),new li(n.firestore,null,r)}}function cj(n,e,...t){if(n=Er(n),1===arguments.length&&(e=F2.R()),U0("doc","path",e),n instanceof xd){const r=ve.fromString(e,...t);return oj(r),new at(n,null,new k(r))}{if(!(n instanceof at||n instanceof li))throw new S(E.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=n._path.child(ve.fromString(e,...t));return oj(r),new at(n.firestore,n instanceof li?n.converter:null,new k(r))}}class ice{constructor(){this.$c=Promise.resolve(),this.Bc=[],this.Lc=!1,this.Uc=[],this.qc=null,this.Kc=!1,this.Gc=!1,this.Qc=[],this.xo=new PD(this,"async_queue_retry"),this.jc=()=>{const t=Vg();t&&A("AsyncQueue","Visibility state changed to "+t.visibilityState),this.xo.bo()};const e=Vg();e&&"function"==typeof e.addEventListener&&e.addEventListener("visibilitychange",this.jc)}get isShuttingDown(){return this.Lc}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.Wc(),this.zc(e)}enterRestrictedMode(e){if(!this.Lc){this.Lc=!0,this.Gc=e||!1;const t=Vg();t&&"function"==typeof t.removeEventListener&&t.removeEventListener("visibilitychange",this.jc)}}enqueue(e){if(this.Wc(),this.Lc)return new Promise(()=>{});const t=new Ut;return this.zc(()=>this.Lc&&this.Gc?Promise.resolve():(e().then(t.resolve,t.reject),t.promise)).then(()=>t.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Bc.push(e),this.Hc()))}Hc(){var e=this;return y(function*(){if(0!==e.Bc.length){try{yield e.Bc[0](),e.Bc.shift(),e.xo.reset()}catch(t){if(!bs(t))throw t;A("AsyncQueue","Operation failed with retryable error: "+t)}e.Bc.length>0&&e.xo.Ao(()=>e.Hc())}})()}zc(e){const t=this.$c.then(()=>(this.Kc=!0,e().catch(r=>{throw this.qc=r,this.Kc=!1,st("INTERNAL UNHANDLED ERROR: ",function(s){let o=s.message||"";return s.stack&&(o=s.stack.includes(s.message)?s.stack:s.message+"\n"+s.stack),o}(r)),r}).then(r=>(this.Kc=!1,r))));return this.$c=t,t}enqueueAfterDelay(e,t,r){this.Wc(),this.Qc.indexOf(e)>-1&&(t=0);const i=ZD.createAndSchedule(this,e,t,r,s=>this.Jc(s));return this.Uc.push(i),i}Wc(){this.qc&&B()}verifyOperationInProgress(){}Yc(){var e=this;return y(function*(){let t;do{t=e.$c,yield t}while(t!==e.$c)})()}Xc(e){for(const t of this.Uc)if(t.timerId===e)return!0;return!1}Zc(e){return this.Yc().then(()=>{this.Uc.sort((t,r)=>t.targetTimeMs-r.targetTimeMs);for(const t of this.Uc)if(t.skipDelay(),"all"!==e&&t.timerId===e)break;return this.Yc()})}ta(e){this.Qc.push(e)}Jc(e){const t=this.Uc.indexOf(e);this.Uc.splice(t,1)}}function B0(n){return function(e,t){if("object"!=typeof e||null===e)return!1;const r=e;for(const i of["next","error","complete"])if(i in r&&"function"==typeof r[i])return!0;return!1}(n)}class He extends xd{constructor(e,t,r,i){super(e,t,r,i),this.type="firestore",this._queue=new ice,this._persistenceKey=i?.name||"[DEFAULT]"}_terminate(){return this._firestoreClient||dj(this),this._firestoreClient.terminate()}}function oce(n,e){const r="string"==typeof n?n:e||"(default)";return cp("object"==typeof n?n:qF(),"firestore").getImmediate({identifier:r})}function xt(n){return n._firestoreClient||dj(n),n._firestoreClient.verifyNotTerminated(),n._firestoreClient}function dj(n){var e;const t=n._freezeSettings(),r=(s=(null===(e=n._app)||void 0===e?void 0:e.options.appId)||"",new pae(n._databaseId,s,n._persistenceKey,(a=t).host,a.ssl,a.experimentalForceLongPolling,a.experimentalAutoDetectLongPolling,a.useFetchStreams));var s,a;n._firestoreClient=new zle(n._authCredentials,n._appCheckCredentials,n._queue,r)}class $u{constructor(...e){for(let t=0;t<e.length;++t)if(0===e[t].length)throw new S(E.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new ot(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class Wo{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Wo(Mt.fromBase64String(e))}catch(t){throw new S(E.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}static fromUint8Array(e){return new Wo(Mt.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}class pj{constructor(e){this._methodName=e}}class $0{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new S(E.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new S(E.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return ie(this._lat,e._lat)||ie(this._long,e._long)}}const ace=/^__.*__$/;class uce{constructor(e,t,r){this.data=e,this.fieldMask=t,this.fieldTransforms=r}toMutation(e,t){return null!==this.fieldMask?new zi(e,this.data,this.fieldMask,t,this.fieldTransforms):new Cu(e,this.data,t,this.fieldTransforms)}}function mj(n){switch(n){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw B()}}class qg{constructor(e,t,r,i,s,o){this.settings=e,this.databaseId=t,this.It=r,this.ignoreUndefinedProperties=i,void 0===s&&this.ea(),this.fieldTransforms=s||[],this.fieldMask=o||[]}get path(){return this.settings.path}get na(){return this.settings.na}sa(e){return new qg(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.It,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}ia(e){var t;const r=null===(t=this.path)||void 0===t?void 0:t.child(e),i=this.sa({path:r,ra:!1});return i.oa(e),i}ua(e){var t;const r=null===(t=this.path)||void 0===t?void 0:t.child(e),i=this.sa({path:r,ra:!1});return i.ea(),i}ca(e){return this.sa({path:void 0,ra:!0})}aa(e){return Wg(e,this.settings.methodName,this.settings.ha||!1,this.path,this.settings.la)}contains(e){return void 0!==this.fieldMask.find(t=>e.isPrefixOf(t))||void 0!==this.fieldTransforms.find(t=>e.isPrefixOf(t.field))}ea(){if(this.path)for(let e=0;e<this.path.length;e++)this.oa(this.path.get(e))}oa(e){if(0===e.length)throw this.aa("Document fields must not be empty");if(mj(this.na)&&ace.test(e))throw this.aa('Document fields cannot begin and end with "__"')}}class lce{constructor(e,t,r){this.databaseId=e,this.ignoreUndefinedProperties=t,this.It=r||Sd(e)}fa(e,t,r,i=!1){return new qg({na:e,methodName:t,la:r,path:ot.emptyPath(),ra:!1,ha:i},this.databaseId,this.It,this.ignoreUndefinedProperties)}}function ju(n){const e=n._freezeSettings(),t=Sd(n._databaseId);return new lce(n._databaseId,!!e.ignoreUndefinedProperties,t)}function j0(n,e,t,r,i,s={}){const o=n.fa(s.merge||s.mergeFields?2:0,e,t,i);G0("Data must be an object, but it was:",o,r);const a=Ej(r,o);let u,l;if(s.merge)u=new ur(o.fieldMask),l=o.fieldTransforms;else if(s.mergeFields){const c=[];for(const d of s.mergeFields){const h=q0(e,d,t);if(!o.contains(h))throw new S(E.INVALID_ARGUMENT,`Field '${h}' is specified in your field mask but missing from your input data.`);bj(c,h)||c.push(h)}u=new ur(c),l=o.fieldTransforms.filter(d=>u.covers(d.field))}else u=null,l=o.fieldTransforms;return new uce(new Jt(a),u,l)}function Ko(n,e){if(Ij(n=Er(n)))return G0("Unsupported field value:",e,n),Ej(n,e);if(n instanceof pj)return function(t,r){if(!mj(r.na))throw r.aa(`${t._methodName}() can only be used with update() and set()`);if(!r.path)throw r.aa(`${t._methodName}() is not currently supported inside arrays`);const i=t._toFieldTransform(r);i&&r.fieldTransforms.push(i)}(n,e),null;if(void 0===n&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),n instanceof Array){if(e.settings.ra&&4!==e.na)throw e.aa("Nested arrays are not supported");return function(t,r){const i=[];let s=0;for(const o of t){let a=Ko(o,r.ca(s));null==a&&(a={nullValue:"NULL_VALUE"}),i.push(a),s++}return{arrayValue:{values:i}}}(n,e)}return function(t,r){if(null===(t=Er(t)))return{nullValue:"NULL_VALUE"};if("number"==typeof t)return fB(r.It,t);if("boolean"==typeof t)return{booleanValue:t};if("string"==typeof t)return{stringValue:t};if(t instanceof Date){const i=qe.fromDate(t);return{timestampValue:gd(r.It,i)}}if(t instanceof qe){const i=new qe(t.seconds,1e3*Math.floor(t.nanoseconds/1e3));return{timestampValue:gd(r.It,i)}}if(t instanceof $0)return{geoPointValue:{latitude:t.latitude,longitude:t.longitude}};if(t instanceof Wo)return{bytesValue:PB(r.It,t._byteString)};if(t instanceof at){const i=r.databaseId,s=t.firestore._databaseId;if(!s.isEqual(i))throw r.aa(`Document reference is for database ${s.projectId}/${s.database} but should be for database ${i.projectId}/${i.database}`);return{referenceValue:dD(t.firestore._databaseId||r.databaseId,t._key.path)}}throw r.aa(`Unsupported field value: ${Gg(t)}`)}(n,e)}function Ej(n,e){const t={};return H2(n)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):No(n,(r,i)=>{const s=Ko(i,e.ia(r));null!=s&&(t[r]=s)}),{mapValue:{fields:t}}}function Ij(n){return!("object"!=typeof n||null===n||n instanceof Array||n instanceof Date||n instanceof qe||n instanceof $0||n instanceof Wo||n instanceof at||n instanceof pj)}function G0(n,e,t){if(!Ij(t)||"object"!=typeof(r=t)||null===r||Object.getPrototypeOf(r)!==Object.prototype&&null!==Object.getPrototypeOf(r)){const r=Gg(t);throw e.aa("an object"===r?n+" a custom object":n+" "+r)}var r}function q0(n,e,t){if((e=Er(e))instanceof $u)return e._internalPath;if("string"==typeof e)return zg(n,e);throw Wg("Field path arguments must be of type string or ",n,!1,void 0,t)}const fce=new RegExp("[~\\*/\\[\\]]");function zg(n,e,t){if(e.search(fce)>=0)throw Wg(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,n,!1,void 0,t);try{return new $u(...e.split("."))._internalPath}catch{throw Wg(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,n,!1,void 0,t)}}function Wg(n,e,t,r,i){const s=r&&!r.isEmpty(),o=void 0!==i;let a=`Function ${e}() called with invalid data`;t&&(a+=" (via `toFirestore()`)"),a+=". ";let u="";return(s||o)&&(u+=" (found",s&&(u+=` in field ${r}`),o&&(u+=` in document ${i}`),u+=")"),new S(E.INVALID_ARGUMENT,a+n+u)}function bj(n,e){return n.some(t=>t.isEqual(e))}class z0{constructor(e,t,r,i,s){this._firestore=e,this._userDataWriter=t,this._key=r,this._document=i,this._converter=s}get id(){return this._key.path.lastSegment()}get ref(){return new at(this._firestore,this._converter,this._key)}exists(){return null!==this._document}data(){if(this._document){if(this._converter){const e=new pce(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const t=this._document.data.field(Kg("DocumentSnapshot.get",e));if(null!==t)return this._userDataWriter.convertValue(t)}}}class pce extends z0{data(){return super.data()}}function Kg(n,e){return"string"==typeof e?zg(n,e):e instanceof $u?e._internalPath:e._delegate._internalPath}class Qo{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class Hu extends z0{constructor(e,t,r,i,s,o){super(e,t,r,i,o),this._firestore=e,this._firestoreImpl=e,this.metadata=s}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const t=new Qg(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,t={}){if(this._document){const r=this._document.data.field(Kg("DocumentSnapshot.get",e));if(null!==r)return this._userDataWriter.convertValue(r,t.serverTimestamps)}}}class Qg extends Hu{data(e={}){return super.data(e)}}class Gu{constructor(e,t,r,i){this._firestore=e,this._userDataWriter=t,this._snapshot=i,this.metadata=new Qo(i.hasPendingWrites,i.fromCache),this.query=r}get docs(){const e=[];return this.forEach(t=>e.push(t)),e}get size(){return this._snapshot.docs.size}get empty(){return 0===this.size}forEach(e,t){this._snapshot.docs.forEach(r=>{e.call(t,new Qg(this._firestore,this._userDataWriter,r.key,r,new Qo(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new S(E.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=function(r,i){if(r._snapshot.oldDocs.isEmpty()){let s=0;return r._snapshot.docChanges.map(o=>({type:"added",doc:new Qg(r._firestore,r._userDataWriter,o.doc.key,o.doc,new Qo(r._snapshot.mutatedKeys.has(o.doc.key),r._snapshot.fromCache),r.query.converter),oldIndex:-1,newIndex:s++}))}{let s=r._snapshot.oldDocs;return r._snapshot.docChanges.filter(o=>i||3!==o.type).map(o=>{const a=new Qg(r._firestore,r._userDataWriter,o.doc.key,o.doc,new Qo(r._snapshot.mutatedKeys.has(o.doc.key),r._snapshot.fromCache),r.query.converter);let u=-1,l=-1;return 0!==o.type&&(u=s.indexOf(o.doc.key),s=s.delete(o.doc.key)),1!==o.type&&(s=s.add(o.doc),l=s.indexOf(o.doc.key)),{type:gce(o.type),doc:a,oldIndex:u,newIndex:l}})}}(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}}function gce(n){switch(n){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return B()}}class Yo extends class vce{convertValue(e,t="none"){switch(Po(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Ze(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(ko(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 10:return this.convertObject(e.mapValue,t);default:throw B()}}convertObject(e,t){const r={};return No(e.fields,(i,s)=>{r[i]=this.convertValue(s,t)}),r}convertGeoPoint(e){return new $0(Ze(e.latitude),Ze(e.longitude))}convertArray(e,t){return(e.values||[]).map(r=>this.convertValue(r,t))}convertServerTimestamp(e,t){switch(t){case"previous":const r=q2(e);return null==r?null:this.convertValue(r,t);case"estimate":return this.convertTimestamp(td(e));default:return null}}convertTimestamp(e){const t=Ts(e);return new qe(t.seconds,t.nanos)}convertDocumentKey(e,t){const r=ve.fromString(e);te(GB(r));const i=new Ro(r.get(1),r.get(3)),s=new k(r.popFirst(5));return i.isEqual(t)||st(`Document ${s} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),s}}{constructor(e){super(),this.firestore=e}convertBytes(e){return new Wo(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new at(this.firestore,null,t)}}function Ece(n){return kd(Ee(n.firestore,He),[new Du(n._key,je.none())])}function Ice(n,e){const t=Ee(n.firestore,He),r=cj(n),i=function W0(n,e,t){let r;return r=n?t&&(t.merge||t.mergeFields)?n.toFirestore(e,t):n.toFirestore(e):e,r}(n.converter,e);return kd(t,[j0(ju(n.firestore),"addDoc",r._key,i,null!==n.converter,{}).toMutation(r._key,je.exists(!1))]).then(()=>r)}function kd(n,e){return function(t,r){const i=new Ut;return t.asyncQueue.enqueueAndForget(y(function*(){return function Tle(n,e,t){return c0.apply(this,arguments)}(yield function L0(n){return jg(n).then(e=>e.syncEngine)}(t),r,i)})),i.promise}(xt(n),e)}!function(n,e=!0){gu="9.10.0",bn(new un("firestore",(t,{instanceIdentifier:r,options:i})=>{const s=t.getProvider("app").getImmediate(),o=new He(new eae(t.getProvider("auth-internal")),new rae(t.getProvider("app-check-internal")),function(a,u){if(!Object.prototype.hasOwnProperty.apply(a.options,["projectId"]))throw new S(E.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Ro(a.options.projectId,u)}(s,r),s);return i=Object.assign({useFetchStreams:e},i),o._setSettings(i),o},"PUBLIC").setMultipleInstances(!0)),it(R2,"3.5.0",n),it(R2,"3.5.0","esm2017")}();var Cce={includeMetadataChanges:!1};function Q0(n,e){return void 0===e&&(e=Cce),new Ae(function(t){var r=function bce(n,...e){var t,r,i;n=Er(n);let s={includeMetadataChanges:!1},o=0;"object"!=typeof e[o]||B0(e[o])||(s=e[o],o++);const a={includeMetadataChanges:s.includeMetadataChanges};if(B0(e[o])){const d=e[o];e[o]=null===(t=d.next)||void 0===t?void 0:t.bind(d),e[o+1]=null===(r=d.error)||void 0===r?void 0:r.bind(d),e[o+2]=null===(i=d.complete)||void 0===i?void 0:i.bind(d)}let u,l,c;if(n instanceof at)l=Ee(n.firestore,He),c=Eu(n._key.path),u={next:d=>{e[o]&&e[o](function K0(n,e,t){const r=t.docs.get(e._key),i=new Yo(n);return new Hu(n,i,e._key,r,new Qo(t.hasPendingWrites,t.fromCache),e.converter)}(l,n,d))},error:e[o+1],complete:e[o+2]};else{const d=Ee(n,dn);l=Ee(d.firestore,He),c=d._query;const h=new Yo(l);u={next:f=>{e[o]&&e[o](new Gu(l,h,d,f))},error:e[o+1],complete:e[o+2]},function Tj(n){if("L"===n.limitType&&0===n.explicitOrderBy.length)throw new S(E.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}(n._query)}return function(d,h,f,p){const g=new $g(p),m=new s0(h,g,f);return d.asyncQueue.enqueueAndForget(y(function*(){return function XD(n,e){return e0.apply(this,arguments)}(yield Bu(d),m)})),()=>{g.Rc(),d.asyncQueue.enqueueAndForget(y(function*(){return function t0(n,e){return n0.apply(this,arguments)}(yield Bu(d),m)}))}}(xt(l),c,a,u)}(n,e,{next:t.next.bind(t),error:t.error.bind(t),complete:t.complete.bind(t)});return{unsubscribe:r}})}function Sce(n,e){return void 0===e&&(e={}),function Dce(n){return Q0(n,{includeMetadataChanges:!0})}(n).pipe(Z(function(t){return Rj(t,e)}))}function Rj(n,e){void 0===e&&(e={});var t=n.data();return!n.exists()||"object"!=typeof t||null===t||e.idField&&(t[e.idField]=n.id),t}function Rce(n,e){return void 0===e&&(e={}),function kce(n){return Q0(n,{includeMetadataChanges:!0}).pipe(Z(function(e){return e.docs}))}(n).pipe(Z(function(t){return t.map(function(r){return Rj(r,e)})}))}class Jg{constructor(e){return e}}const Lj="firestore",Z0=new $("angularfire2.firestore-instances");function Fce(n){return(e,t)=>{const r=e.runOutsideAngular(()=>n(t));return new Jg(r)}}const Lce={provide:class Pce{constructor(){return QI(Lj)}},deps:[[new yn,Z0]]},Vce={provide:Jg,useFactory:function Oce(n,e){const t=function KI(n,e,t){if(e){if(1===e.length)return e[0];const s=e.filter(o=>o.app===t);if(1===s.length)return s[0]}return t.container.getProvider(n).getImmediate({optional:!0})}(Lj,n,e);return t&&new Jg(t)},deps:[[new yn,Z0],uu]};let Uce=(()=>{class n{constructor(){it("angularfire",BI.full,"fst")}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=Nt({type:n}),n.\u0275inj=vt({providers:[Vce,Lce]}),n})();function Bce(n,...e){return{ngModule:Uce,providers:[{provide:Z0,useFactory:Fce(n),multi:!0,deps:[Pe,Rt,WL,KL,[new yn,KV],[new yn,yU],...e]}]}}const $ce=ms(Rce,!0),jce=ms(Sce,!0),Hce=ms(Ice,!0),Vj=ms(nce,!0),Gce=ms(Ece,!0),Uj=ms(cj,!0),qce=ms(oce,!0);let X0=(()=>{class n{constructor(t){this.firestore=t}agregarReserva(t){const r=Vj(this.firestore,"teatroIntimo");return Hce(r,t)}obtenerReservas(){const t=Vj(this.firestore,"teatroIntimo");return $ce(t,{idField:"id"})}borrarReserva(t){const r=Uj(this.firestore,`teatroIntimo/${t.id}`);return Gce(r)}obtenerReserva(t){const r=Uj(this.firestore,`teatroIntimo/${t}`);return jce(r,{idField:"id"})}}return n.\u0275fac=function(t){return new(t||n)(M(Jg))},n.\u0275prov=U({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),Zg=(()=>{class n{constructor(){this.cargando$=new Xe}cargando(){this.cargando$.next(!0)}cargo(){this.cargando$.next(!1)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=U({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();class Bj{}class $j{}class Ki{constructor(e){this.normalizedNames=new Map,this.lazyUpdate=null,e?this.lazyInit="string"==typeof e?()=>{this.headers=new Map,e.split("\n").forEach(t=>{const r=t.indexOf(":");if(r>0){const i=t.slice(0,r),s=i.toLowerCase(),o=t.slice(r+1).trim();this.maybeSetNormalizedName(i,s),this.headers.has(s)?this.headers.get(s).push(o):this.headers.set(s,[o])}})}:()=>{this.headers=new Map,Object.keys(e).forEach(t=>{let r=e[t];const i=t.toLowerCase();"string"==typeof r&&(r=[r]),r.length>0&&(this.headers.set(i,r),this.maybeSetNormalizedName(t,i))})}:this.headers=new Map}has(e){return this.init(),this.headers.has(e.toLowerCase())}get(e){this.init();const t=this.headers.get(e.toLowerCase());return t&&t.length>0?t[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(e){return this.init(),this.headers.get(e.toLowerCase())||null}append(e,t){return this.clone({name:e,value:t,op:"a"})}set(e,t){return this.clone({name:e,value:t,op:"s"})}delete(e,t){return this.clone({name:e,value:t,op:"d"})}maybeSetNormalizedName(e,t){this.normalizedNames.has(t)||this.normalizedNames.set(t,e)}init(){this.lazyInit&&(this.lazyInit instanceof Ki?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(e=>this.applyUpdate(e)),this.lazyUpdate=null))}copyFrom(e){e.init(),Array.from(e.headers.keys()).forEach(t=>{this.headers.set(t,e.headers.get(t)),this.normalizedNames.set(t,e.normalizedNames.get(t))})}clone(e){const t=new Ki;return t.lazyInit=this.lazyInit&&this.lazyInit instanceof Ki?this.lazyInit:this,t.lazyUpdate=(this.lazyUpdate||[]).concat([e]),t}applyUpdate(e){const t=e.name.toLowerCase();switch(e.op){case"a":case"s":let r=e.value;if("string"==typeof r&&(r=[r]),0===r.length)return;this.maybeSetNormalizedName(e.name,t);const i=("a"===e.op?this.headers.get(t):void 0)||[];i.push(...r),this.headers.set(t,i);break;case"d":const s=e.value;if(s){let o=this.headers.get(t);if(!o)return;o=o.filter(a=>-1===s.indexOf(a)),0===o.length?(this.headers.delete(t),this.normalizedNames.delete(t)):this.headers.set(t,o)}else this.headers.delete(t),this.normalizedNames.delete(t)}}forEach(e){this.init(),Array.from(this.normalizedNames.keys()).forEach(t=>e(this.normalizedNames.get(t),this.headers.get(t)))}}class zce{encodeKey(e){return jj(e)}encodeValue(e){return jj(e)}decodeKey(e){return decodeURIComponent(e)}decodeValue(e){return decodeURIComponent(e)}}const Kce=/%(\d[a-f0-9])/gi,Qce={40:"@","3A":":",24:"$","2C":",","3B":";","3D":"=","3F":"?","2F":"/"};function jj(n){return encodeURIComponent(n).replace(Kce,(e,t)=>Qce[t]??e)}function Xg(n){return`${n}`}class Ps{constructor(e={}){if(this.updates=null,this.cloneFrom=null,this.encoder=e.encoder||new zce,e.fromString){if(e.fromObject)throw new Error("Cannot specify both fromString and fromObject.");this.map=function Wce(n,e){const t=new Map;return n.length>0&&n.replace(/^\?/,"").split("&").forEach(i=>{const s=i.indexOf("="),[o,a]=-1==s?[e.decodeKey(i),""]:[e.decodeKey(i.slice(0,s)),e.decodeValue(i.slice(s+1))],u=t.get(o)||[];u.push(a),t.set(o,u)}),t}(e.fromString,this.encoder)}else e.fromObject?(this.map=new Map,Object.keys(e.fromObject).forEach(t=>{const r=e.fromObject[t],i=Array.isArray(r)?r.map(Xg):[Xg(r)];this.map.set(t,i)})):this.map=null}has(e){return this.init(),this.map.has(e)}get(e){this.init();const t=this.map.get(e);return t?t[0]:null}getAll(e){return this.init(),this.map.get(e)||null}keys(){return this.init(),Array.from(this.map.keys())}append(e,t){return this.clone({param:e,value:t,op:"a"})}appendAll(e){const t=[];return Object.keys(e).forEach(r=>{const i=e[r];Array.isArray(i)?i.forEach(s=>{t.push({param:r,value:s,op:"a"})}):t.push({param:r,value:i,op:"a"})}),this.clone(t)}set(e,t){return this.clone({param:e,value:t,op:"s"})}delete(e,t){return this.clone({param:e,value:t,op:"d"})}toString(){return this.init(),this.keys().map(e=>{const t=this.encoder.encodeKey(e);return this.map.get(e).map(r=>t+"="+this.encoder.encodeValue(r)).join("&")}).filter(e=>""!==e).join("&")}clone(e){const t=new Ps({encoder:this.encoder});return t.cloneFrom=this.cloneFrom||this,t.updates=(this.updates||[]).concat(e),t}init(){null===this.map&&(this.map=new Map),null!==this.cloneFrom&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(e=>this.map.set(e,this.cloneFrom.map.get(e))),this.updates.forEach(e=>{switch(e.op){case"a":case"s":const t=("a"===e.op?this.map.get(e.param):void 0)||[];t.push(Xg(e.value)),this.map.set(e.param,t);break;case"d":if(void 0===e.value){this.map.delete(e.param);break}{let r=this.map.get(e.param)||[];const i=r.indexOf(Xg(e.value));-1!==i&&r.splice(i,1),r.length>0?this.map.set(e.param,r):this.map.delete(e.param)}}}),this.cloneFrom=this.updates=null)}}class Yce{constructor(){this.map=new Map}set(e,t){return this.map.set(e,t),this}get(e){return this.map.has(e)||this.map.set(e,e.defaultValue()),this.map.get(e)}delete(e){return this.map.delete(e),this}has(e){return this.map.has(e)}keys(){return this.map.keys()}}function Hj(n){return typeof ArrayBuffer<"u"&&n instanceof ArrayBuffer}function Gj(n){return typeof Blob<"u"&&n instanceof Blob}function qj(n){return typeof FormData<"u"&&n instanceof FormData}class Rd{constructor(e,t,r,i){let s;if(this.url=t,this.body=null,this.reportProgress=!1,this.withCredentials=!1,this.responseType="json",this.method=e.toUpperCase(),function Jce(n){switch(n){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}(this.method)||i?(this.body=void 0!==r?r:null,s=i):s=r,s&&(this.reportProgress=!!s.reportProgress,this.withCredentials=!!s.withCredentials,s.responseType&&(this.responseType=s.responseType),s.headers&&(this.headers=s.headers),s.context&&(this.context=s.context),s.params&&(this.params=s.params)),this.headers||(this.headers=new Ki),this.context||(this.context=new Yce),this.params){const o=this.params.toString();if(0===o.length)this.urlWithParams=t;else{const a=t.indexOf("?");this.urlWithParams=t+(-1===a?"?":a<t.length-1?"&":"")+o}}else this.params=new Ps,this.urlWithParams=t}serializeBody(){return null===this.body?null:Hj(this.body)||Gj(this.body)||qj(this.body)||function Zce(n){return typeof URLSearchParams<"u"&&n instanceof URLSearchParams}(this.body)||"string"==typeof this.body?this.body:this.body instanceof Ps?this.body.toString():"object"==typeof this.body||"boolean"==typeof this.body||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return null===this.body||qj(this.body)?null:Gj(this.body)?this.body.type||null:Hj(this.body)?null:"string"==typeof this.body?"text/plain":this.body instanceof Ps?"application/x-www-form-urlencoded;charset=UTF-8":"object"==typeof this.body||"number"==typeof this.body||"boolean"==typeof this.body?"application/json":null}clone(e={}){const t=e.method||this.method,r=e.url||this.url,i=e.responseType||this.responseType,s=void 0!==e.body?e.body:this.body,o=void 0!==e.withCredentials?e.withCredentials:this.withCredentials,a=void 0!==e.reportProgress?e.reportProgress:this.reportProgress;let u=e.headers||this.headers,l=e.params||this.params;const c=e.context??this.context;return void 0!==e.setHeaders&&(u=Object.keys(e.setHeaders).reduce((d,h)=>d.set(h,e.setHeaders[h]),u)),e.setParams&&(l=Object.keys(e.setParams).reduce((d,h)=>d.set(h,e.setParams[h]),l)),new Rd(t,r,s,{params:l,headers:u,context:c,reportProgress:a,responseType:i,withCredentials:o})}}var yt=(()=>((yt=yt||{})[yt.Sent=0]="Sent",yt[yt.UploadProgress=1]="UploadProgress",yt[yt.ResponseHeader=2]="ResponseHeader",yt[yt.DownloadProgress=3]="DownloadProgress",yt[yt.Response=4]="Response",yt[yt.User=5]="User",yt))();class eS{constructor(e,t=200,r="OK"){this.headers=e.headers||new Ki,this.status=void 0!==e.status?e.status:t,this.statusText=e.statusText||r,this.url=e.url||null,this.ok=this.status>=200&&this.status<300}}class tS extends eS{constructor(e={}){super(e),this.type=yt.ResponseHeader}clone(e={}){return new tS({headers:e.headers||this.headers,status:void 0!==e.status?e.status:this.status,statusText:e.statusText||this.statusText,url:e.url||this.url||void 0})}}class em extends eS{constructor(e={}){super(e),this.type=yt.Response,this.body=void 0!==e.body?e.body:null}clone(e={}){return new em({body:void 0!==e.body?e.body:this.body,headers:e.headers||this.headers,status:void 0!==e.status?e.status:this.status,statusText:e.statusText||this.statusText,url:e.url||this.url||void 0})}}class zj extends eS{constructor(e){super(e,0,"Unknown Error"),this.name="HttpErrorResponse",this.ok=!1,this.message=this.status>=200&&this.status<300?`Http failure during parsing for ${e.url||"(unknown url)"}`:`Http failure response for ${e.url||"(unknown url)"}: ${e.status} ${e.statusText}`,this.error=e.error||null}}function nS(n,e){return{body:e,headers:n.headers,context:n.context,observe:n.observe,params:n.params,reportProgress:n.reportProgress,responseType:n.responseType,withCredentials:n.withCredentials}}let Wj=(()=>{class n{constructor(t){this.handler=t}request(t,r,i={}){let s;if(t instanceof Rd)s=t;else{let u,l;u=i.headers instanceof Ki?i.headers:new Ki(i.headers),i.params&&(l=i.params instanceof Ps?i.params:new Ps({fromObject:i.params})),s=new Rd(t,r,void 0!==i.body?i.body:null,{headers:u,context:i.context,params:l,reportProgress:i.reportProgress,responseType:i.responseType||"json",withCredentials:i.withCredentials})}const o=G(s).pipe(as(u=>this.handler.handle(u)));if(t instanceof Rd||"events"===i.observe)return o;const a=o.pipe(En(u=>u instanceof em));switch(i.observe||"body"){case"body":switch(s.responseType){case"arraybuffer":return a.pipe(Z(u=>{if(null!==u.body&&!(u.body instanceof ArrayBuffer))throw new Error("Response is not an ArrayBuffer.");return u.body}));case"blob":return a.pipe(Z(u=>{if(null!==u.body&&!(u.body instanceof Blob))throw new Error("Response is not a Blob.");return u.body}));case"text":return a.pipe(Z(u=>{if(null!==u.body&&"string"!=typeof u.body)throw new Error("Response is not a string.");return u.body}));default:return a.pipe(Z(u=>u.body))}case"response":return a;default:throw new Error(`Unreachable: unhandled observe type ${i.observe}}`)}}delete(t,r={}){return this.request("DELETE",t,r)}get(t,r={}){return this.request("GET",t,r)}head(t,r={}){return this.request("HEAD",t,r)}jsonp(t,r){return this.request("JSONP",t,{params:(new Ps).append(r,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(t,r={}){return this.request("OPTIONS",t,r)}patch(t,r,i={}){return this.request("PATCH",t,nS(i,r))}post(t,r,i={}){return this.request("POST",t,nS(i,r))}put(t,r,i={}){return this.request("PUT",t,nS(i,r))}}return n.\u0275fac=function(t){return new(t||n)(M(Bj))},n.\u0275prov=U({token:n,factory:n.\u0275fac}),n})();class Kj{constructor(e,t){this.next=e,this.interceptor=t}handle(e){return this.interceptor.intercept(e,this.next)}}const rS=new $("HTTP_INTERCEPTORS");let Xce=(()=>{class n{intercept(t,r){return r.handle(t)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=U({token:n,factory:n.\u0275fac}),n})();const ede=/^\)\]\}',?\n/;let Qj=(()=>{class n{constructor(t){this.xhrFactory=t}handle(t){if("JSONP"===t.method)throw new Error("Attempted to construct Jsonp request without HttpClientJsonpModule installed.");return new Ae(r=>{const i=this.xhrFactory.build();if(i.open(t.method,t.urlWithParams),t.withCredentials&&(i.withCredentials=!0),t.headers.forEach((f,p)=>i.setRequestHeader(f,p.join(","))),t.headers.has("Accept")||i.setRequestHeader("Accept","application/json, text/plain, */*"),!t.headers.has("Content-Type")){const f=t.detectContentTypeHeader();null!==f&&i.setRequestHeader("Content-Type",f)}if(t.responseType){const f=t.responseType.toLowerCase();i.responseType="json"!==f?f:"text"}const s=t.serializeBody();let o=null;const a=()=>{if(null!==o)return o;const f=i.statusText||"OK",p=new Ki(i.getAllResponseHeaders()),g=function tde(n){return"responseURL"in n&&n.responseURL?n.responseURL:/^X-Request-URL:/m.test(n.getAllResponseHeaders())?n.getResponseHeader("X-Request-URL"):null}(i)||t.url;return o=new tS({headers:p,status:i.status,statusText:f,url:g}),o},u=()=>{let{headers:f,status:p,statusText:g,url:m}=a(),_=null;204!==p&&(_=typeof i.response>"u"?i.responseText:i.response),0===p&&(p=_?200:0);let I=p>=200&&p<300;if("json"===t.responseType&&"string"==typeof _){const v=_;_=_.replace(ede,"");try{_=""!==_?JSON.parse(_):null}catch(C){_=v,I&&(I=!1,_={error:C,text:_})}}I?(r.next(new em({body:_,headers:f,status:p,statusText:g,url:m||void 0})),r.complete()):r.error(new zj({error:_,headers:f,status:p,statusText:g,url:m||void 0}))},l=f=>{const{url:p}=a(),g=new zj({error:f,status:i.status||0,statusText:i.statusText||"Unknown Error",url:p||void 0});r.error(g)};let c=!1;const d=f=>{c||(r.next(a()),c=!0);let p={type:yt.DownloadProgress,loaded:f.loaded};f.lengthComputable&&(p.total=f.total),"text"===t.responseType&&!!i.responseText&&(p.partialText=i.responseText),r.next(p)},h=f=>{let p={type:yt.UploadProgress,loaded:f.loaded};f.lengthComputable&&(p.total=f.total),r.next(p)};return i.addEventListener("load",u),i.addEventListener("error",l),i.addEventListener("timeout",l),i.addEventListener("abort",l),t.reportProgress&&(i.addEventListener("progress",d),null!==s&&i.upload&&i.upload.addEventListener("progress",h)),i.send(s),r.next({type:yt.Sent}),()=>{i.removeEventListener("error",l),i.removeEventListener("abort",l),i.removeEventListener("load",u),i.removeEventListener("timeout",l),t.reportProgress&&(i.removeEventListener("progress",d),null!==s&&i.upload&&i.upload.removeEventListener("progress",h)),i.readyState!==i.DONE&&i.abort()}})}}return n.\u0275fac=function(t){return new(t||n)(M(m1))},n.\u0275prov=U({token:n,factory:n.\u0275fac}),n})();const iS=new $("XSRF_COOKIE_NAME"),sS=new $("XSRF_HEADER_NAME");class Yj{}let nde=(()=>{class n{constructor(t,r,i){this.doc=t,this.platform=r,this.cookieName=i,this.lastCookieString="",this.lastToken=null,this.parseCount=0}getToken(){if("server"===this.platform)return null;const t=this.doc.cookie||"";return t!==this.lastCookieString&&(this.parseCount++,this.lastToken=i1(t,this.cookieName),this.lastCookieString=t),this.lastToken}}return n.\u0275fac=function(t){return new(t||n)(M(nt),M(to),M(iS))},n.\u0275prov=U({token:n,factory:n.\u0275fac}),n})(),oS=(()=>{class n{constructor(t,r){this.tokenService=t,this.headerName=r}intercept(t,r){const i=t.url.toLowerCase();if("GET"===t.method||"HEAD"===t.method||i.startsWith("http://")||i.startsWith("https://"))return r.handle(t);const s=this.tokenService.getToken();return null!==s&&!t.headers.has(this.headerName)&&(t=t.clone({headers:t.headers.set(this.headerName,s)})),r.handle(t)}}return n.\u0275fac=function(t){return new(t||n)(M(Yj),M(sS))},n.\u0275prov=U({token:n,factory:n.\u0275fac}),n})(),rde=(()=>{class n{constructor(t,r){this.backend=t,this.injector=r,this.chain=null}handle(t){if(null===this.chain){const r=this.injector.get(rS,[]);this.chain=r.reduceRight((i,s)=>new Kj(i,s),this.backend)}return this.chain.handle(t)}}return n.\u0275fac=function(t){return new(t||n)(M($j),M(Rt))},n.\u0275prov=U({token:n,factory:n.\u0275fac}),n})(),ide=(()=>{class n{static disable(){return{ngModule:n,providers:[{provide:oS,useClass:Xce}]}}static withOptions(t={}){return{ngModule:n,providers:[t.cookieName?{provide:iS,useValue:t.cookieName}:[],t.headerName?{provide:sS,useValue:t.headerName}:[]]}}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=Nt({type:n}),n.\u0275inj=vt({providers:[oS,{provide:rS,useExisting:oS,multi:!0},{provide:Yj,useClass:nde},{provide:iS,useValue:"XSRF-TOKEN"},{provide:sS,useValue:"X-XSRF-TOKEN"}]}),n})(),sde=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=Nt({type:n}),n.\u0275inj=vt({providers:[Wj,{provide:Bj,useClass:rde},Qj,{provide:$j,useExisting:Qj}],imports:[ide.withOptions({cookieName:"XSRF-TOKEN",headerName:"X-XSRF-TOKEN"})]}),n})();function ode(n,e){1&n&&(V(0,"div",1)(1,"div",2)(2,"div",3),It(3,"div")(4,"div")(5,"div")(6,"div")(7,"div"),j()()())}let aS=(()=>{class n{constructor(t){this.cargaserv=t,this.carga$=this.cargaserv.cargando$}ngOnInit(){}}return n.\u0275fac=function(t){return new(t||n)(b(Zg))},n.\u0275cmp=qn({type:n,selectors:[["app-cargando"]],decls:2,vars:3,consts:[["class","overlay",4,"ngIf"],[1,"overlay"],[1,"container","carga"],[1,"spinner"]],template:function(t,r){1&t&&(Gt(0,ode,8,0,"div",0),function Uk(n,e){const t=ye();let r;const i=n+22;t.firstCreatePass?(r=function v8(n,e){if(e)for(let t=e.length-1;t>=0;t--){const r=e[t];if(n===r.name)return r}}(e,t.pipeRegistry),t.data[i]=r,r.onDestroy&&(t.destroyHooks||(t.destroyHooks=[])).push(i,r.onDestroy)):r=t.data[i];const s=r.factory||(r.factory=Ws(r.type)),o=hr(b);try{const a=uh(!1),u=s();return uh(a),function l4(n,e,t,r){t>=n.data.length&&(n.data[t]=null,n.blueprint[t]=null),e[t]=r}(t,D(),i,u),u}finally{hr(o)}}(1,"async")),2&t&&Ke("ngIf",Bk(1,1,r.carga$))},dependencies:[ql,d1],styles:[".overlay[_ngcontent-%COMP%]{position:fixed;width:100%;height:100%;background-color:#ffffffda;z-index:10;display:flex;flex-direction:column;align-items:center;justify-content:center}p[_ngcontent-%COMP%]{margin-top:10px}.container[_ngcontent-%COMP%]{display:flex;flex-direction:column;justify-content:center;align-items:center;text-align:center;background-color:#fffb}"]}),n})();function ade(n,e){1&n&&(V(0,"div",16)(1,"p"),z(2,"Falta ingresar un nombre"),j()())}function ude(n,e){1&n&&(V(0,"div",16)(1,"p"),z(2,"El email no es valido"),j()())}let lde=(()=>{class n{constructor(t,r,i,s,o,a){this.FormBuilder=t,this.toastr=r,this.reservar=i,this.ruta=s,this.cargando=o,this.http=a,this.title="TEATRO \xcdNTIMO",this.descripcion="Tres escenas comprometidas para un p\xfablico reducido, donde lxs espectadores rodean el escenario para ser testigos directos y poder sentirse a solas con les personajes, viviendo el teatro a flor de piel.",this.fecha=" 22 de Octubre a las 21 hs.",this.serveMail="https://mailreservas.herokuapp.com/envio"}ngOnInit(){this.formReserva=this.FormBuilder.group({nombre:["",bw.required],email:["",[bw.required,bw.email]],cantidad:["1"],fechaCreacion:new Date})}enviar(){this.cargando.cargando(),this.reservar.agregarReserva(this.formReserva.value).then(t=>{this.toastr.success("","Reserva Realizada"),this.http.post("https://mailreserva-production.up.railway.app/envio",{email:this.formReserva.value.email,asunto:"Hola "+this.formReserva.value.nombre+'! "Tu Reserva ha sido realiza Correctamente"',html:`\n              <div> \n              <h1>Hola \u{1f44b} ${this.formReserva.value.nombre}!</h1>\n              <h2>Tu reserva ha sido realizada correctamente</h2><hr>\n              <h4>ID de reserva: ${t.id}</h4>\n              <h4>Nombre: ${this.formReserva.value.nombre}</h4>\n              <h4>Email: ${this.formReserva.value.email}</h4>\n              <h4>Cantidad: ${this.formReserva.value.cantidad}</h4><br>\n              <p>En caso de no poder ir puedes cancelar tu reserva haciendo click en este enlace </p>\n              <a href="https://laterraza.netlify.com/teatrointimo/end/${t.id}">https://laterraza.netlify.com/teatrointimo/end/${t.id}</a>\n              <hr>\n              <p>Te esperamos el d\xeda ${this.fecha}</p>\n              <p><b>En el Centro cultural La Terraza</b></p>\n              <p>(Av. Aviaci\xf3n 690 1er piso - Longchamps)</p>\n              </div>`}).subscribe(i=>{}),console.log("esta es la data de id: "+t.id),this.ruta.navigate(["teatrointimo/end/"+t.id]),this.cargando.cargo()}).catch(t=>{this.toastr.error("","Reserva No Realizada"),console.log(t)})}}return n.\u0275fac=function(t){return new(t||n)(b(tZ),b(ip),b(X0),b(Dt),b(Zg),b(Wj))},n.\u0275cmp=qn({type:n,selectors:[["app-teatro-intimo-reserva"]],decls:36,vars:7,consts:[[1,"container","text-center","rounded","fadeInDown"],["role","alert",1,"alert","alert-warning"],[1,"h5"],[1,"imagen"],["src","./assets/logo.png","alt","Logo de la Terraza",1,"fadeIn","first"],[1,"caja"],["class","alert alert-danger",4,"ngIf"],[1,"form","fadeIn","first",3,"formGroup","ngSubmit"],["type","text","formControlName","nombre","placeholder","Nombre",1,"form-control"],["type","text","formControlName","email","placeholder","Ingrese su Email",1,"form-control"],["formControlName","cantidad","aria-label","Default select example",1,"form-select"],["selected",""],["value","2"],["value","3"],["value","4"],["type","submit",1,"btn","btn-primary","border","border-primary","border-2","fadeIn","first",3,"disabled"],[1,"alert","alert-danger"]],template:function(t,r){if(1&t&&(It(0,"app-cargando"),V(1,"div",0)(2,"div",1)(3,"p",2),z(4,"Este evento tiene localidades limitadas"),j()(),V(5,"div",3),It(6,"img",4),j(),V(7,"div",5)(8,"h1"),z(9),j(),V(10,"p"),z(11,"2da. Edici\xf3n"),j(),V(12,"p"),z(13),j(),V(14,"p"),z(15),j()(),Gt(16,ade,3,0,"div",6),Gt(17,ude,3,0,"div",6),V(18,"p",2),z(19,"Reserva tu entrada"),j(),V(20,"form",7),bt("ngSubmit",function(){return r.enviar()}),It(21,"input",8)(22,"input",9),V(23,"Label"),z(24,"\xbfCuanto lugares deseas reservar?"),j(),V(25,"select",10)(26,"option",11),z(27,"1"),j(),V(28,"option",12),z(29,"2"),j(),V(30,"option",13),z(31,"3"),j(),V(32,"option",14),z(33,"4"),j()(),V(34,"button",15),z(35,"Reservar"),j()()()),2&t){let i,s;he(9),tr(r.title),he(4),tr(r.descripcion),he(2),tr(r.fecha),he(1),Ke("ngIf",(null==(i=r.formReserva.get("nombre"))?null:i.touched)&&(null==(i=r.formReserva.get("nombre"))||null==i.errors?null:i.errors.required)),he(1),Ke("ngIf",(null==(s=r.formReserva.get("email"))?null:s.touched)&&(null==(s=r.formReserva.get("email"))||null==s.errors?null:s.errors.required)&&(null==(s=r.formReserva.get("email"))?null:s.errors)),he(3),Ke("formGroup",r.formReserva),he(14),Ke("disabled",r.formReserva.invalid)}},dependencies:[ql,XO,aF,lF,Gf,np,OO,FO,tp,Uw,aS],styles:[".container[_ngcontent-%COMP%]{display:flex;flex-direction:column;justify-content:center;align-items:center;text-align:center;margin-top:.5em;background-color:#fffb}.imagen[_ngcontent-%COMP%]{width:250px;height:auto}@media (max-width: 320px){.container[_ngcontent-%COMP%]{padding:.25em}img[_ngcontent-%COMP%]{width:200px}}"]}),n})(),cde=(()=>{class n{constructor(){this.descripcion="Tres escenas comprometidas para un p\xfablico reducido, donde lxs espectadores rodean el escenario para ser testigos directos y poder sentirse a solas con les personajes, viviendo el teatro a flor de piel."}ngOnInit(){}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=qn({type:n,selectors:[["app-home"]],decls:10,vars:1,consts:[[1,"container"],[1,"wrapper","fadeInDown"],[1,"fadeIn","first"],["src","./assets/logo.png","id","icon"],[1,"text-center"]],template:function(t,r){1&t&&(It(0,"app-cargando"),V(1,"div",0)(2,"div",1)(3,"div")(4,"div",2),It(5,"img",3),j(),V(6,"h1",4),z(7,"TEATRO \xcdNTIMO"),j(),V(8,"p"),z(9),j()()()()),2&t&&(he(9),tr(r.descripcion))},dependencies:[aS],styles:[".wrapper[_ngcontent-%COMP%]{display:flex;align-items:center;flex-direction:column;justify-content:center;width:100%;min-height:100%;padding:20px}*[_ngcontent-%COMP%]:focus{outline:none}.container[_ngcontent-%COMP%]{display:flex;flex-direction:column;justify-content:center;align-items:center;text-align:center;margin-top:.5em;background-color:#fffb}"]}),n})(),dde=(()=>{class n{constructor(){}ngOnInit(){}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=qn({type:n,selectors:[["app-page404"]],decls:10,vars:0,consts:[[1,"error404"],[1,"bg-body","rounded"],[1,"display-4"],["href","/",1,"link-warning"]],template:function(t,r){1&t&&(V(0,"div",0)(1,"div",1)(2,"h1",2),z(3,"Oops!"),j(),V(4,"h1"),z(5,"ERROR 404"),j(),V(6,"h2"),z(7,"LA PAGINA NO EXISTE"),j(),V(8,"a",3),z(9,"Ir al inicio"),j()()())},styles:[".error404[_ngcontent-%COMP%]{height:100vh;display:flex;flex-direction:column;justify-content:center;align-items:center;text-align:center;font-family:Special Elite,cursive}.bg-body[_ngcontent-%COMP%]{padding:1em}"]}),n})(),hde=(()=>{class n{constructor(){}ngOnInit(){}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=qn({type:n,selectors:[["app-spippet"]],decls:6,vars:0,consts:[[1,"container"],[1,"d-flex","justify-content-center"],[1,"image_outer_container"],[1,"green_icon"],[1,"image_inner_container"],["src","./assets/icons/icon-512x512.png"]],template:function(t,r){1&t&&(V(0,"div",0)(1,"div",1)(2,"div",2),It(3,"div",3),V(4,"div",4),It(5,"img",5),j()()()())},styles:[".container[_ngcontent-%COMP%]{height:100%;align-content:center}.image_outer_container[_ngcontent-%COMP%]{margin-top:auto;margin-bottom:auto;border-radius:50%;position:relative}.image_inner_container[_ngcontent-%COMP%]{border-radius:50%;padding:5px;background:#833ab4;background:linear-gradient(to bottom,#fcb045,#fd1d1d,#833ab4)}.image_inner_container[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{height:50px;width:50px;border-radius:50%;border:5px solid white}.image_outer_container[_ngcontent-%COMP%]   .green_icon[_ngcontent-%COMP%]{background-color:#4cd137;position:absolute;right:7.5px;bottom:2.5px;height:10.5px;width:10.5px;border:2px solid white;border-radius:50%}"]}),n})(),fde=(()=>{class n{constructor(t,r,i,s,o){this.aRoute=t,this.cargando=r,this.toastr=i,this.serv=s,this.ruta=o,this.title="TEATRO \xcdNTIMO",this.descripcion="Tres escenas comprometidas para un p\xfablico reducido, donde lxs espectadores rodean el escenario para ser testigos directos y poder sentirse a solas con les personajes, viviendo el teatro a flor de piel.",this.fecha="S\xe1bado 22 de Octubre",this.hora="21 hs",this.direccion="Av. Aviaci\xf3n 690, 1er Piso (Longchamps).",this.reserva=[],this.cargando.cargando()}ngOnInit(){this.id=this.aRoute.snapshot.paramMap.get("id"),console.log("este es el ID:",this.id),this.serv.obtenerReserva(this.id).subscribe(t=>{this.reserva=t,this.cargando.cargo()})}borrarReserva(t){var r=this;return y(function*(){r.cargando.cargando(),yield r.serv.borrarReserva(t),r.ruta.navigate(["teatrointimo"]),r.toastr.info("","Reserva Cancelada"),r.cargando.cargo()})()}}return n.\u0275fac=function(t){return new(t||n)(b(cs),b(Zg),b(ip),b(X0),b(Dt))},n.\u0275cmp=qn({type:n,selectors:[["app-info"]],decls:27,vars:7,consts:[[1,"container","text-center","rounded","shadow-lg","fadeIn","first"],["src","./assets/logo.png",1,"fadeIn","first"],[1,"res","bg-body","p-3","rounded","fadeIn","first","border","border-warning"],[1,"respueta","text-start"],[1,"btn","btn-danger",3,"click"]],template:function(t,r){1&t&&(V(0,"div",0),It(1,"img",1),V(2,"h2"),z(3,"TU RESERVA HA SIDO REALIZADA"),j(),V(4,"div",2)(5,"h2"),z(6,"Tu Reserva"),j(),V(7,"div",3)(8,"p"),z(9),j(),V(10,"h5"),z(11),j(),V(12,"h5"),z(13),j(),V(14,"h5"),z(15),j()(),V(16,"a",4),bt("click",function(){return r.borrarReserva(r.reserva)}),z(17,"Cancerlar Reserva"),j()(),V(18,"p"),z(19,"Te esperamos"),j(),V(20,"p"),z(21),j(),V(22,"p"),z(23,"en el Centro Cultural La Terraza"),j(),V(24,"p"),z(25),j()(),It(26,"app-cargando")),2&t&&(he(9),nr("ID: ",r.id,""),he(2),nr("Nombre: ",r.reserva.nombre,""),he(2),nr("Email: ",r.reserva.email,""),he(2),nr("Reserva para: ",r.reserva.cantidad,""),he(6),N_("El ",r.fecha," a las ",r.hora,""),he(4),tr(r.direccion))},dependencies:[aS],styles:[".container[_ngcontent-%COMP%]{display:block;margin:.5em auto;justify-content:center;align-items:center;text-align:center;background-color:#fffb;padding-top:1em;padding-bottom:1em}img[_ngcontent-%COMP%]{margin-bottom:1em}.respuesta[_ngcontent-%COMP%]{margin-top:1em;margin-bottom:1em}.res[_ngcontent-%COMP%]{padding:1em;margin-top:1em;margin-bottom:1.5em}p[_ngcontent-%COMP%], h2[_ngcontent-%COMP%]{font-family:Special Elite,cursive}"]}),n})();function pde(n,e){if(1&n&&(V(0,"tr",8)(1,"th",6),z(2),j(),V(3,"th",6),z(4),j(),V(5,"th",7),z(6),j()()),2&n){const t=e.$implicit;he(2),tr(t.nombre),he(2),tr(t.email),he(2),tr(t.cantidad)}}const gde=[{path:"teatrointimo",component:lde},{path:"teatrointimo/end/:id",component:fde},{path:"teatrointimo/admin/reservas/2daEdicion",component:(()=>{class n{constructor(t){this.Serv=t,this.ticket="https://img.freepik.com/premium-vector/two-tickets-icon-illustration-ticket-entrance-event_385450-19.jpg?w=740",this.titulo="Teatro \xcdntimo",this.fecha="S\xe1bado 22 de Octubre - 21 hs.",this.reservasList=[]}ngOnInit(){this.Serv.obtenerReservas().subscribe(t=>{this.reservasList=t;const r=this.reservasList.map(i=>i.cantidad).reduce((i,s)=>i+s,0);this.reservastotal=r,console.log(r)})}}return n.\u0275fac=function(t){return new(t||n)(b(X0))},n.\u0275cmp=qn({type:n,selectors:[["app-admin-res"]],decls:26,vars:4,consts:[[1,"container","bg-body","wrapper","fadeInDown"],[1,"display-2"],[1,"table","table-responsive","fadeIn","first"],["scope","col"],["class","fadeIn first",4,"ngFor","ngForOf"],[1,"bg-dark","text-light"],[1,"text-start"],[1,"text-center"],[1,"fadeIn","first"]],template:function(t,r){1&t&&(V(0,"div",0)(1,"h2"),z(2,"RESERVAS"),j(),V(3,"h1",1),z(4),j(),V(5,"p"),z(6,"2da. Edici\xf3n"),j(),V(7,"p"),z(8),j(),V(9,"table",2)(10,"thead")(11,"tr")(12,"th",3),z(13,"Nombre"),j(),V(14,"th",3),z(15,"Email"),j(),V(16,"th",3),z(17,"Cantidad"),j()()(),V(18,"tbody"),Gt(19,pde,7,3,"tr",4),j(),V(20,"tr",5),It(21,"th"),V(22,"th",6),z(23,"Cantidad de Reservas:"),j(),V(24,"th",7),z(25),j()()()()),2&t&&(he(4),tr(r.titulo),he(4),tr(r.fecha),he(11),Ke("ngForOf",r.reservasList),he(6),tr(r.reservastotal))},dependencies:[a1],styles:[".container[_ngcontent-%COMP%]{text-align:start;list-style:none;gap:1em;display:flex;align-items:center;flex-direction:column;justify-content:center;width:100%;min-height:100%;padding:20px}img[_ngcontent-%COMP%]{width:100px}"]}),n})()},{path:"home",component:cde},{path:"user",component:hde},{path:"",redirectTo:"teatrointimo",pathMatch:"full"},{path:"**",component:dde}];let mde=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=Nt({type:n}),n.\u0275inj=vt({imports:[XP.forRoot(gde),kv,XP]}),n})(),yde=(()=>{class n{constructor(t){this.cargaServ=t}intercept(t,r){return this.cargaServ.cargando(),r.handle(t).pipe(wf(()=>this.cargaServ.cargo()))}}return n.\u0275fac=function(t){return new(t||n)(M(Zg))},n.\u0275prov=U({token:n,factory:n.\u0275fac}),n})();function Jj(n){return new T(3e3,!1)}function Zde(){return typeof window<"u"&&typeof window.document<"u"}function uS(){return typeof process<"u"&&"[object process]"==={}.toString.call(process)}function Os(n){switch(n.length){case 0:return new _c;case 1:return n[0];default:return new AF(n)}}function Zj(n,e,t,r,i=new Map,s=new Map){const o=[],a=[];let u=-1,l=null;if(r.forEach(c=>{const d=c.get("offset"),h=d==u,f=h&&l||new Map;c.forEach((p,g)=>{let m=g,_=p;if("offset"!==g)switch(m=e.normalizePropertyName(m,o),_){case"!":_=i.get(g);break;case ki:_=s.get(g);break;default:_=e.normalizeStyleValue(g,m,_,o)}f.set(m,_)}),h||a.push(f),l=f,u=d}),o.length)throw function Bde(n){return new T(3502,!1)}();return a}function lS(n,e,t,r){switch(e){case"start":n.onStart(()=>r(t&&cS(t,"start",n)));break;case"done":n.onDone(()=>r(t&&cS(t,"done",n)));break;case"destroy":n.onDestroy(()=>r(t&&cS(t,"destroy",n)))}}function cS(n,e,t){const s=dS(n.element,n.triggerName,n.fromState,n.toState,e||n.phaseName,t.totalTime??n.totalTime,!!t.disabled),o=n._data;return null!=o&&(s._data=o),s}function dS(n,e,t,r,i="",s=0,o){return{element:n,triggerName:e,fromState:t,toState:r,phaseName:i,totalTime:s,disabled:!!o}}function lr(n,e,t){let r=n.get(e);return r||n.set(e,r=t),r}function Xj(n){const e=n.indexOf(":");return[n.substring(1,e),n.slice(e+1)]}let hS=(n,e)=>!1,eH=(n,e,t)=>[],tH=null;function fS(n){const e=n.parentNode||n.host;return e===tH?null:e}(uS()||typeof Element<"u")&&(Zde()?(tH=(()=>document.documentElement)(),hS=(n,e)=>{for(;e;){if(e===n)return!0;e=fS(e)}return!1}):hS=(n,e)=>n.contains(e),eH=(n,e,t)=>{if(t)return Array.from(n.querySelectorAll(e));const r=n.querySelector(e);return r?[r]:[]});let Jo=null,nH=!1;const rH=hS,iH=eH;let sH=(()=>{class n{validateStyleProperty(t){return function ehe(n){Jo||(Jo=function the(){return typeof document<"u"?document.body:null}()||{},nH=!!Jo.style&&"WebkitAppearance"in Jo.style);let e=!0;return Jo.style&&!function Xde(n){return"ebkit"==n.substring(1,6)}(n)&&(e=n in Jo.style,!e&&nH&&(e="Webkit"+n.charAt(0).toUpperCase()+n.slice(1)in Jo.style)),e}(t)}matchesElement(t,r){return!1}containsElement(t,r){return rH(t,r)}getParentElement(t){return fS(t)}query(t,r,i){return iH(t,r,i)}computeStyle(t,r,i){return i||""}animate(t,r,i,s,o,a=[],u){return new _c(i,s)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=U({token:n,factory:n.\u0275fac}),n})(),pS=(()=>{class n{}return n.NOOP=new sH,n})();const gS="ng-enter",tm="ng-leave",nm="ng-trigger",rm=".ng-trigger",aH="ng-animating",mS=".ng-animating";function Fs(n){if("number"==typeof n)return n;const e=n.match(/^(-?[\.\d]+)(m?s)/);return!e||e.length<2?0:yS(parseFloat(e[1]),e[2])}function yS(n,e){return"s"===e?1e3*n:n}function im(n,e,t){return n.hasOwnProperty("duration")?n:function ihe(n,e,t){let i,s=0,o="";if("string"==typeof n){const a=n.match(/^(-?[\.\d]+)(m?s)(?:\s+(-?[\.\d]+)(m?s))?(?:\s+([-a-z]+(?:\(.+?\))?))?$/i);if(null===a)return e.push(Jj()),{duration:0,delay:0,easing:""};i=yS(parseFloat(a[1]),a[2]);const u=a[3];null!=u&&(s=yS(parseFloat(u),a[4]));const l=a[5];l&&(o=l)}else i=n;if(!t){let a=!1,u=e.length;i<0&&(e.push(function _de(){return new T(3100,!1)}()),a=!0),s<0&&(e.push(function vde(){return new T(3101,!1)}()),a=!0),a&&e.splice(u,0,Jj())}return{duration:i,delay:s,easing:o}}(n,e,t)}function Pd(n,e={}){return Object.keys(n).forEach(t=>{e[t]=n[t]}),e}function uH(n){const e=new Map;return Object.keys(n).forEach(t=>{e.set(t,n[t])}),e}function Ls(n,e=new Map,t){if(t)for(let[r,i]of t)e.set(r,i);for(let[r,i]of n)e.set(r,i);return e}function cH(n,e,t){return t?e+":"+t+";":""}function dH(n){let e="";for(let t=0;t<n.style.length;t++){const r=n.style.item(t);e+=cH(0,r,n.style.getPropertyValue(r))}for(const t in n.style)n.style.hasOwnProperty(t)&&!t.startsWith("_")&&(e+=cH(0,uhe(t),n.style[t]));n.setAttribute("style",e)}function ci(n,e,t){n.style&&(e.forEach((r,i)=>{const s=vS(i);t&&!t.has(i)&&t.set(i,n.style[s]),n.style[s]=r}),uS()&&dH(n))}function Zo(n,e){n.style&&(e.forEach((t,r)=>{const i=vS(r);n.style[i]=""}),uS()&&dH(n))}function Od(n){return Array.isArray(n)?1==n.length?n[0]:CF(n):n}const _S=new RegExp("{{\\s*(.+?)\\s*}}","g");function hH(n){let e=[];if("string"==typeof n){let t;for(;t=_S.exec(n);)e.push(t[1]);_S.lastIndex=0}return e}function sm(n,e,t){const r=n.toString(),i=r.replace(_S,(s,o)=>{let a=e[o];return null==a&&(t.push(function Ede(n){return new T(3003,!1)}()),a=""),a.toString()});return i==r?n:i}function om(n){const e=[];let t=n.next();for(;!t.done;)e.push(t.value),t=n.next();return e}const ahe=/-+([a-z0-9])/g;function vS(n){return n.replace(ahe,(...e)=>e[1].toUpperCase())}function uhe(n){return n.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase()}function cr(n,e,t){switch(e.type){case 7:return n.visitTrigger(e,t);case 0:return n.visitState(e,t);case 1:return n.visitTransition(e,t);case 2:return n.visitSequence(e,t);case 3:return n.visitGroup(e,t);case 4:return n.visitAnimate(e,t);case 5:return n.visitKeyframes(e,t);case 6:return n.visitStyle(e,t);case 8:return n.visitReference(e,t);case 9:return n.visitAnimateChild(e,t);case 10:return n.visitAnimateRef(e,t);case 11:return n.visitQuery(e,t);case 12:return n.visitStagger(e,t);default:throw function Ide(n){return new T(3004,!1)}()}}function fH(n,e){return window.getComputedStyle(n)[e]}function phe(n,e){const t=[];return"string"==typeof n?n.split(/\s*,\s*/).forEach(r=>function ghe(n,e,t){if(":"==n[0]){const u=function mhe(n,e){switch(n){case":enter":return"void => *";case":leave":return"* => void";case":increment":return(t,r)=>parseFloat(r)>parseFloat(t);case":decrement":return(t,r)=>parseFloat(r)<parseFloat(t);default:return e.push(function Fde(n){return new T(3016,!1)}()),"* => *"}}(n,t);if("function"==typeof u)return void e.push(u);n=u}const r=n.match(/^(\*|[-\w]+)\s*(<?[=-]>)\s*(\*|[-\w]+)$/);if(null==r||r.length<4)return t.push(function Ode(n){return new T(3015,!1)}()),e;const i=r[1],s=r[2],o=r[3];e.push(pH(i,o));"<"==s[0]&&!("*"==i&&"*"==o)&&e.push(pH(o,i))}(r,t,e)):t.push(n),t}const cm=new Set(["true","1"]),dm=new Set(["false","0"]);function pH(n,e){const t=cm.has(n)||dm.has(n),r=cm.has(e)||dm.has(e);return(i,s)=>{let o="*"==n||n==i,a="*"==e||e==s;return!o&&t&&"boolean"==typeof i&&(o=i?cm.has(n):dm.has(n)),!a&&r&&"boolean"==typeof s&&(a=s?cm.has(e):dm.has(e)),o&&a}}const yhe=new RegExp("s*:selfs*,?","g");function wS(n,e,t,r){return new _he(n).build(e,t,r)}class _he{constructor(e){this._driver=e}build(e,t,r){const i=new Ehe(t);return this._resetContextStyleTimingState(i),cr(this,Od(e),i)}_resetContextStyleTimingState(e){e.currentQuerySelector="",e.collectedStyles=new Map,e.collectedStyles.set("",new Map),e.currentTime=0}visitTrigger(e,t){let r=t.queryCount=0,i=t.depCount=0;const s=[],o=[];return"@"==e.name.charAt(0)&&t.errors.push(function Tde(){return new T(3006,!1)}()),e.definitions.forEach(a=>{if(this._resetContextStyleTimingState(t),0==a.type){const u=a,l=u.name;l.toString().split(/\s*,\s*/).forEach(c=>{u.name=c,s.push(this.visitState(u,t))}),u.name=l}else if(1==a.type){const u=this.visitTransition(a,t);r+=u.queryCount,i+=u.depCount,o.push(u)}else t.errors.push(function Cde(){return new T(3007,!1)}())}),{type:7,name:e.name,states:s,transitions:o,queryCount:r,depCount:i,options:null}}visitState(e,t){const r=this.visitStyle(e.styles,t),i=e.options&&e.options.params||null;if(r.containsDynamicStyles){const s=new Set,o=i||{};r.styles.forEach(a=>{a instanceof Map&&a.forEach(u=>{hH(u).forEach(l=>{o.hasOwnProperty(l)||s.add(l)})})}),s.size&&(om(s.values()),t.errors.push(function Dde(n,e){return new T(3008,!1)}()))}return{type:0,name:e.name,style:r,options:i?{params:i}:null}}visitTransition(e,t){t.queryCount=0,t.depCount=0;const r=cr(this,Od(e.animation),t);return{type:1,matchers:phe(e.expr,t.errors),animation:r,queryCount:t.queryCount,depCount:t.depCount,options:Xo(e.options)}}visitSequence(e,t){return{type:2,steps:e.steps.map(r=>cr(this,r,t)),options:Xo(e.options)}}visitGroup(e,t){const r=t.currentTime;let i=0;const s=e.steps.map(o=>{t.currentTime=r;const a=cr(this,o,t);return i=Math.max(i,t.currentTime),a});return t.currentTime=i,{type:3,steps:s,options:Xo(e.options)}}visitAnimate(e,t){const r=function bhe(n,e){if(n.hasOwnProperty("duration"))return n;if("number"==typeof n)return ES(im(n,e).duration,0,"");const t=n;if(t.split(/\s+/).some(s=>"{"==s.charAt(0)&&"{"==s.charAt(1))){const s=ES(0,0,"");return s.dynamic=!0,s.strValue=t,s}const i=im(t,e);return ES(i.duration,i.delay,i.easing)}(e.timings,t.errors);t.currentAnimateTimings=r;let i,s=e.styles?e.styles:yc({});if(5==s.type)i=this.visitKeyframes(s,t);else{let o=e.styles,a=!1;if(!o){a=!0;const l={};r.easing&&(l.easing=r.easing),o=yc(l)}t.currentTime+=r.duration+r.delay;const u=this.visitStyle(o,t);u.isEmptyStep=a,i=u}return t.currentAnimateTimings=null,{type:4,timings:r,style:i,options:null}}visitStyle(e,t){const r=this._makeStyleAst(e,t);return this._validateStyleAst(r,t),r}_makeStyleAst(e,t){const r=[],i=Array.isArray(e.styles)?e.styles:[e.styles];for(let a of i)"string"==typeof a?a===ki?r.push(a):t.errors.push(new T(3002,!1)):r.push(uH(a));let s=!1,o=null;return r.forEach(a=>{if(a instanceof Map&&(a.has("easing")&&(o=a.get("easing"),a.delete("easing")),!s))for(let u of a.values())if(u.toString().indexOf("{{")>=0){s=!0;break}}),{type:6,styles:r,easing:o,offset:e.offset,containsDynamicStyles:s,options:null}}_validateStyleAst(e,t){const r=t.currentAnimateTimings;let i=t.currentTime,s=t.currentTime;r&&s>0&&(s-=r.duration+r.delay),e.styles.forEach(o=>{"string"!=typeof o&&o.forEach((a,u)=>{const l=t.collectedStyles.get(t.currentQuerySelector),c=l.get(u);let d=!0;c&&(s!=i&&s>=c.startTime&&i<=c.endTime&&(t.errors.push(function Ade(n,e,t,r,i){return new T(3010,!1)}()),d=!1),s=c.startTime),d&&l.set(u,{startTime:s,endTime:i}),t.options&&function ohe(n,e,t){const r=e.params||{},i=hH(n);i.length&&i.forEach(s=>{r.hasOwnProperty(s)||t.push(function wde(n){return new T(3001,!1)}())})}(a,t.options,t.errors)})})}visitKeyframes(e,t){const r={type:5,styles:[],options:null};if(!t.currentAnimateTimings)return t.errors.push(function Mde(){return new T(3011,!1)}()),r;let s=0;const o=[];let a=!1,u=!1,l=0;const c=e.steps.map(_=>{const I=this._makeStyleAst(_,t);let v=null!=I.offset?I.offset:function Ihe(n){if("string"==typeof n)return null;let e=null;if(Array.isArray(n))n.forEach(t=>{if(t instanceof Map&&t.has("offset")){const r=t;e=parseFloat(r.get("offset")),r.delete("offset")}});else if(n instanceof Map&&n.has("offset")){const t=n;e=parseFloat(t.get("offset")),t.delete("offset")}return e}(I.styles),C=0;return null!=v&&(s++,C=I.offset=v),u=u||C<0||C>1,a=a||C<l,l=C,o.push(C),I});u&&t.errors.push(function xde(){return new T(3012,!1)}()),a&&t.errors.push(function Nde(){return new T(3200,!1)}());const d=e.steps.length;let h=0;s>0&&s<d?t.errors.push(function kde(){return new T(3202,!1)}()):0==s&&(h=1/(d-1));const f=d-1,p=t.currentTime,g=t.currentAnimateTimings,m=g.duration;return c.forEach((_,I)=>{const v=h>0?I==f?1:h*I:o[I],C=v*m;t.currentTime=p+g.delay+C,g.duration=C,this._validateStyleAst(_,t),_.offset=v,r.styles.push(_)}),r}visitReference(e,t){return{type:8,animation:cr(this,Od(e.animation),t),options:Xo(e.options)}}visitAnimateChild(e,t){return t.depCount++,{type:9,options:Xo(e.options)}}visitAnimateRef(e,t){return{type:10,animation:this.visitReference(e.animation,t),options:Xo(e.options)}}visitQuery(e,t){const r=t.currentQuerySelector,i=e.options||{};t.queryCount++,t.currentQuery=e;const[s,o]=function vhe(n){const e=!!n.split(/\s*,\s*/).find(t=>":self"==t);return e&&(n=n.replace(yhe,"")),n=n.replace(/@\*/g,rm).replace(/@\w+/g,t=>rm+"-"+t.slice(1)).replace(/:animating/g,mS),[n,e]}(e.selector);t.currentQuerySelector=r.length?r+" "+s:s,lr(t.collectedStyles,t.currentQuerySelector,new Map);const a=cr(this,Od(e.animation),t);return t.currentQuery=null,t.currentQuerySelector=r,{type:11,selector:s,limit:i.limit||0,optional:!!i.optional,includeSelf:o,animation:a,originalSelector:e.selector,options:Xo(e.options)}}visitStagger(e,t){t.currentQuery||t.errors.push(function Rde(){return new T(3013,!1)}());const r="full"===e.timings?{duration:0,delay:0,easing:"full"}:im(e.timings,t.errors,!0);return{type:12,animation:cr(this,Od(e.animation),t),timings:r,options:null}}}class Ehe{constructor(e){this.errors=e,this.queryCount=0,this.depCount=0,this.currentTransition=null,this.currentQuery=null,this.currentQuerySelector=null,this.currentAnimateTimings=null,this.currentTime=0,this.collectedStyles=new Map,this.options=null,this.unsupportedCSSPropertiesFound=new Set}}function Xo(n){return n?(n=Pd(n)).params&&(n.params=function whe(n){return n?Pd(n):null}(n.params)):n={},n}function ES(n,e,t){return{duration:n,delay:e,easing:t}}function IS(n,e,t,r,i,s,o=null,a=!1){return{type:1,element:n,keyframes:e,preStyleProps:t,postStyleProps:r,duration:i,delay:s,totalTime:i+s,easing:o,subTimeline:a}}class hm{constructor(){this._map=new Map}get(e){return this._map.get(e)||[]}append(e,t){let r=this._map.get(e);r||this._map.set(e,r=[]),r.push(...t)}has(e){return this._map.has(e)}clear(){this._map.clear()}}const Dhe=new RegExp(":enter","g"),Ahe=new RegExp(":leave","g");function bS(n,e,t,r,i,s=new Map,o=new Map,a,u,l=[]){return(new Mhe).buildKeyframes(n,e,t,r,i,s,o,a,u,l)}class Mhe{buildKeyframes(e,t,r,i,s,o,a,u,l,c=[]){l=l||new hm;const d=new TS(e,t,l,i,s,c,[]);d.options=u;const h=u.delay?Fs(u.delay):0;d.currentTimeline.delayNextStep(h),d.currentTimeline.setStyles([o],null,d.errors,u),cr(this,r,d);const f=d.timelines.filter(p=>p.containsAnimation());if(f.length&&a.size){let p;for(let g=f.length-1;g>=0;g--){const m=f[g];if(m.element===t){p=m;break}}p&&!p.allowOnlyTimelineStyles()&&p.setStyles([a],null,d.errors,u)}return f.length?f.map(p=>p.buildKeyframes()):[IS(t,[],[],[],0,h,"",!1)]}visitTrigger(e,t){}visitState(e,t){}visitTransition(e,t){}visitAnimateChild(e,t){const r=t.subInstructions.get(t.element);if(r){const i=t.createSubContext(e.options),s=t.currentTimeline.currentTime,o=this._visitSubInstructions(r,i,i.options);s!=o&&t.transformIntoNewTimeline(o)}t.previousNode=e}visitAnimateRef(e,t){const r=t.createSubContext(e.options);r.transformIntoNewTimeline(),this.visitReference(e.animation,r),t.transformIntoNewTimeline(r.currentTimeline.currentTime),t.previousNode=e}_visitSubInstructions(e,t,r){let s=t.currentTimeline.currentTime;const o=null!=r.duration?Fs(r.duration):null,a=null!=r.delay?Fs(r.delay):null;return 0!==o&&e.forEach(u=>{const l=t.appendInstructionToTimeline(u,o,a);s=Math.max(s,l.duration+l.delay)}),s}visitReference(e,t){t.updateOptions(e.options,!0),cr(this,e.animation,t),t.previousNode=e}visitSequence(e,t){const r=t.subContextCount;let i=t;const s=e.options;if(s&&(s.params||s.delay)&&(i=t.createSubContext(s),i.transformIntoNewTimeline(),null!=s.delay)){6==i.previousNode.type&&(i.currentTimeline.snapshotCurrentStyles(),i.previousNode=fm);const o=Fs(s.delay);i.delayNextStep(o)}e.steps.length&&(e.steps.forEach(o=>cr(this,o,i)),i.currentTimeline.applyStylesToKeyframe(),i.subContextCount>r&&i.transformIntoNewTimeline()),t.previousNode=e}visitGroup(e,t){const r=[];let i=t.currentTimeline.currentTime;const s=e.options&&e.options.delay?Fs(e.options.delay):0;e.steps.forEach(o=>{const a=t.createSubContext(e.options);s&&a.delayNextStep(s),cr(this,o,a),i=Math.max(i,a.currentTimeline.currentTime),r.push(a.currentTimeline)}),r.forEach(o=>t.currentTimeline.mergeTimelineCollectedStyles(o)),t.transformIntoNewTimeline(i),t.previousNode=e}_visitTiming(e,t){if(e.dynamic){const r=e.strValue;return im(t.params?sm(r,t.params,t.errors):r,t.errors)}return{duration:e.duration,delay:e.delay,easing:e.easing}}visitAnimate(e,t){const r=t.currentAnimateTimings=this._visitTiming(e.timings,t),i=t.currentTimeline;r.delay&&(t.incrementTime(r.delay),i.snapshotCurrentStyles());const s=e.style;5==s.type?this.visitKeyframes(s,t):(t.incrementTime(r.duration),this.visitStyle(s,t),i.applyStylesToKeyframe()),t.currentAnimateTimings=null,t.previousNode=e}visitStyle(e,t){const r=t.currentTimeline,i=t.currentAnimateTimings;!i&&r.hasCurrentStyleProperties()&&r.forwardFrame();const s=i&&i.easing||e.easing;e.isEmptyStep?r.applyEmptyStep(s):r.setStyles(e.styles,s,t.errors,t.options),t.previousNode=e}visitKeyframes(e,t){const r=t.currentAnimateTimings,i=t.currentTimeline.duration,s=r.duration,a=t.createSubContext().currentTimeline;a.easing=r.easing,e.styles.forEach(u=>{a.forwardTime((u.offset||0)*s),a.setStyles(u.styles,u.easing,t.errors,t.options),a.applyStylesToKeyframe()}),t.currentTimeline.mergeTimelineCollectedStyles(a),t.transformIntoNewTimeline(i+s),t.previousNode=e}visitQuery(e,t){const r=t.currentTimeline.currentTime,i=e.options||{},s=i.delay?Fs(i.delay):0;s&&(6===t.previousNode.type||0==r&&t.currentTimeline.hasCurrentStyleProperties())&&(t.currentTimeline.snapshotCurrentStyles(),t.previousNode=fm);let o=r;const a=t.invokeQuery(e.selector,e.originalSelector,e.limit,e.includeSelf,!!i.optional,t.errors);t.currentQueryTotal=a.length;let u=null;a.forEach((l,c)=>{t.currentQueryIndex=c;const d=t.createSubContext(e.options,l);s&&d.delayNextStep(s),l===t.element&&(u=d.currentTimeline),cr(this,e.animation,d),d.currentTimeline.applyStylesToKeyframe(),o=Math.max(o,d.currentTimeline.currentTime)}),t.currentQueryIndex=0,t.currentQueryTotal=0,t.transformIntoNewTimeline(o),u&&(t.currentTimeline.mergeTimelineCollectedStyles(u),t.currentTimeline.snapshotCurrentStyles()),t.previousNode=e}visitStagger(e,t){const r=t.parentContext,i=t.currentTimeline,s=e.timings,o=Math.abs(s.duration),a=o*(t.currentQueryTotal-1);let u=o*t.currentQueryIndex;switch(s.duration<0?"reverse":s.easing){case"reverse":u=a-u;break;case"full":u=r.currentStaggerTime}const c=t.currentTimeline;u&&c.delayNextStep(u);const d=c.currentTime;cr(this,e.animation,t),t.previousNode=e,r.currentStaggerTime=i.currentTime-d+(i.startTime-r.currentTimeline.startTime)}}const fm={};class TS{constructor(e,t,r,i,s,o,a,u){this._driver=e,this.element=t,this.subInstructions=r,this._enterClassName=i,this._leaveClassName=s,this.errors=o,this.timelines=a,this.parentContext=null,this.currentAnimateTimings=null,this.previousNode=fm,this.subContextCount=0,this.options={},this.currentQueryIndex=0,this.currentQueryTotal=0,this.currentStaggerTime=0,this.currentTimeline=u||new pm(this._driver,t,0),a.push(this.currentTimeline)}get params(){return this.options.params}updateOptions(e,t){if(!e)return;const r=e;let i=this.options;null!=r.duration&&(i.duration=Fs(r.duration)),null!=r.delay&&(i.delay=Fs(r.delay));const s=r.params;if(s){let o=i.params;o||(o=this.options.params={}),Object.keys(s).forEach(a=>{(!t||!o.hasOwnProperty(a))&&(o[a]=sm(s[a],o,this.errors))})}}_copyOptions(){const e={};if(this.options){const t=this.options.params;if(t){const r=e.params={};Object.keys(t).forEach(i=>{r[i]=t[i]})}}return e}createSubContext(e=null,t,r){const i=t||this.element,s=new TS(this._driver,i,this.subInstructions,this._enterClassName,this._leaveClassName,this.errors,this.timelines,this.currentTimeline.fork(i,r||0));return s.previousNode=this.previousNode,s.currentAnimateTimings=this.currentAnimateTimings,s.options=this._copyOptions(),s.updateOptions(e),s.currentQueryIndex=this.currentQueryIndex,s.currentQueryTotal=this.currentQueryTotal,s.parentContext=this,this.subContextCount++,s}transformIntoNewTimeline(e){return this.previousNode=fm,this.currentTimeline=this.currentTimeline.fork(this.element,e),this.timelines.push(this.currentTimeline),this.currentTimeline}appendInstructionToTimeline(e,t,r){const i={duration:t??e.duration,delay:this.currentTimeline.currentTime+(r??0)+e.delay,easing:""},s=new xhe(this._driver,e.element,e.keyframes,e.preStyleProps,e.postStyleProps,i,e.stretchStartingKeyframe);return this.timelines.push(s),i}incrementTime(e){this.currentTimeline.forwardTime(this.currentTimeline.duration+e)}delayNextStep(e){e>0&&this.currentTimeline.delayNextStep(e)}invokeQuery(e,t,r,i,s,o){let a=[];if(i&&a.push(this.element),e.length>0){e=(e=e.replace(Dhe,"."+this._enterClassName)).replace(Ahe,"."+this._leaveClassName);let l=this._driver.query(this.element,e,1!=r);0!==r&&(l=r<0?l.slice(l.length+r,l.length):l.slice(0,r)),a.push(...l)}return!s&&0==a.length&&o.push(function Pde(n){return new T(3014,!1)}()),a}}class pm{constructor(e,t,r,i){this._driver=e,this.element=t,this.startTime=r,this._elementTimelineStylesLookup=i,this.duration=0,this._previousKeyframe=new Map,this._currentKeyframe=new Map,this._keyframes=new Map,this._styleSummary=new Map,this._localTimelineStyles=new Map,this._pendingStyles=new Map,this._backFill=new Map,this._currentEmptyStepKeyframe=null,this._elementTimelineStylesLookup||(this._elementTimelineStylesLookup=new Map),this._globalTimelineStyles=this._elementTimelineStylesLookup.get(t),this._globalTimelineStyles||(this._globalTimelineStyles=this._localTimelineStyles,this._elementTimelineStylesLookup.set(t,this._localTimelineStyles)),this._loadKeyframe()}containsAnimation(){switch(this._keyframes.size){case 0:return!1;case 1:return this.hasCurrentStyleProperties();default:return!0}}hasCurrentStyleProperties(){return this._currentKeyframe.size>0}get currentTime(){return this.startTime+this.duration}delayNextStep(e){const t=1===this._keyframes.size&&this._pendingStyles.size;this.duration||t?(this.forwardTime(this.currentTime+e),t&&this.snapshotCurrentStyles()):this.startTime+=e}fork(e,t){return this.applyStylesToKeyframe(),new pm(this._driver,e,t||this.currentTime,this._elementTimelineStylesLookup)}_loadKeyframe(){this._currentKeyframe&&(this._previousKeyframe=this._currentKeyframe),this._currentKeyframe=this._keyframes.get(this.duration),this._currentKeyframe||(this._currentKeyframe=new Map,this._keyframes.set(this.duration,this._currentKeyframe))}forwardFrame(){this.duration+=1,this._loadKeyframe()}forwardTime(e){this.applyStylesToKeyframe(),this.duration=e,this._loadKeyframe()}_updateStyle(e,t){this._localTimelineStyles.set(e,t),this._globalTimelineStyles.set(e,t),this._styleSummary.set(e,{time:this.currentTime,value:t})}allowOnlyTimelineStyles(){return this._currentEmptyStepKeyframe!==this._currentKeyframe}applyEmptyStep(e){e&&this._previousKeyframe.set("easing",e);for(let[t,r]of this._globalTimelineStyles)this._backFill.set(t,r||ki),this._currentKeyframe.set(t,ki);this._currentEmptyStepKeyframe=this._currentKeyframe}setStyles(e,t,r,i){t&&this._previousKeyframe.set("easing",t);const s=i&&i.params||{},o=function Nhe(n,e){const t=new Map;let r;return n.forEach(i=>{if("*"===i){r=r||e.keys();for(let s of r)t.set(s,ki)}else Ls(i,t)}),t}(e,this._globalTimelineStyles);for(let[a,u]of o){const l=sm(u,s,r);this._pendingStyles.set(a,l),this._localTimelineStyles.has(a)||this._backFill.set(a,this._globalTimelineStyles.get(a)??ki),this._updateStyle(a,l)}}applyStylesToKeyframe(){0!=this._pendingStyles.size&&(this._pendingStyles.forEach((e,t)=>{this._currentKeyframe.set(t,e)}),this._pendingStyles.clear(),this._localTimelineStyles.forEach((e,t)=>{this._currentKeyframe.has(t)||this._currentKeyframe.set(t,e)}))}snapshotCurrentStyles(){for(let[e,t]of this._localTimelineStyles)this._pendingStyles.set(e,t),this._updateStyle(e,t)}getFinalKeyframe(){return this._keyframes.get(this.duration)}get properties(){const e=[];for(let t in this._currentKeyframe)e.push(t);return e}mergeTimelineCollectedStyles(e){e._styleSummary.forEach((t,r)=>{const i=this._styleSummary.get(r);(!i||t.time>i.time)&&this._updateStyle(r,t.value)})}buildKeyframes(){this.applyStylesToKeyframe();const e=new Set,t=new Set,r=1===this._keyframes.size&&0===this.duration;let i=[];this._keyframes.forEach((a,u)=>{const l=Ls(a,new Map,this._backFill);l.forEach((c,d)=>{"!"===c?e.add(d):c===ki&&t.add(d)}),r||l.set("offset",u/this.duration),i.push(l)});const s=e.size?om(e.values()):[],o=t.size?om(t.values()):[];if(r){const a=i[0],u=new Map(a);a.set("offset",0),u.set("offset",1),i=[a,u]}return IS(this.element,i,s,o,this.duration,this.startTime,this.easing,!1)}}class xhe extends pm{constructor(e,t,r,i,s,o,a=!1){super(e,t,o.delay),this.keyframes=r,this.preStyleProps=i,this.postStyleProps=s,this._stretchStartingKeyframe=a,this.timings={duration:o.duration,delay:o.delay,easing:o.easing}}containsAnimation(){return this.keyframes.length>1}buildKeyframes(){let e=this.keyframes,{delay:t,duration:r,easing:i}=this.timings;if(this._stretchStartingKeyframe&&t){const s=[],o=r+t,a=t/o,u=Ls(e[0]);u.set("offset",0),s.push(u);const l=Ls(e[0]);l.set("offset",yH(a)),s.push(l);const c=e.length-1;for(let d=1;d<=c;d++){let h=Ls(e[d]);const f=h.get("offset");h.set("offset",yH((t+f*r)/o)),s.push(h)}r=o,t=0,i="",e=s}return IS(this.element,e,this.preStyleProps,this.postStyleProps,r,t,i,!0)}}function yH(n,e=3){const t=Math.pow(10,e-1);return Math.round(n*t)/t}class CS{}const khe=new Set(["width","height","minWidth","minHeight","maxWidth","maxHeight","left","top","bottom","right","fontSize","outlineWidth","outlineOffset","paddingTop","paddingLeft","paddingBottom","paddingRight","marginTop","marginLeft","marginBottom","marginRight","borderRadius","borderWidth","borderTopWidth","borderLeftWidth","borderRightWidth","borderBottomWidth","textIndent","perspective"]);class Rhe extends CS{normalizePropertyName(e,t){return vS(e)}normalizeStyleValue(e,t,r,i){let s="";const o=r.toString().trim();if(khe.has(t)&&0!==r&&"0"!==r)if("number"==typeof r)s="px";else{const a=r.match(/^[+-]?[\d\.]+([a-z]*)$/);a&&0==a[1].length&&i.push(function bde(n,e){return new T(3005,!1)}())}return o+s}}function _H(n,e,t,r,i,s,o,a,u,l,c,d,h){return{type:0,element:n,triggerName:e,isRemovalTransition:i,fromState:t,fromStyles:s,toState:r,toStyles:o,timelines:a,queriedElements:u,preStyleProps:l,postStyleProps:c,totalTime:d,errors:h}}const DS={};class vH{constructor(e,t,r){this._triggerName=e,this.ast=t,this._stateStyles=r}match(e,t,r,i){return function Phe(n,e,t,r,i){return n.some(s=>s(e,t,r,i))}(this.ast.matchers,e,t,r,i)}buildStyles(e,t,r){let i=this._stateStyles.get("*");return void 0!==e&&(i=this._stateStyles.get(e?.toString())||i),i?i.buildStyles(t,r):new Map}build(e,t,r,i,s,o,a,u,l,c){const d=[],h=this.ast.options&&this.ast.options.params||DS,p=this.buildStyles(r,a&&a.params||DS,d),g=u&&u.params||DS,m=this.buildStyles(i,g,d),_=new Set,I=new Map,v=new Map,C="void"===i,x={params:Ohe(g,h),delay:this.ast.options?.delay},F=c?[]:bS(e,t,this.ast.animation,s,o,p,m,x,l,d);let ae=0;if(F.forEach(Xt=>{ae=Math.max(Xt.duration+Xt.delay,ae)}),d.length)return _H(t,this._triggerName,r,i,C,p,m,[],[],I,v,ae,d);F.forEach(Xt=>{const Sn=Xt.element,zu=lr(I,Sn,new Set);Xt.preStyleProps.forEach(Hr=>zu.add(Hr));const Qi=lr(v,Sn,new Set);Xt.postStyleProps.forEach(Hr=>Qi.add(Hr)),Sn!==t&&_.add(Sn)});const ut=om(_.values());return _H(t,this._triggerName,r,i,C,p,m,F,ut,I,v,ae)}}function Ohe(n,e){const t=Pd(e);for(const r in n)n.hasOwnProperty(r)&&null!=n[r]&&(t[r]=n[r]);return t}class Fhe{constructor(e,t,r){this.styles=e,this.defaultParams=t,this.normalizer=r}buildStyles(e,t){const r=new Map,i=Pd(this.defaultParams);return Object.keys(e).forEach(s=>{const o=e[s];null!==o&&(i[s]=o)}),this.styles.styles.forEach(s=>{"string"!=typeof s&&s.forEach((o,a)=>{o&&(o=sm(o,i,t));const u=this.normalizer.normalizePropertyName(a,t);o=this.normalizer.normalizeStyleValue(a,u,o,t),r.set(u,o)})}),r}}class Vhe{constructor(e,t,r){this.name=e,this.ast=t,this._normalizer=r,this.transitionFactories=[],this.states=new Map,t.states.forEach(i=>{this.states.set(i.name,new Fhe(i.style,i.options&&i.options.params||{},r))}),wH(this.states,"true","1"),wH(this.states,"false","0"),t.transitions.forEach(i=>{this.transitionFactories.push(new vH(e,i,this.states))}),this.fallbackTransition=function Uhe(n,e,t){return new vH(n,{type:1,animation:{type:2,steps:[],options:null},matchers:[(o,a)=>!0],options:null,queryCount:0,depCount:0},e)}(e,this.states)}get containsQueries(){return this.ast.queryCount>0}matchTransition(e,t,r,i){return this.transitionFactories.find(o=>o.match(e,t,r,i))||null}matchStyles(e,t,r){return this.fallbackTransition.buildStyles(e,t,r)}}function wH(n,e,t){n.has(e)?n.has(t)||n.set(t,n.get(e)):n.has(t)&&n.set(e,n.get(t))}const Bhe=new hm;class $he{constructor(e,t,r){this.bodyNode=e,this._driver=t,this._normalizer=r,this._animations=new Map,this._playersById=new Map,this.players=[]}register(e,t){const r=[],s=wS(this._driver,t,r,[]);if(r.length)throw function $de(n){return new T(3503,!1)}();this._animations.set(e,s)}_buildPlayer(e,t,r){const i=e.element,s=Zj(0,this._normalizer,0,e.keyframes,t,r);return this._driver.animate(i,s,e.duration,e.delay,e.easing,[],!0)}create(e,t,r={}){const i=[],s=this._animations.get(e);let o;const a=new Map;if(s?(o=bS(this._driver,t,s,gS,tm,new Map,new Map,r,Bhe,i),o.forEach(c=>{const d=lr(a,c.element,new Map);c.postStyleProps.forEach(h=>d.set(h,null))})):(i.push(function jde(){return new T(3300,!1)}()),o=[]),i.length)throw function Hde(n){return new T(3504,!1)}();a.forEach((c,d)=>{c.forEach((h,f)=>{c.set(f,this._driver.computeStyle(d,f,ki))})});const l=Os(o.map(c=>{const d=a.get(c.element);return this._buildPlayer(c,new Map,d)}));return this._playersById.set(e,l),l.onDestroy(()=>this.destroy(e)),this.players.push(l),l}destroy(e){const t=this._getPlayer(e);t.destroy(),this._playersById.delete(e);const r=this.players.indexOf(t);r>=0&&this.players.splice(r,1)}_getPlayer(e){const t=this._playersById.get(e);if(!t)throw function Gde(n){return new T(3301,!1)}();return t}listen(e,t,r,i){const s=dS(t,"","","");return lS(this._getPlayer(e),r,s,i),()=>{}}command(e,t,r,i){if("register"==r)return void this.register(e,i[0]);if("create"==r)return void this.create(e,t,i[0]||{});const s=this._getPlayer(e);switch(r){case"play":s.play();break;case"pause":s.pause();break;case"reset":s.reset();break;case"restart":s.restart();break;case"finish":s.finish();break;case"init":s.init();break;case"setPosition":s.setPosition(parseFloat(i[0]));break;case"destroy":this.destroy(e)}}}const EH="ng-animate-queued",SS="ng-animate-disabled",zhe=[],IH={namespaceId:"",setForRemoval:!1,setForMove:!1,hasAnimation:!1,removedBeforeQueried:!1},Whe={namespaceId:"",setForMove:!1,setForRemoval:!1,hasAnimation:!1,removedBeforeQueried:!0},br="__ng_removed";class AS{constructor(e,t=""){this.namespaceId=t;const r=e&&e.hasOwnProperty("value");if(this.value=function Jhe(n){return n??null}(r?e.value:e),r){const s=Pd(e);delete s.value,this.options=s}else this.options={};this.options.params||(this.options.params={})}get params(){return this.options.params}absorbOptions(e){const t=e.params;if(t){const r=this.options.params;Object.keys(t).forEach(i=>{null==r[i]&&(r[i]=t[i])})}}}const Fd="void",MS=new AS(Fd);class Khe{constructor(e,t,r){this.id=e,this.hostElement=t,this._engine=r,this.players=[],this._triggers=new Map,this._queue=[],this._elementListeners=new Map,this._hostClassName="ng-tns-"+e,Tr(t,this._hostClassName)}listen(e,t,r,i){if(!this._triggers.has(t))throw function qde(n,e){return new T(3302,!1)}();if(null==r||0==r.length)throw function zde(n){return new T(3303,!1)}();if(!function Zhe(n){return"start"==n||"done"==n}(r))throw function Wde(n,e){return new T(3400,!1)}();const s=lr(this._elementListeners,e,[]),o={name:t,phase:r,callback:i};s.push(o);const a=lr(this._engine.statesByElement,e,new Map);return a.has(t)||(Tr(e,nm),Tr(e,nm+"-"+t),a.set(t,MS)),()=>{this._engine.afterFlush(()=>{const u=s.indexOf(o);u>=0&&s.splice(u,1),this._triggers.has(t)||a.delete(t)})}}register(e,t){return!this._triggers.has(e)&&(this._triggers.set(e,t),!0)}_getTrigger(e){const t=this._triggers.get(e);if(!t)throw function Kde(n){return new T(3401,!1)}();return t}trigger(e,t,r,i=!0){const s=this._getTrigger(t),o=new xS(this.id,t,e);let a=this._engine.statesByElement.get(e);a||(Tr(e,nm),Tr(e,nm+"-"+t),this._engine.statesByElement.set(e,a=new Map));let u=a.get(t);const l=new AS(r,this.id);if(!(r&&r.hasOwnProperty("value"))&&u&&l.absorbOptions(u.options),a.set(t,l),u||(u=MS),l.value!==Fd&&u.value===l.value){if(!function tfe(n,e){const t=Object.keys(n),r=Object.keys(e);if(t.length!=r.length)return!1;for(let i=0;i<t.length;i++){const s=t[i];if(!e.hasOwnProperty(s)||n[s]!==e[s])return!1}return!0}(u.params,l.params)){const g=[],m=s.matchStyles(u.value,u.params,g),_=s.matchStyles(l.value,l.params,g);g.length?this._engine.reportError(g):this._engine.afterFlush(()=>{Zo(e,m),ci(e,_)})}return}const h=lr(this._engine.playersByElement,e,[]);h.forEach(g=>{g.namespaceId==this.id&&g.triggerName==t&&g.queued&&g.destroy()});let f=s.matchTransition(u.value,l.value,e,l.params),p=!1;if(!f){if(!i)return;f=s.fallbackTransition,p=!0}return this._engine.totalQueuedPlayers++,this._queue.push({element:e,triggerName:t,transition:f,fromState:u,toState:l,player:o,isFallbackTransition:p}),p||(Tr(e,EH),o.onStart(()=>{qu(e,EH)})),o.onDone(()=>{let g=this.players.indexOf(o);g>=0&&this.players.splice(g,1);const m=this._engine.playersByElement.get(e);if(m){let _=m.indexOf(o);_>=0&&m.splice(_,1)}}),this.players.push(o),h.push(o),o}deregister(e){this._triggers.delete(e),this._engine.statesByElement.forEach(t=>t.delete(e)),this._elementListeners.forEach((t,r)=>{this._elementListeners.set(r,t.filter(i=>i.name!=e))})}clearElementCache(e){this._engine.statesByElement.delete(e),this._elementListeners.delete(e);const t=this._engine.playersByElement.get(e);t&&(t.forEach(r=>r.destroy()),this._engine.playersByElement.delete(e))}_signalRemovalForInnerTriggers(e,t){const r=this._engine.driver.query(e,rm,!0);r.forEach(i=>{if(i[br])return;const s=this._engine.fetchNamespacesByElement(i);s.size?s.forEach(o=>o.triggerLeaveAnimation(i,t,!1,!0)):this.clearElementCache(i)}),this._engine.afterFlushAnimationsDone(()=>r.forEach(i=>this.clearElementCache(i)))}triggerLeaveAnimation(e,t,r,i){const s=this._engine.statesByElement.get(e),o=new Map;if(s){const a=[];if(s.forEach((u,l)=>{if(o.set(l,u.value),this._triggers.has(l)){const c=this.trigger(e,l,Fd,i);c&&a.push(c)}}),a.length)return this._engine.markElementAsRemoved(this.id,e,!0,t,o),r&&Os(a).onDone(()=>this._engine.processLeaveNode(e)),!0}return!1}prepareLeaveAnimationListeners(e){const t=this._elementListeners.get(e),r=this._engine.statesByElement.get(e);if(t&&r){const i=new Set;t.forEach(s=>{const o=s.name;if(i.has(o))return;i.add(o);const u=this._triggers.get(o).fallbackTransition,l=r.get(o)||MS,c=new AS(Fd),d=new xS(this.id,o,e);this._engine.totalQueuedPlayers++,this._queue.push({element:e,triggerName:o,transition:u,fromState:l,toState:c,player:d,isFallbackTransition:!0})})}}removeNode(e,t){const r=this._engine;if(e.childElementCount&&this._signalRemovalForInnerTriggers(e,t),this.triggerLeaveAnimation(e,t,!0))return;let i=!1;if(r.totalAnimations){const s=r.players.length?r.playersByQueriedElement.get(e):[];if(s&&s.length)i=!0;else{let o=e;for(;o=o.parentNode;)if(r.statesByElement.get(o)){i=!0;break}}}if(this.prepareLeaveAnimationListeners(e),i)r.markElementAsRemoved(this.id,e,!1,t);else{const s=e[br];(!s||s===IH)&&(r.afterFlush(()=>this.clearElementCache(e)),r.destroyInnerAnimations(e),r._onRemovalComplete(e,t))}}insertNode(e,t){Tr(e,this._hostClassName)}drainQueuedTransitions(e){const t=[];return this._queue.forEach(r=>{const i=r.player;if(i.destroyed)return;const s=r.element,o=this._elementListeners.get(s);o&&o.forEach(a=>{if(a.name==r.triggerName){const u=dS(s,r.triggerName,r.fromState.value,r.toState.value);u._data=e,lS(r.player,a.phase,u,a.callback)}}),i.markedForDestroy?this._engine.afterFlush(()=>{i.destroy()}):t.push(r)}),this._queue=[],t.sort((r,i)=>{const s=r.transition.ast.depCount,o=i.transition.ast.depCount;return 0==s||0==o?s-o:this._engine.driver.containsElement(r.element,i.element)?1:-1})}destroy(e){this.players.forEach(t=>t.destroy()),this._signalRemovalForInnerTriggers(this.hostElement,e)}elementContainsData(e){let t=!1;return this._elementListeners.has(e)&&(t=!0),t=!!this._queue.find(r=>r.element===e)||t,t}}class Qhe{constructor(e,t,r){this.bodyNode=e,this.driver=t,this._normalizer=r,this.players=[],this.newHostElements=new Map,this.playersByElement=new Map,this.playersByQueriedElement=new Map,this.statesByElement=new Map,this.disabledNodes=new Set,this.totalAnimations=0,this.totalQueuedPlayers=0,this._namespaceLookup={},this._namespaceList=[],this._flushFns=[],this._whenQuietFns=[],this.namespacesByHostElement=new Map,this.collectedEnterElements=[],this.collectedLeaveElements=[],this.onRemovalComplete=(i,s)=>{}}_onRemovalComplete(e,t){this.onRemovalComplete(e,t)}get queuedPlayers(){const e=[];return this._namespaceList.forEach(t=>{t.players.forEach(r=>{r.queued&&e.push(r)})}),e}createNamespace(e,t){const r=new Khe(e,t,this);return this.bodyNode&&this.driver.containsElement(this.bodyNode,t)?this._balanceNamespaceList(r,t):(this.newHostElements.set(t,r),this.collectEnterElement(t)),this._namespaceLookup[e]=r}_balanceNamespaceList(e,t){const r=this._namespaceList,i=this.namespacesByHostElement;if(r.length-1>=0){let o=!1,a=this.driver.getParentElement(t);for(;a;){const u=i.get(a);if(u){const l=r.indexOf(u);r.splice(l+1,0,e),o=!0;break}a=this.driver.getParentElement(a)}o||r.unshift(e)}else r.push(e);return i.set(t,e),e}register(e,t){let r=this._namespaceLookup[e];return r||(r=this.createNamespace(e,t)),r}registerTrigger(e,t,r){let i=this._namespaceLookup[e];i&&i.register(t,r)&&this.totalAnimations++}destroy(e,t){if(!e)return;const r=this._fetchNamespace(e);this.afterFlush(()=>{this.namespacesByHostElement.delete(r.hostElement),delete this._namespaceLookup[e];const i=this._namespaceList.indexOf(r);i>=0&&this._namespaceList.splice(i,1)}),this.afterFlushAnimationsDone(()=>r.destroy(t))}_fetchNamespace(e){return this._namespaceLookup[e]}fetchNamespacesByElement(e){const t=new Set,r=this.statesByElement.get(e);if(r)for(let i of r.values())if(i.namespaceId){const s=this._fetchNamespace(i.namespaceId);s&&t.add(s)}return t}trigger(e,t,r,i){if(gm(t)){const s=this._fetchNamespace(e);if(s)return s.trigger(t,r,i),!0}return!1}insertNode(e,t,r,i){if(!gm(t))return;const s=t[br];if(s&&s.setForRemoval){s.setForRemoval=!1,s.setForMove=!0;const o=this.collectedLeaveElements.indexOf(t);o>=0&&this.collectedLeaveElements.splice(o,1)}if(e){const o=this._fetchNamespace(e);o&&o.insertNode(t,r)}i&&this.collectEnterElement(t)}collectEnterElement(e){this.collectedEnterElements.push(e)}markElementAsDisabled(e,t){t?this.disabledNodes.has(e)||(this.disabledNodes.add(e),Tr(e,SS)):this.disabledNodes.has(e)&&(this.disabledNodes.delete(e),qu(e,SS))}removeNode(e,t,r,i){if(gm(t)){const s=e?this._fetchNamespace(e):null;if(s?s.removeNode(t,i):this.markElementAsRemoved(e,t,!1,i),r){const o=this.namespacesByHostElement.get(t);o&&o.id!==e&&o.removeNode(t,i)}}else this._onRemovalComplete(t,i)}markElementAsRemoved(e,t,r,i,s){this.collectedLeaveElements.push(t),t[br]={namespaceId:e,setForRemoval:i,hasAnimation:r,removedBeforeQueried:!1,previousTriggersValues:s}}listen(e,t,r,i,s){return gm(t)?this._fetchNamespace(e).listen(t,r,i,s):()=>{}}_buildInstruction(e,t,r,i,s){return e.transition.build(this.driver,e.element,e.fromState.value,e.toState.value,r,i,e.fromState.options,e.toState.options,t,s)}destroyInnerAnimations(e){let t=this.driver.query(e,rm,!0);t.forEach(r=>this.destroyActiveAnimationsForElement(r)),0!=this.playersByQueriedElement.size&&(t=this.driver.query(e,mS,!0),t.forEach(r=>this.finishActiveQueriedAnimationOnElement(r)))}destroyActiveAnimationsForElement(e){const t=this.playersByElement.get(e);t&&t.forEach(r=>{r.queued?r.markedForDestroy=!0:r.destroy()})}finishActiveQueriedAnimationOnElement(e){const t=this.playersByQueriedElement.get(e);t&&t.forEach(r=>r.finish())}whenRenderingDone(){return new Promise(e=>{if(this.players.length)return Os(this.players).onDone(()=>e());e()})}processLeaveNode(e){const t=e[br];if(t&&t.setForRemoval){if(e[br]=IH,t.namespaceId){this.destroyInnerAnimations(e);const r=this._fetchNamespace(t.namespaceId);r&&r.clearElementCache(e)}this._onRemovalComplete(e,t.setForRemoval)}e.classList?.contains(SS)&&this.markElementAsDisabled(e,!1),this.driver.query(e,".ng-animate-disabled",!0).forEach(r=>{this.markElementAsDisabled(r,!1)})}flush(e=-1){let t=[];if(this.newHostElements.size&&(this.newHostElements.forEach((r,i)=>this._balanceNamespaceList(r,i)),this.newHostElements.clear()),this.totalAnimations&&this.collectedEnterElements.length)for(let r=0;r<this.collectedEnterElements.length;r++)Tr(this.collectedEnterElements[r],"ng-star-inserted");if(this._namespaceList.length&&(this.totalQueuedPlayers||this.collectedLeaveElements.length)){const r=[];try{t=this._flushAnimations(r,e)}finally{for(let i=0;i<r.length;i++)r[i]()}}else for(let r=0;r<this.collectedLeaveElements.length;r++)this.processLeaveNode(this.collectedLeaveElements[r]);if(this.totalQueuedPlayers=0,this.collectedEnterElements.length=0,this.collectedLeaveElements.length=0,this._flushFns.forEach(r=>r()),this._flushFns=[],this._whenQuietFns.length){const r=this._whenQuietFns;this._whenQuietFns=[],t.length?Os(t).onDone(()=>{r.forEach(i=>i())}):r.forEach(i=>i())}}reportError(e){throw function Qde(n){return new T(3402,!1)}()}_flushAnimations(e,t){const r=new hm,i=[],s=new Map,o=[],a=new Map,u=new Map,l=new Map,c=new Set;this.disabledNodes.forEach(L=>{c.add(L);const q=this.driver.query(L,".ng-animate-queued",!0);for(let J=0;J<q.length;J++)c.add(q[J])});const d=this.bodyNode,h=Array.from(this.statesByElement.keys()),f=CH(h,this.collectedEnterElements),p=new Map;let g=0;f.forEach((L,q)=>{const J=gS+g++;p.set(q,J),L.forEach(Ie=>Tr(Ie,J))});const m=[],_=new Set,I=new Set;for(let L=0;L<this.collectedLeaveElements.length;L++){const q=this.collectedLeaveElements[L],J=q[br];J&&J.setForRemoval&&(m.push(q),_.add(q),J.hasAnimation?this.driver.query(q,".ng-star-inserted",!0).forEach(Ie=>_.add(Ie)):I.add(q))}const v=new Map,C=CH(h,Array.from(_));C.forEach((L,q)=>{const J=tm+g++;v.set(q,J),L.forEach(Ie=>Tr(Ie,J))}),e.push(()=>{f.forEach((L,q)=>{const J=p.get(q);L.forEach(Ie=>qu(Ie,J))}),C.forEach((L,q)=>{const J=v.get(q);L.forEach(Ie=>qu(Ie,J))}),m.forEach(L=>{this.processLeaveNode(L)})});const x=[],F=[];for(let L=this._namespaceList.length-1;L>=0;L--)this._namespaceList[L].drainQueuedTransitions(t).forEach(J=>{const Ie=J.player,Ht=J.element;if(x.push(Ie),this.collectedEnterElements.length){const hn=Ht[br];if(hn&&hn.setForMove){if(hn.previousTriggersValues&&hn.previousTriggersValues.has(J.triggerName)){const ea=hn.previousTriggersValues.get(J.triggerName),Cr=this.statesByElement.get(J.element);if(Cr&&Cr.has(J.triggerName)){const _m=Cr.get(J.triggerName);_m.value=ea,Cr.set(J.triggerName,_m)}}return void Ie.destroy()}}const di=!d||!this.driver.containsElement(d,Ht),dr=v.get(Ht),Vs=p.get(Ht),ze=this._buildInstruction(J,r,Vs,dr,di);if(ze.errors&&ze.errors.length)return void F.push(ze);if(di)return Ie.onStart(()=>Zo(Ht,ze.fromStyles)),Ie.onDestroy(()=>ci(Ht,ze.toStyles)),void i.push(Ie);if(J.isFallbackTransition)return Ie.onStart(()=>Zo(Ht,ze.fromStyles)),Ie.onDestroy(()=>ci(Ht,ze.toStyles)),void i.push(Ie);const PH=[];ze.timelines.forEach(hn=>{hn.stretchStartingKeyframe=!0,this.disabledNodes.has(hn.element)||PH.push(hn)}),ze.timelines=PH,r.append(Ht,ze.timelines),o.push({instruction:ze,player:Ie,element:Ht}),ze.queriedElements.forEach(hn=>lr(a,hn,[]).push(Ie)),ze.preStyleProps.forEach((hn,ea)=>{if(hn.size){let Cr=u.get(ea);Cr||u.set(ea,Cr=new Set),hn.forEach((_m,RS)=>Cr.add(RS))}}),ze.postStyleProps.forEach((hn,ea)=>{let Cr=l.get(ea);Cr||l.set(ea,Cr=new Set),hn.forEach((_m,RS)=>Cr.add(RS))})});if(F.length){const L=[];F.forEach(q=>{L.push(function Yde(n,e){return new T(3505,!1)}())}),x.forEach(q=>q.destroy()),this.reportError(L)}const ae=new Map,ut=new Map;o.forEach(L=>{const q=L.element;r.has(q)&&(ut.set(q,q),this._beforeAnimationBuild(L.player.namespaceId,L.instruction,ae))}),i.forEach(L=>{const q=L.element;this._getPreviousPlayers(q,!1,L.namespaceId,L.triggerName,null).forEach(Ie=>{lr(ae,q,[]).push(Ie),Ie.destroy()})});const Xt=m.filter(L=>SH(L,u,l)),Sn=new Map;TH(Sn,this.driver,I,l,ki).forEach(L=>{SH(L,u,l)&&Xt.push(L)});const Qi=new Map;f.forEach((L,q)=>{TH(Qi,this.driver,new Set(L),u,"!")}),Xt.forEach(L=>{const q=Sn.get(L),J=Qi.get(L);Sn.set(L,new Map([...Array.from(q?.entries()??[]),...Array.from(J?.entries()??[])]))});const Hr=[],Wu=[],Ku={};o.forEach(L=>{const{element:q,player:J,instruction:Ie}=L;if(r.has(q)){if(c.has(q))return J.onDestroy(()=>ci(q,Ie.toStyles)),J.disabled=!0,J.overrideTotalTime(Ie.totalTime),void i.push(J);let Ht=Ku;if(ut.size>1){let dr=q;const Vs=[];for(;dr=dr.parentNode;){const ze=ut.get(dr);if(ze){Ht=ze;break}Vs.push(dr)}Vs.forEach(ze=>ut.set(ze,Ht))}const di=this._buildAnimation(J.namespaceId,Ie,ae,s,Qi,Sn);if(J.setRealPlayer(di),Ht===Ku)Hr.push(J);else{const dr=this.playersByElement.get(Ht);dr&&dr.length&&(J.parentPlayer=Os(dr)),i.push(J)}}else Zo(q,Ie.fromStyles),J.onDestroy(()=>ci(q,Ie.toStyles)),Wu.push(J),c.has(q)&&i.push(J)}),Wu.forEach(L=>{const q=s.get(L.element);if(q&&q.length){const J=Os(q);L.setRealPlayer(J)}}),i.forEach(L=>{L.parentPlayer?L.syncPlayerEvents(L.parentPlayer):L.destroy()});for(let L=0;L<m.length;L++){const q=m[L],J=q[br];if(qu(q,tm),J&&J.hasAnimation)continue;let Ie=[];if(a.size){let di=a.get(q);di&&di.length&&Ie.push(...di);let dr=this.driver.query(q,mS,!0);for(let Vs=0;Vs<dr.length;Vs++){let ze=a.get(dr[Vs]);ze&&ze.length&&Ie.push(...ze)}}const Ht=Ie.filter(di=>!di.destroyed);Ht.length?Xhe(this,q,Ht):this.processLeaveNode(q)}return m.length=0,Hr.forEach(L=>{this.players.push(L),L.onDone(()=>{L.destroy();const q=this.players.indexOf(L);this.players.splice(q,1)}),L.play()}),Hr}elementContainsData(e,t){let r=!1;const i=t[br];return i&&i.setForRemoval&&(r=!0),this.playersByElement.has(t)&&(r=!0),this.playersByQueriedElement.has(t)&&(r=!0),this.statesByElement.has(t)&&(r=!0),this._fetchNamespace(e).elementContainsData(t)||r}afterFlush(e){this._flushFns.push(e)}afterFlushAnimationsDone(e){this._whenQuietFns.push(e)}_getPreviousPlayers(e,t,r,i,s){let o=[];if(t){const a=this.playersByQueriedElement.get(e);a&&(o=a)}else{const a=this.playersByElement.get(e);if(a){const u=!s||s==Fd;a.forEach(l=>{l.queued||!u&&l.triggerName!=i||o.push(l)})}}return(r||i)&&(o=o.filter(a=>!(r&&r!=a.namespaceId||i&&i!=a.triggerName))),o}_beforeAnimationBuild(e,t,r){const s=t.element,o=t.isRemovalTransition?void 0:e,a=t.isRemovalTransition?void 0:t.triggerName;for(const u of t.timelines){const l=u.element,c=l!==s,d=lr(r,l,[]);this._getPreviousPlayers(l,c,o,a,t.toState).forEach(f=>{const p=f.getRealPlayer();p.beforeDestroy&&p.beforeDestroy(),f.destroy(),d.push(f)})}Zo(s,t.fromStyles)}_buildAnimation(e,t,r,i,s,o){const a=t.triggerName,u=t.element,l=[],c=new Set,d=new Set,h=t.timelines.map(p=>{const g=p.element;c.add(g);const m=g[br];if(m&&m.removedBeforeQueried)return new _c(p.duration,p.delay);const _=g!==u,I=function efe(n){const e=[];return DH(n,e),e}((r.get(g)||zhe).map(ae=>ae.getRealPlayer())).filter(ae=>!!ae.element&&ae.element===g),v=s.get(g),C=o.get(g),x=Zj(0,this._normalizer,0,p.keyframes,v,C),F=this._buildPlayer(p,x,I);if(p.subTimeline&&i&&d.add(g),_){const ae=new xS(e,a,g);ae.setRealPlayer(F),l.push(ae)}return F});l.forEach(p=>{lr(this.playersByQueriedElement,p.element,[]).push(p),p.onDone(()=>function Yhe(n,e,t){let r=n.get(e);if(r){if(r.length){const i=r.indexOf(t);r.splice(i,1)}0==r.length&&n.delete(e)}return r}(this.playersByQueriedElement,p.element,p))}),c.forEach(p=>Tr(p,aH));const f=Os(h);return f.onDestroy(()=>{c.forEach(p=>qu(p,aH)),ci(u,t.toStyles)}),d.forEach(p=>{lr(i,p,[]).push(f)}),f}_buildPlayer(e,t,r){return t.length>0?this.driver.animate(e.element,t,e.duration,e.delay,e.easing,r):new _c(e.duration,e.delay)}}class xS{constructor(e,t,r){this.namespaceId=e,this.triggerName=t,this.element=r,this._player=new _c,this._containsRealPlayer=!1,this._queuedCallbacks=new Map,this.destroyed=!1,this.markedForDestroy=!1,this.disabled=!1,this.queued=!0,this.totalTime=0}setRealPlayer(e){this._containsRealPlayer||(this._player=e,this._queuedCallbacks.forEach((t,r)=>{t.forEach(i=>lS(e,r,void 0,i))}),this._queuedCallbacks.clear(),this._containsRealPlayer=!0,this.overrideTotalTime(e.totalTime),this.queued=!1)}getRealPlayer(){return this._player}overrideTotalTime(e){this.totalTime=e}syncPlayerEvents(e){const t=this._player;t.triggerCallback&&e.onStart(()=>t.triggerCallback("start")),e.onDone(()=>this.finish()),e.onDestroy(()=>this.destroy())}_queueEvent(e,t){lr(this._queuedCallbacks,e,[]).push(t)}onDone(e){this.queued&&this._queueEvent("done",e),this._player.onDone(e)}onStart(e){this.queued&&this._queueEvent("start",e),this._player.onStart(e)}onDestroy(e){this.queued&&this._queueEvent("destroy",e),this._player.onDestroy(e)}init(){this._player.init()}hasStarted(){return!this.queued&&this._player.hasStarted()}play(){!this.queued&&this._player.play()}pause(){!this.queued&&this._player.pause()}restart(){!this.queued&&this._player.restart()}finish(){this._player.finish()}destroy(){this.destroyed=!0,this._player.destroy()}reset(){!this.queued&&this._player.reset()}setPosition(e){this.queued||this._player.setPosition(e)}getPosition(){return this.queued?0:this._player.getPosition()}triggerCallback(e){const t=this._player;t.triggerCallback&&t.triggerCallback(e)}}function gm(n){return n&&1===n.nodeType}function bH(n,e){const t=n.style.display;return n.style.display=e??"none",t}function TH(n,e,t,r,i){const s=[];t.forEach(u=>s.push(bH(u)));const o=[];r.forEach((u,l)=>{const c=new Map;u.forEach(d=>{const h=e.computeStyle(l,d,i);c.set(d,h),(!h||0==h.length)&&(l[br]=Whe,o.push(l))}),n.set(l,c)});let a=0;return t.forEach(u=>bH(u,s[a++])),o}function CH(n,e){const t=new Map;if(n.forEach(a=>t.set(a,[])),0==e.length)return t;const i=new Set(e),s=new Map;function o(a){if(!a)return 1;let u=s.get(a);if(u)return u;const l=a.parentNode;return u=t.has(l)?l:i.has(l)?1:o(l),s.set(a,u),u}return e.forEach(a=>{const u=o(a);1!==u&&t.get(u).push(a)}),t}function Tr(n,e){n.classList?.add(e)}function qu(n,e){n.classList?.remove(e)}function Xhe(n,e,t){Os(t).onDone(()=>n.processLeaveNode(e))}function DH(n,e){for(let t=0;t<n.length;t++){const r=n[t];r instanceof AF?DH(r.players,e):e.push(r)}}function SH(n,e,t){const r=t.get(n);if(!r)return!1;let i=e.get(n);return i?r.forEach(s=>i.add(s)):e.set(n,r),t.delete(n),!0}class mm{constructor(e,t,r){this.bodyNode=e,this._driver=t,this._normalizer=r,this._triggerCache={},this.onRemovalComplete=(i,s)=>{},this._transitionEngine=new Qhe(e,t,r),this._timelineEngine=new $he(e,t,r),this._transitionEngine.onRemovalComplete=(i,s)=>this.onRemovalComplete(i,s)}registerTrigger(e,t,r,i,s){const o=e+"-"+i;let a=this._triggerCache[o];if(!a){const u=[],c=wS(this._driver,s,u,[]);if(u.length)throw function Ude(n,e){return new T(3404,!1)}();a=function Lhe(n,e,t){return new Vhe(n,e,t)}(i,c,this._normalizer),this._triggerCache[o]=a}this._transitionEngine.registerTrigger(t,i,a)}register(e,t){this._transitionEngine.register(e,t)}destroy(e,t){this._transitionEngine.destroy(e,t)}onInsert(e,t,r,i){this._transitionEngine.insertNode(e,t,r,i)}onRemove(e,t,r,i){this._transitionEngine.removeNode(e,t,i||!1,r)}disableAnimations(e,t){this._transitionEngine.markElementAsDisabled(e,t)}process(e,t,r,i){if("@"==r.charAt(0)){const[s,o]=Xj(r);this._timelineEngine.command(s,t,o,i)}else this._transitionEngine.trigger(e,t,r,i)}listen(e,t,r,i,s){if("@"==r.charAt(0)){const[o,a]=Xj(r);return this._timelineEngine.listen(o,t,a,s)}return this._transitionEngine.listen(e,t,r,i,s)}flush(e=-1){this._transitionEngine.flush(e)}get players(){return this._transitionEngine.players.concat(this._timelineEngine.players)}whenRenderingDone(){return this._transitionEngine.whenRenderingDone()}}let rfe=(()=>{class n{constructor(t,r,i){this._element=t,this._startStyles=r,this._endStyles=i,this._state=0;let s=n.initialStylesByElement.get(t);s||n.initialStylesByElement.set(t,s=new Map),this._initialStyles=s}start(){this._state<1&&(this._startStyles&&ci(this._element,this._startStyles,this._initialStyles),this._state=1)}finish(){this.start(),this._state<2&&(ci(this._element,this._initialStyles),this._endStyles&&(ci(this._element,this._endStyles),this._endStyles=null),this._state=1)}destroy(){this.finish(),this._state<3&&(n.initialStylesByElement.delete(this._element),this._startStyles&&(Zo(this._element,this._startStyles),this._endStyles=null),this._endStyles&&(Zo(this._element,this._endStyles),this._endStyles=null),ci(this._element,this._initialStyles),this._state=3)}}return n.initialStylesByElement=new WeakMap,n})();function NS(n){let e=null;return n.forEach((t,r)=>{(function ife(n){return"display"===n||"position"===n})(r)&&(e=e||new Map,e.set(r,t))}),e}class AH{constructor(e,t,r,i){this.element=e,this.keyframes=t,this.options=r,this._specialStyles=i,this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._initialized=!1,this._finished=!1,this._started=!1,this._destroyed=!1,this._originalOnDoneFns=[],this._originalOnStartFns=[],this.time=0,this.parentPlayer=null,this.currentSnapshot=new Map,this._duration=r.duration,this._delay=r.delay||0,this.time=this._duration+this._delay}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(e=>e()),this._onDoneFns=[])}init(){this._buildPlayer(),this._preparePlayerBeforeStart()}_buildPlayer(){if(this._initialized)return;this._initialized=!0;const e=this.keyframes;this.domPlayer=this._triggerWebAnimation(this.element,e,this.options),this._finalKeyframe=e.length?e[e.length-1]:new Map,this.domPlayer.addEventListener("finish",()=>this._onFinish())}_preparePlayerBeforeStart(){this._delay?this._resetDomPlayerState():this.domPlayer.pause()}_convertKeyframesToObject(e){const t=[];return e.forEach(r=>{t.push(Object.fromEntries(r))}),t}_triggerWebAnimation(e,t,r){return e.animate(this._convertKeyframesToObject(t),r)}onStart(e){this._originalOnStartFns.push(e),this._onStartFns.push(e)}onDone(e){this._originalOnDoneFns.push(e),this._onDoneFns.push(e)}onDestroy(e){this._onDestroyFns.push(e)}play(){this._buildPlayer(),this.hasStarted()||(this._onStartFns.forEach(e=>e()),this._onStartFns=[],this._started=!0,this._specialStyles&&this._specialStyles.start()),this.domPlayer.play()}pause(){this.init(),this.domPlayer.pause()}finish(){this.init(),this._specialStyles&&this._specialStyles.finish(),this._onFinish(),this.domPlayer.finish()}reset(){this._resetDomPlayerState(),this._destroyed=!1,this._finished=!1,this._started=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}_resetDomPlayerState(){this.domPlayer&&this.domPlayer.cancel()}restart(){this.reset(),this.play()}hasStarted(){return this._started}destroy(){this._destroyed||(this._destroyed=!0,this._resetDomPlayerState(),this._onFinish(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach(e=>e()),this._onDestroyFns=[])}setPosition(e){void 0===this.domPlayer&&this.init(),this.domPlayer.currentTime=e*this.time}getPosition(){return this.domPlayer.currentTime/this.time}get totalTime(){return this._delay+this._duration}beforeDestroy(){const e=new Map;this.hasStarted()&&this._finalKeyframe.forEach((r,i)=>{"offset"!==i&&e.set(i,this._finished?r:fH(this.element,i))}),this.currentSnapshot=e}triggerCallback(e){const t="start"===e?this._onStartFns:this._onDoneFns;t.forEach(r=>r()),t.length=0}}class sfe{validateStyleProperty(e){return!0}validateAnimatableStyleProperty(e){return!0}matchesElement(e,t){return!1}containsElement(e,t){return rH(e,t)}getParentElement(e){return fS(e)}query(e,t,r){return iH(e,t,r)}computeStyle(e,t,r){return window.getComputedStyle(e)[t]}animate(e,t,r,i,s,o=[]){const u={duration:r,delay:i,fill:0==i?"both":"forwards"};s&&(u.easing=s);const l=new Map,c=o.filter(f=>f instanceof AH);(function lhe(n,e){return 0===n||0===e})(r,i)&&c.forEach(f=>{f.currentSnapshot.forEach((p,g)=>l.set(g,p))});let d=function she(n){return n.length?n[0]instanceof Map?n:n.map(e=>uH(e)):[]}(t).map(f=>Ls(f));d=function che(n,e,t){if(t.size&&e.length){let r=e[0],i=[];if(t.forEach((s,o)=>{r.has(o)||i.push(o),r.set(o,s)}),i.length)for(let s=1;s<e.length;s++){let o=e[s];i.forEach(a=>o.set(a,fH(n,a)))}}return e}(e,d,l);const h=function nfe(n,e){let t=null,r=null;return Array.isArray(e)&&e.length?(t=NS(e[0]),e.length>1&&(r=NS(e[e.length-1]))):e instanceof Map&&(t=NS(e)),t||r?new rfe(n,t,r):null}(e,d);return new AH(e,d,u,h)}}let ofe=(()=>{class n extends bF{constructor(t,r){super(),this._nextAnimationId=0,this._renderer=t.createRenderer(r.body,{id:"0",encapsulation:Sr.None,styles:[],data:{animation:[]}})}build(t){const r=this._nextAnimationId.toString();this._nextAnimationId++;const i=Array.isArray(t)?CF(t):t;return MH(this._renderer,null,r,"register",[i]),new afe(r,this._renderer)}}return n.\u0275fac=function(t){return new(t||n)(M(wl),M(nt))},n.\u0275prov=U({token:n,factory:n.\u0275fac}),n})();class afe extends class nZ{}{constructor(e,t){super(),this._id=e,this._renderer=t}create(e,t){return new ufe(this._id,e,t||{},this._renderer)}}class ufe{constructor(e,t,r,i){this.id=e,this.element=t,this._renderer=i,this.parentPlayer=null,this._started=!1,this.totalTime=0,this._command("create",r)}_listen(e,t){return this._renderer.listen(this.element,`@@${this.id}:${e}`,t)}_command(e,...t){return MH(this._renderer,this.element,this.id,e,t)}onDone(e){this._listen("done",e)}onStart(e){this._listen("start",e)}onDestroy(e){this._listen("destroy",e)}init(){this._command("init")}hasStarted(){return this._started}play(){this._command("play"),this._started=!0}pause(){this._command("pause")}restart(){this._command("restart")}finish(){this._command("finish")}destroy(){this._command("destroy")}reset(){this._command("reset"),this._started=!1}setPosition(e){this._command("setPosition",e)}getPosition(){return this._renderer.engine.players[+this.id]?.getPosition()??0}}function MH(n,e,t,r,i){return n.setProperty(e,`@@${t}:${r}`,i)}const xH="@.disabled";let lfe=(()=>{class n{constructor(t,r,i){this.delegate=t,this.engine=r,this._zone=i,this._currentId=0,this._microtaskId=1,this._animationCallbacksBuffer=[],this._rendererCache=new Map,this._cdRecurDepth=0,this.promise=Promise.resolve(0),r.onRemovalComplete=(s,o)=>{const a=o?.parentNode(s);a&&o.removeChild(a,s)}}createRenderer(t,r){const s=this.delegate.createRenderer(t,r);if(!(t&&r&&r.data&&r.data.animation)){let c=this._rendererCache.get(s);return c||(c=new NH("",s,this.engine),this._rendererCache.set(s,c)),c}const o=r.id,a=r.id+"-"+this._currentId;this._currentId++,this.engine.register(a,t);const u=c=>{Array.isArray(c)?c.forEach(u):this.engine.registerTrigger(o,a,t,c.name,c)};return r.data.animation.forEach(u),new cfe(this,a,s,this.engine)}begin(){this._cdRecurDepth++,this.delegate.begin&&this.delegate.begin()}_scheduleCountTask(){this.promise.then(()=>{this._microtaskId++})}scheduleListenerCallback(t,r,i){t>=0&&t<this._microtaskId?this._zone.run(()=>r(i)):(0==this._animationCallbacksBuffer.length&&Promise.resolve(null).then(()=>{this._zone.run(()=>{this._animationCallbacksBuffer.forEach(s=>{const[o,a]=s;o(a)}),this._animationCallbacksBuffer=[]})}),this._animationCallbacksBuffer.push([r,i]))}end(){this._cdRecurDepth--,0==this._cdRecurDepth&&this._zone.runOutsideAngular(()=>{this._scheduleCountTask(),this.engine.flush(this._microtaskId)}),this.delegate.end&&this.delegate.end()}whenRenderingDone(){return this.engine.whenRenderingDone()}}return n.\u0275fac=function(t){return new(t||n)(M(wl),M(mm),M(Pe))},n.\u0275prov=U({token:n,factory:n.\u0275fac}),n})();class NH{constructor(e,t,r){this.namespaceId=e,this.delegate=t,this.engine=r,this.destroyNode=this.delegate.destroyNode?i=>t.destroyNode(i):null}get data(){return this.delegate.data}destroy(){this.engine.destroy(this.namespaceId,this.delegate),this.delegate.destroy()}createElement(e,t){return this.delegate.createElement(e,t)}createComment(e){return this.delegate.createComment(e)}createText(e){return this.delegate.createText(e)}appendChild(e,t){this.delegate.appendChild(e,t),this.engine.onInsert(this.namespaceId,t,e,!1)}insertBefore(e,t,r,i=!0){this.delegate.insertBefore(e,t,r),this.engine.onInsert(this.namespaceId,t,e,i)}removeChild(e,t,r){this.engine.onRemove(this.namespaceId,t,this.delegate,r)}selectRootElement(e,t){return this.delegate.selectRootElement(e,t)}parentNode(e){return this.delegate.parentNode(e)}nextSibling(e){return this.delegate.nextSibling(e)}setAttribute(e,t,r,i){this.delegate.setAttribute(e,t,r,i)}removeAttribute(e,t,r){this.delegate.removeAttribute(e,t,r)}addClass(e,t){this.delegate.addClass(e,t)}removeClass(e,t){this.delegate.removeClass(e,t)}setStyle(e,t,r,i){this.delegate.setStyle(e,t,r,i)}removeStyle(e,t,r){this.delegate.removeStyle(e,t,r)}setProperty(e,t,r){"@"==t.charAt(0)&&t==xH?this.disableAnimations(e,!!r):this.delegate.setProperty(e,t,r)}setValue(e,t){this.delegate.setValue(e,t)}listen(e,t,r){return this.delegate.listen(e,t,r)}disableAnimations(e,t){this.engine.disableAnimations(e,t)}}class cfe extends NH{constructor(e,t,r,i){super(t,r,i),this.factory=e,this.namespaceId=t}setProperty(e,t,r){"@"==t.charAt(0)?"."==t.charAt(1)&&t==xH?this.disableAnimations(e,r=void 0===r||!!r):this.engine.process(this.namespaceId,e,t.slice(1),r):this.delegate.setProperty(e,t,r)}listen(e,t,r){if("@"==t.charAt(0)){const i=function dfe(n){switch(n){case"body":return document.body;case"document":return document;case"window":return window;default:return n}}(e);let s=t.slice(1),o="";return"@"!=s.charAt(0)&&([s,o]=function hfe(n){const e=n.indexOf(".");return[n.substring(0,e),n.slice(e+1)]}(s)),this.engine.listen(this.namespaceId,i,s,o,a=>{this.factory.scheduleListenerCallback(a._data||-1,r,a)})}return this.delegate.listen(e,t,r)}}let ffe=(()=>{class n extends mm{constructor(t,r,i,s){super(t.body,r,i)}ngOnDestroy(){this.flush()}}return n.\u0275fac=function(t){return new(t||n)(M(nt),M(pS),M(CS),M(is))},n.\u0275prov=U({token:n,factory:n.\u0275fac}),n})();const kH=[{provide:bF,useClass:ofe},{provide:CS,useFactory:function pfe(){return new Rhe}},{provide:mm,useClass:ffe},{provide:wl,useFactory:function gfe(n,e,t){return new lfe(n,e,t)},deps:[mf,mm,Pe]}],kS=[{provide:pS,useFactory:()=>new sfe},{provide:mR,useValue:"BrowserAnimations"},...kH],RH=[{provide:pS,useClass:sH},{provide:mR,useValue:"NoopAnimations"},...kH];let mfe=(()=>{class n{static withConfig(t){return{ngModule:n,providers:t.disableAnimations?RH:kS}}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=Nt({type:n}),n.\u0275inj=vt({providers:kS,imports:[O1]}),n})(),yfe=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=Nt({type:n,bootstrap:[VY]}),n.\u0275inj=vt({providers:[{provide:rS,useClass:yde,multi:!0}],imports:[O1,wF,eZ,sde,oJ.register("ngsw-worker.js",{enabled:true,registrationStrategy:"registerWhenStable:30000"}),mde,CZ.forRoot(),Bne(()=>$ne(Iw_firebase)),Bce(()=>qce()),mfe]}),n})();(function C6(){RR=!1})(),X7().bootstrapModule(yfe).catch(n=>console.error(n))}},me=>{me(me.s=277)}]);